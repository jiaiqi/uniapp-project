(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-specific-health-balancedDiet-balancedDiet","pages-specific-elementDetail-elementDetail~pages-specific-health-indicatorsDetails-dietUp-dietUp~pag~732a4936","pages-specific-health-dietSelect-dietSelect~pages-specific-health-otherIndicator-otherIndicator~page~d8dae104"],{"0087":function(t,e,i){var n=i("4dc4");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("05324cf7",n,!0,{sourceMap:!1,shadowMode:!1})},"09f0":function(t,e,i){"use strict";function n(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)if(i.push(o.value),e&&i.length===e)break}catch(l){a=!0,r=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(a)throw r}}return i}}i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"0d21":function(t,e,i){"use strict";function n(t){if(Array.isArray(t))return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},"143c":function(t,e,i){var n=i("74e8");n("Int32",(function(t){return function(e,i,n){return t(this,e,i,n)}}))},"158d":function(t,e,i){"use strict";i.r(e);var n=i("999a"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"19c9":function(t,e,i){"use strict";var n=i("4ea4");i("4160"),i("c975"),i("a15b"),i("fb6a"),i("4e82"),i("a434"),i("e25e"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("2909")),r={getHoliday:function(t){var e={"0101":"元旦","0214":"情人","0308":"妇女","0312":"植树","0401":"愚人","0501":"劳动","0504":"青年","0601":"儿童","0701":"建党","0801":"建军","0903":"抗日","0910":"教师",1001:"国庆",1031:"万圣",1224:"平安",1225:"圣诞"},i=this.format(t,"mmdd");return!!e[i]&&e[i]},parse:function(t){return new Date(t.replace(/(年|月|-)/g,"/").replace(/(日)/g,""))},isSameDay:function(t,e){return t.getMonth()==e.getMonth()&&t.getFullYear()==e.getFullYear()&&t.getDate()==e.getDate()},format:function(t,e){var i={"m+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"i+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3)};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},inverse:function(t,e){var i={y:"",m:"",d:"",h:"",i:"",s:""},n=new Date;if(t.length!=e.length)return n;for(var a in e)void 0!=i[e[a]]&&(i[e[a]]+=t[a]);return i.y&&n.setFullYear(i.y.length<4?(n.getFullYear()+"").substr(0,4-i.y.length)+i.y:i.y),i.m&&n.setMonth(i.m-1,1),i.d&&n.setDate(i.d-0),i.h&&n.setHours(i.h-0),i.i&&n.setMinutes(i.i-0),i.s&&n.setSeconds(i.s-0),n},getCalendar:function(t,e){var i=new Date(t),n=[];i.setDate(1),i.setDate(i.getDate()-((0==i.getDay()?7:i.getDay())-1));for(var a=0;a<42;a++){var r={dateObj:new Date(i),title:i.getDate(),isOtherMonth:i.getMonth()<t.getMonth()||i.getMonth()>t.getMonth()};n.push(Object.assign(r,e?e(r):{})),i.setDate(i.getDate()+1)}return n},getDateToMonth:function(t,e){var i=new Date(t);return i.setMonth(e,1),i},formatTimeArray:function(t,e){var i=(0,a.default)(t);return e||(i.length=2),i.forEach((function(t,e){return i[e]=("0"+t).slice(-2)})),i.join(":")}},o={props:{color:{type:String,default:"#409eff"},showSeconds:{type:Boolean,default:!1},value:[String,Array],type:{type:String,default:"range"},show:{type:Boolean,default:!1},format:{type:String,default:""},showHoliday:{type:Boolean,default:!0},showTips:{type:Boolean,default:!1},beginText:{type:String,default:"开始"},endText:{type:String,default:"结束"}},data:function(){return{isShow:!1,isMultiSelect:!1,isContainTime:!1,date:{},weeks:["一","二","三","四","五","六","日"],title:"初始化",calendars:[[],[],[]],calendarIndex:1,checkeds:[],showTimePicker:!1,timeValue:[0,0,0],timeType:"begin",beginTime:[0,0,0],endTime:[0,0,0]}},methods:{setValue:function(t){var e=this;this.date=new Date,this.checkeds=[],this.isMultiSelect=this.type.indexOf("range")>=0,this.isContainTime=this.type.indexOf("time")>=0;var i=function(t){return e.format?r.inverse(t,e.format):r.parse(t)};if(t){if(this.isMultiSelect)Array.isArray(t)&&t.forEach((function(t,n){var a=i(t),r=[a.getHours(),a.getMinutes(),a.getSeconds()];0==n?e.beginTime=r:e.endTime=r,e.checkeds.push(a)}));else if("time"==this.type){var n=i("2019/1/1 "+t);this.beginTime=[n.getHours(),n.getMinutes(),n.getSeconds()],this.onShowTimePicker("begin")}else this.checkeds.push(i(t)),this.isContainTime&&(this.beginTime=[this.checkeds[0].getHours(),this.checkeds[0].getMinutes(),this.checkeds[0].getSeconds()]);this.checkeds.length&&(this.date=new Date(this.checkeds[0]))}else this.isContainTime&&(this.beginTime=[this.date.getHours(),this.date.getMinutes(),this.date.getSeconds()],this.isMultiSelect&&(this.endTime=(0,a.default)(this.beginTime))),this.checkeds.push(new Date(this.date));"time"!=this.type?this.refreshCalendars(!0):this.onShowTimePicker("begin")},onSetYear:function(t){this.date.setFullYear(this.date.getFullYear()+parseInt(t)),this.refreshCalendars(!0)},onSetMonth:function(t){this.date.setMonth(this.date.getMonth()+parseInt(t)),this.refreshCalendars(!0)},onTimeChange:function(t){this.timeValue=t.detail.value},onShowTimePicker:function(t){this.showTimePicker=!0,this.timeType=t,this.timeValue="begin"==t?(0,a.default)(this.beginTime):(0,a.default)(this.endTime)},procCalendar:function(t){var e=this;if(t.statusStyle={opacity:1,color:t.isOtherMonth?"#ddd":"#000",background:"transparent"},t.bgStyle={type:"",background:"transparent"},t.dotStyle={opacity:1,background:"transparent"},t.tips="",r.isSameDay(new Date,t.dateObj)&&(t.statusStyle.color=this.color,t.isOtherMonth&&(t.statusStyle.opacity=.3)),this.checkeds.forEach((function(i){r.isSameDay(i,t.dateObj)&&(t.statusStyle.background=e.color,t.statusStyle.color="#fff",t.statusStyle.opacity=1,e.isMultiSelect&&e.showTips&&(t.tips=e.beginText))})),t.statusStyle.background!=this.color){var i=!!this.showHoliday&&r.getHoliday(t.dateObj);(i||r.isSameDay(new Date,t.dateObj))&&(t.title=i||t.title,t.dotStyle.background=this.color,t.isOtherMonth&&(t.dotStyle.opacity=.2))}else t.title=t.dateObj.getDate();2==this.checkeds.length&&(r.isSameDay(this.checkeds[0],t.dateObj)&&(t.bgStyle.type="bgbegin"),r.isSameDay(this.checkeds[1],t.dateObj)&&(this.isMultiSelect&&this.showTips&&(t.tips=t.bgStyle.type?this.beginText+" / "+this.endText:this.endText),t.bgStyle.type?t.bgStyle.type="":t.bgStyle.type="bgend"),!t.bgStyle.type&&+t.dateObj>+this.checkeds[0]&&+t.dateObj<+this.checkeds[1]&&(t.bgStyle.type="bg",t.statusStyle.color=this.color),t.bgStyle.type&&(t.bgStyle.background=this.color,t.dotStyle.opacity=1,t.statusStyle.opacity=1))},refreshCalendars:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new Date(this.date),i=r.getDateToMonth(e,e.getMonth()-1),n=r.getDateToMonth(e,e.getMonth()+1);0==this.calendarIndex?(t&&this.calendars.splice(0,1,r.getCalendar(e,this.procCalendar)),this.calendars.splice(1,1,r.getCalendar(n,this.procCalendar)),this.calendars.splice(2,1,r.getCalendar(i,this.procCalendar))):1==this.calendarIndex?(this.calendars.splice(0,1,r.getCalendar(i,this.procCalendar)),t&&this.calendars.splice(1,1,r.getCalendar(e,this.procCalendar)),this.calendars.splice(2,1,r.getCalendar(n,this.procCalendar))):2==this.calendarIndex&&(this.calendars.splice(0,1,r.getCalendar(n,this.procCalendar)),this.calendars.splice(1,1,r.getCalendar(i,this.procCalendar)),t&&this.calendars.splice(2,1,r.getCalendar(e,this.procCalendar))),this.title=r.format(this.date,"yyyy年mm月")},onSwiperChange:function(t){this.calendarIndex=t.detail.current;var e=this.calendars[this.calendarIndex];this.date=new Date(e[22].dateObj),this.refreshCalendars()},onSelectDate:function(t){var e=this;(~this.type.indexOf("range")&&2==this.checkeds.length||!~this.type.indexOf("range")&&this.checkeds.length)&&(this.checkeds=[]),this.checkeds.push(new Date(t.dateObj)),this.checkeds.sort((function(t,e){return t-e})),this.calendars.forEach((function(t){t.forEach(e.procCalendar)}))},onCancelTime:function(){this.showTimePicker=!1,"time"==this.type&&this.onCancel()},onConfirmTime:function(){"begin"==this.timeType?this.beginTime=this.timeValue:this.endTime=this.timeValue,this.showTimePicker=!1,"time"==this.type&&this.onConfirm()},onCancel:function(){this.$emit("cancel",!1)},onConfirm:function(){var t=this,e={value:null,date:null},i={date:"yyyy/mm/dd",time:"hh:ii"+(this.showSeconds?":ss":""),datetime:""};i["datetime"]=i.date+" "+i.time;var n=function(e,i){e.setHours(i[0],i[1]),t.showSeconds&&e.setSeconds(i[2])};if("time"==this.type){var a=new Date;n(a,this.beginTime),e.value=r.format(a,this.format?this.format:i.time),e.date=a}else if(this.isMultiSelect){var o=[],s=[];if(this.checkeds.length<2)return uni.showToast({icon:"none",title:"请选择两个日期"});this.checkeds.forEach((function(e,a){var l=new Date(e);if(t.isContainTime){var c=[t.beginTime,t.endTime];n(l,c[a])}o.push(r.format(l,t.format?t.format:i[t.isContainTime?"datetime":"date"])),s.push(l)})),e.value=o,e.date=s}else{var l=new Date(this.checkeds[0]);this.isContainTime&&(l.setHours(this.beginTime[0],this.beginTime[1]),this.showSeconds&&l.setSeconds(this.beginTime[2])),e.value=r.format(l,this.format?this.format:i[this.isContainTime?"datetime":"date"]),e.date=l}this.$emit("confirm",e)}},computed:{BeginTitle:function(){var t="未选择";return this.checkeds.length&&(t=r.format(this.checkeds[0],"yy/mm/dd")),t},EndTitle:function(){var t="未选择";return 2==this.checkeds.length&&(t=r.format(this.checkeds[1],"yy/mm/dd")),t},PickerTimeTitle:function(){return r.formatTimeArray(this.timeValue,this.showSeconds)},BeginTimeTitle:function(){return"未选择"!=this.BeginTitle?r.formatTimeArray(this.beginTime,this.showSeconds):""},EndTimeTitle:function(){return"未选择"!=this.EndTitle?r.formatTimeArray(this.endTime,this.showSeconds):""}},watch:{show:function(t,e){t&&this.setValue(this.value),this.isShow=t},value:function(t,e){var i=this;setTimeout((function(){i.setValue(t)}),0)}}};e.default=o},"1ea3":function(t,e,i){"use strict";var n=i("b686"),a=i.n(n);a.a},2120:function(t,e,i){"use strict";var n=i("4ea4");i("ac1f"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5530")),r=n(i("f170")),o={props:{canvasId:{type:String,default:"ec-canvas"},lazyLoad:{type:Boolean,default:!1},disableTouch:{type:Boolean,default:!1},throttleTouch:{type:Boolean,default:!1}},mounted:function(){this.lazyLoad||this.init()},methods:{setChart:function(t){this.chart=t},init:function(){var t=this,e=this.canvasId;this.ctx=wx.createCanvasContext(e,this),this.canvas=new r.default(this.ctx,e);var i=wx.createSelectorQuery().in(this);i.select("#".concat(e)).boundingClientRect((function(e){e?t.$emit("onInit",{width:e.width,height:e.height}):setTimeout((function(){return t.init()}),50)})).exec()},canvasToTempFilePath:function(t){var e=this.canvasId;this.ctx.draw(!0,(function(){wx.canvasToTempFilePath((0,a.default)({canvasId:e},t))}))},touchStart:function(t){var e=this.disableTouch,i=this.chart;if(!e&&i&&t.mp.touches.length){var n=t.mp.touches[0];i._zr.handler.dispatch("mousedown",{zrX:n.x,zrY:n.y}),i._zr.handler.dispatch("mousemove",{zrX:n.x,zrY:n.y})}},touchMove:function(t){var e=this.disableTouch,i=this.throttleTouch,n=this.chart,a=this.lastMoveTime;if(!e&&n&&t.mp.touches.length){if(i){var r=Date.now();if(r-a<240)return;this.lastMoveTime=r}var o=t.mp.touches[0];n._zr.handler.dispatch("mousemove",{zrX:o.x,zrY:o.y})}},touchEnd:function(t){var e=this.disableTouch,i=this.chart;if(!e&&i){var n=t.mp.changedTouches?t.mp.changedTouches[0]:{};i._zr.handler.dispatch("mouseup",{zrX:n.x,zrY:n.y}),i._zr.handler.dispatch("click",{zrX:n.x,zrY:n.y})}}}};e.default=o},"27e6":function(t,e,i){var n=i("a519");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("fd799ae4",n,!0,{sourceMap:!1,shadowMode:!1})},"2b85":function(t,e,i){"use strict";i.r(e);var n=i("528b"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},3835:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var n=s(i("0d21")),a=s(i("09f0")),r=s(i("06c5")),o=s(i("3d8c"));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){return(0,n.default)(t)||(0,a.default)(t,e)||(0,r.default)(t,e)||(0,o.default)()}},"3b41":function(t,e,i){"use strict";(function(t){var n=i("dbce"),a=i("4ea4");i("99af"),i("4de4"),i("4160"),i("c975"),i("a15b"),i("d81d"),i("4e82"),i("a9e3"),i("d3b7"),i("e25e"),i("25f0"),i("6062"),i("3ca3"),i("498a"),i("159b"),i("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i("2909"));i("96cf");var o,s=a(i("1da1")),l=a(i("b430")),c=a(i("d473")),h=a(i("eaae")),u=a(i("f1f1")),d=a(i("555f")),f=n(i("a6f9")),p={components:{MxDatePicker:l.default,xflSelect:c.default,bxform:h.default,uniCharts:u.default,guageChart:d.default},data:function(){return{foodListDisplay:!1,sportListDisplay:!1,showEditModal:!1,subColor:"#999",subIndex:4,cWidth:"",cHeight:"",pixelRatio:1,gaugeWidth:15,backTextStyle:{color:"#333"},radioArr:[{key:"全部",name:"全部",label:"全部(17)",value:"all",num:0},{key:"不足",name:"不足",label:"不足(17)",value:"lack",num:0},{key:"正常",name:"正常",label:"正常(0)",value:"normal",num:0},{key:"过高",name:"过高",label:"过高(0)",value:"over",num:0}],selectRadio:"",field:{},symptomList:[],list:["苹果",{value:"香蕉",disabled:!0},"葡萄","芒果","大白菜"],refresh:!1,PageCur:"basics",radio:"",loginUserInfo:{},dietRecord:[],sportsRecord:[],timeType:"time",showTimePicker:!1,dateFormat:"hh:ii:ss",timeValue:"",dietIn:0,sportOut:0,editable:!1,currentType:"food",currentData:[],currentRecord:{},currentRecordType:{},currentColumn:"",currentIndex:0,currentVal:0,nowDate:this.formateDate(new Date,"date"),selectDate:this.formateDate(new Date,"date"),addType:"food",onSelect:"",onEditor:"",formData:{userno:"",hdate:this.formateDate(new Date,"date"),htime:"",name:"",amount:"",unit:"",energy:""},sportType:[],foodType:[],pageInfo:{total:0,pageNo:1,rownumber:10},picker:[],pickerIndex:-1,foodList:[],sportList:[],wxUserInfo:{},unit_energy:"",KeepDays:"",symptomDiseaseList:[],diseaseList:[],energyListWrap:[{title:"有机物",units:"g/d",matterList:[{label:"蛋白",name:"蛋白",shortName:"蛋白",key:"protein",EAR:.9,UL:0,value:0}]},{title:"脂溶性维生素",units:"ug/d",matterList:[{label:"维生素A",name:"VA",shortName:"A",key:"vitamin_a",EAR:560,UL:3e3,value:0},{label:"维生素E",name:"VE",shortName:"E",EAR:14,key:"vitamin_e",UL:700,value:0}]},{title:"水溶性维生素",units:"mg/d",matterList:[{label:"维生素B1",name:"VB1",shortName:"B1",key:"vitamin_b1",EAR:1.3,UL:0,value:0},{label:"维生素B2",name:"B2",shortName:"B2",key:"vitamin_b2",EAR:1.3,UL:0,value:0},{label:"烟酸(vb3)",shortName:"B3",name:"烟酸",EAR:12,key:"vitamin_b3",UL:0,value:0},{label:"叶酸",shortName:"B9",name:"叶酸",EAR:.32,key:"folic_acid",UL:0,value:0},{label:"维生素C",shortName:"C",name:"VC",EAR:85,key:"vitamin_c",UL:0,value:0}]},{title:"常量矿物质",units:"mg/d",matterList:[{label:"钙",name:"钙",shortName:"钙",EAR:650,UL:2e3,key:"element_ca",value:0},{label:"磷",name:"磷",shortName:"磷",EAR:600,UL:3500,key:"element_p",value:0},{label:"镁",name:"镁",shortName:"镁",EAR:280,UL:1e3,key:"element_mg",value:0},{label:"钾",shortName:"钾",name:"钾",EAR:2e3,UL:3600,key:"element_k",value:0}]},{title:"微量元素",units:"mg/d",matterList:[{name:"铁",label:"铁",shortName:"铁",EAR:12,UL:50,key:"element_fe",value:0},{name:"锌",label:"锌",shortName:"锌",EAR:12.5,UL:45,key:"element_zn",value:0},{label:"硒",name:"硒",shortName:"硒",EAR:50,UL:80,key:"element_se",value:0},{name:"铜",label:"铜",shortName:"铜",EAR:.6,UL:8,key:"element_cu",value:0},{label:"锰",shortName:"锰",name:"锰",EAR:4.5,UL:11,key:"element_mn",value:0}]}],energyList:[]}},props:{userInfo:{type:Object,required:!0,default:function(){}}},watch:{symptomList:{handler:function(e,i){t.log("-----------"),Array.isArray(e)&&e.length>0?this.getSymptomDiseaseList(e):this.diseaseList=[]}},timeType:function(t,e){"time"===t?this.dateFormat="hh:ii:ss":"date"===t&&(this.dateFormat="yyyy-mm-dd")}},computed:{bx_auth_ticket:function(){return uni.getStorageSync("bx_auth_ticket")},currentDietImgUrl:function(){var t=this.currentRecord;if(t&&t.image)return this.$api.downloadFile+t["image"]+"&bx_auth_ticket="+uni.getStorageSync("bx_auth_ticket")},hasRecord:function(){return this.dietRecord.length>0},energyChange:function(){return Number(this.dietIn)-Number(this.sportOut)-Number(this.basicOut)},age:function(){if(this.userInfo.birthday){var t=(new Date).getFullYear()-new Date(this.userInfo.birthday).getFullYear();return t}},basicOut:function(){return"男"===this.userInfo.sex?this.age>=60?13.4*this.userInfo.weight+490:this.age>=31&&this.age<60?11.5*this.userInfo.weight+830:15.2*this.userInfo.weight+600:this.age>=60?10.4*this.userInfo.weight+600:this.age>=31&&this.age<=60?8.6*this.userInfo.weight+830:14*this.userInfo.weight+450}},methods:{toAddDiet:function(){var t=this,e=this.deepClone(this.energyListWrap),i=[];e.forEach((function(e){e.matterList.forEach((function(e){t.dietRecord.length>0&&e.EAR>e.value&&(e.diff=e.value/e.EAR,i.push(e))}))})),i=i.sort((function(t,e){return t.diff-e.diff}));var n={type:"food",serviceName:"srvhealth_diet_contents_select",colName:"name",imgCol:"image",wordKey:{title:"name",unit:"unit",energy:"unit_energy"}};i.length>0&&(n.order=[{colName:i[0].key,orderType:"desc"}]);var a="/pages/specific/health/dietSelect/dietSelect?condType="+encodeURIComponent(JSON.stringify(n));uni.navigateTo({url:a})},getFoodList:function(t){var e=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var n,a,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.map((function(t){return t.name})),a=e.getServiceUrl("health","srvhealth_diet_contents_select","select"),r={serviceName:"srvhealth_diet_contents_select",colNames:["*"],condition:[{colName:"name",ruleType:"in",value:n.toString()}]},i.next=5,e.$http.post(a,r);case 5:if(o=i.sent,"SUCCESS"!==o.data.state){i.next=9;break}return t=t.map((function(t){var e=null;return o.data.data.map((function(i){i.name===t.name&&(e=Object.assign(i,t))})),e})),i.abrupt("return",t);case 9:case"end":return i.stop()}}),i)})))()},buildChartData:function(t){var e=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var n,a,r,o,s,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=t.energy,a=t.diet,i.next=3,e.getFoodList(a);case 3:return r=i.sent,e.foodList=r,o={chartName:" ",chartId:"",units:"",chartOption:{color:[],legend:{data:[],show:!0,orient:"vertical",right:"3%",top:"top"},grid:{top:"5%",left:"3%",right:"100",bottom:"0",containLabel:!0},xAxis:{type:"category"},yAxis:{type:"value"},series:[]}},s=[],l=["最高","最低"],n.forEach((function(t){var i=e.deepClone(o);i.chartName=t.title,i.chartId=t.title,i.units=t.units,i.chartOption.color=["#f49d13","#28ebb1","#f6d748","#9967FA","#44aff0","#d34e58","#f49d13","#f6d748","#9967FA","#44aff0"],i.chartOption.legend.data=a.map((function(t){return t.name})).concat(l),i.chartOption.xAxis.data=t.matterList.map((function(t){return t.key})),i.chartOption.series=r.map((function(t){var e={name:t.name,type:"bar",stack:"总量",label:{normal:{show:!1}},data:[]};return i.chartOption.xAxis.data.map((function(i){t[i]?e.data.push(t.amount*t[i]):e.data.push(0)})),e}));var n=[];l.forEach((function(e,a){var r={name:e,type:"line",sampling:"average",areaStyle:{normal:{color:new f.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(40,235,177,0.5)"},{offset:1,color:"rgba(244,157,19,0.5)"}])}},label:{normal:{show:!1}},data:[]};r.areaStyle.normal.color=0===a?"rgba(40,235,177,0.2)":"rgba(244,157,19,0.2)",t.matterList.forEach((function(t){i.chartOption.xAxis.data.forEach((function(i){t.key===i&&("最低"===e?r.data.push(t.EAR):r.data.push(t.UL))}))})),n.push(r),i.chartOption.series.unshift(r)})),i.chartOption.xAxis.data=t.matterList.map((function(t){return t.name})),s.push(i)})),i.abrupt("return",s);case 10:case"end":return i.stop()}}),i)})))()},changeCurrentVal:function(t){"minus"===t?this.currentRecord.amount>=1&&(this.currentRecord.amount=this.currentRecord.amount-.5):this.currentRecord.amount=this.currentRecord.amount+.5},toDetail:function(t,e){t.units=e.units,uni.navigateTo({url:"/pages/specific/elementDetail/elementDetail?data="+JSON.stringify(t)+"&user_no="+this.loginUserInfo.user_no+"&date="+this.selectDate})},toChart:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.dietRecord.length){e.next=2;break}return e.abrupt("return");case 2:return i={energy:t.energyListWrap,diet:t.dietRecord},e.next=5,t.buildChartData(i);case 5:n=e.sent,uni.setStorageSync("chartList",n),uni.navigateTo({url:"/pages/specific/health/nutrientRatio/nutrientRatio?date="+t.selectDate,complete:function(){uni.$emit("sendEnergyList",n)}});case 8:case"end":return e.stop()}}),e)})))()},getSymptomDiseaseList:function(t){var e=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var n,a,o,s,l,c,h;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(Array.isArray(t)&&t.length>0)){i.next=10;break}if(n=t.map((function(t){return t.no})),a=n.toString(),!a){i.next=10;break}return o=e.getServiceUrl("health","srvhealth_symptoms_disease_select","select"),s={serviceName:"srvhealth_symptoms_disease_select",colNames:["*"],condition:[{colName:"symptoms_no",ruleType:"in",value:a}]},i.next=8,e.$http.post(o,s);case 8:l=i.sent,"SUCCESS"===l.data.state&&Array.isArray(l.data.data)&&(c=l.data.data.map((function(t){return{disease_no:t.disease_no,disease_name:t._disease_no_disp,symptoms_no:t.symptoms_no,symptoms_name:t._symptoms_no_disp}})),h=c.map((function(t){return t.disease_name})),h=(0,r.default)(new Set(h)),c=h.map((function(t){var e={disease_name:t,disease_no:"",symptoms_info:[]};return c.map((function(i){t===i.disease_name&&(e.disease_no=i.disease_no,e.symptoms_info.push({no:i.symptoms_no,name:i.symptoms_name}))})),e})),e.diseaseList=c);case 10:case"end":return i.stop()}}),i)})))()},changeSub:function(e,i,n){t.log(e),this.subIndex!==e||i?this.subIndex=e:this.subIndex=4;var a=this.deepClone(this.energyListWrap);switch(n&&(a=this.deepClone(n)),this.energyList.length=0,this.subIndex){case 0:this.subColor="#5098ff",this.energyList=a;break;case 1:this.subColor="#999",this.energyList=a.filter((function(t){return t.matterList=t.matterList.filter((function(t){return t.value<t.EAR})),t.matterList.length>0}));break;case 2:this.subColor="rgb(141, 198, 63)",this.energyList=a.filter((function(t){return t.matterList=t.matterList.filter((function(t){return t.UL?t.value>=t.EAR&&t.value<=t.UL:t.value>=t.EAR})),t.matterList.length>0}));break;case 3:this.subColor="#ff9900",this.energyList=a.filter((function(t){return t.matterList=t.matterList.filter((function(t){return!!t.UL&&t.value>t.UL})),t.matterList.length>0}));break;case 4:this.energyList=[];break}},toPersonal:function(){uni.navigateTo({url:"/pages/specific/health/personalDetail/personalDetail?type=person"})},addSymptom:function(){var t={serviceName:"srvhealth_self_symptoms_select",srvApp:"health",key:"name",type:"symptom"};uni.navigateTo({url:"/pages/specific/health/symptomSelect/symptomSelect3?term="+encodeURIComponent(JSON.stringify(t))})},procEleData:function(){var t=this.energyList;t.forEach((function(t){t.matterList.forEach((function(t){parseInt(t.value)<=parseInt(t.EAR)||parseInt(t.value)>=parseInt(t.UL)?t["status"]="anomaly":t["status"]="regular"}))}))},toAdd:function(){uni.navigateTo({url:"/pages/specific/health/balancedDiet/balancedDietDetail"})},getKeepDays:function(){var e=this,i=this.getServiceUrl("health","srvhealth_diet_record_select","select"),n={serviceName:"srvhealth_diet_record_select",colNames:["*"],condition:[{colName:"userno",ruleType:"like",value:this.loginUserInfo.user_no}],group:[{colName:"hdate",type:"distinct_count"}]};this.$http.post(i,n).then((function(i){t.log(i.data.data),"SUCCESS"===i.data.state&&(e.KeepDays=i.data.data[0].hdate)}))},selectChange:function(t){var e=this;if(t.newVal){this.formData["name"]=t.newVal;var i=[];"food"===this.addType?i=this.foodType:"sport"===this.addType&&(i=this.sportType),i.forEach((function(i){i.name===t.newVal&&(e.unit_energy=i.unit_energy,e.formData["unit"]=i.unit)}))}},UpdateDietInfo:function(){var e=this;return(0,s.default)(regeneratorRuntime.mark((function i(){var n,a,r,o,s,l,c,h,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=e,a=e.deepClone(e.currentRecord),r="srvhealth_diet_record_update",o=[{colName:"name",ruleType:"eq",value:a.name}],i.next=6,e.getFoodType(o);case 6:if(s=i.sent,l=null,"sport"!==e.currentRecordType){i.next=13;break}return r="srvhealth_body_activity_record_update",i.next=12,e.getSportType(o);case 12:s=i.sent;case 13:return Array.isArray(s)&&s.length>0&&(l=s[0],a.energy=a.amount*l.unit_energy),c=e.getServiceUrl("health",r,"operate"),h=[{serviceName:r,condition:[{colName:"id",ruleType:"eq",value:a.id}],data:[{amount:a.amount,energy:a.energy}]}],i.next=18,e.$http.post(c,h);case 18:if(u=i.sent,"SUCCESS"!==u.data.state){i.next=26;break}return i.next=22,n.getDietRecord();case 22:return i.next=24,n.getSportsRecord();case 24:t.log(n.elementData),n.showEditModal=!1;case 26:case"end":return i.stop()}}),i)})))()},deleteItem:function(t){var e=this,i=this.currentRecordType;uni.showModal({title:"提示",content:"确定删除此条记录?",success:function(n){if(n.confirm){uni.showLoading({mask:!0,title:"正在删除..."}),e.showEditModal=!1;var a="",r="";"food"===i?(a="srvhealth_diet_record_delete",r=e.getServiceUrl("health","srvhealth_diet_record_delete","operate")):"sport"===i&&(a="srvhealth_body_activity_record_delete",r=e.getServiceUrl("health","srvhealth_body_activity_record_delete","operate"));var o=[{serviceName:a,condition:[{colName:"id",ruleType:"in",value:t.id}]}];e.$http.post(r,o).then((function(t){uni.hideLoading(),"SUCCESS"===t.data.resultCode?("food"===i?e.getDietRecord():"sport"===i&&e.getSportsRecord(),uni.showToast({title:"删除成功!",icon:"none"})):uni.showToast({title:"删除失败!",icon:"none"})}))}else n.cancel&&uni.showToast({title:"取消删除",icon:"none"})}})},updateData:function(e,i){var n=this,a="",r={},o={};o[this.currentColumn]=this.currentVal,"food"===i?(this.foodType.forEach((function(t){t.name===e.name&&(o["energy"]=t.unit_energy*o[n.currentColumn])})),"srvhealth_diet_record_update",a=this.getServiceUrl("health","srvhealth_diet_record_update","operate"),r=[{serviceName:"srvhealth_diet_record_update",condition:[{colName:"id",ruleType:"eq",value:e.id}],data:[o]}],this.$http.post(a,r).then((function(e){t.log(e.data),"SUCCESS"===e.data.resultCode&&(uni.showToast({title:"修改成功"}),n.getDietRecord())}))):"sport"===i&&(this.sportType.forEach((function(t){t.name===e.name&&(o["energy"]=t.unit_energy*o[n.currentColumn])})),this.sportType.forEach((function(t){t.name===e.name&&(o["energy"]=t.unit_energy*o[n.currentColumn])})),"srvhealth_body_activity_record_update",a=this.getServiceUrl("health","srvhealth_body_activity_record_update","operate"),r=[{serviceName:"srvhealth_body_activity_record_update",condition:[{colName:"id",ruleType:"eq",value:e.id}],data:[o]}],this.$http.post(a,r).then((function(e){t.log(e.data),"SUCCESS"===e.data.resultCode&&(uni.showToast({title:"修改成功"}),n.getSportsRecord())})))},changeDate:function(){this.dateFormat="yyyy-mm-dd",this.timeType="date",this.currentVal=(new Date).getFullYear()+"-"+Number((new Date).getMonth()+1)+"-"+(new Date).getDate(),this.showTimePicker=!0},onSelected:function(e){if(this.showTimePicker=!1,e)if(this["time"]=e.value,t.log("value => "+e.value),t.log("date => "+e.date),"time"===this.timeType)if("form"===this.onSelect)this.formData["htime"]=e.value,this.onSelect="",this.$refs.showForm.open();else{var i=this.currentData,n=this.currentIndex,a=e.value;i[n][this.currentColumn]=a,"food"===this.currentType?this.$set(this.dietRecord,n,i[n]):"sport"===this.currentType&&this.$set(this.sportsRecord,n,i[n])}else"date"===this.timeType&&(this.selectDate=e.value,this.getDietRecord(),this.getSportsRecord());else"form"===this.onSelect&&this.$refs.showForm.open()},cancel:function(e){if("confirm"===e){var i=this.currentData,n=this.currentIndex,a=this.currentVal;i[n][this.currentColumn]=a,t.log("item",i[n]),"food"===this.currentType?(this.$set(this.dietRecord,n,i[n]),this.updateData(i[n],"food")):"sport"===this.currentType&&(this.$set(this.sportsRecord,n,i[n]),this.updateData(i[n],"sport"))}this.$refs.showtip.close()},changeValue:function(e){t.log(e),this.currentVal=e.value},openPopup:function(e,i,n,a){var r=this;e.length>0&&(t.log(e,i,n),this.currentData=e,this.currentColumn=n,this.currentIndex=i,this.currentType=a,this.currentVal=e[i][n],"htime"===n?(this.dateFormat="hh:ii:ss",this.timeType="time",this.showTimePicker=!0):this.$nextTick((function(){r.$refs.showtip.open()})))},getBaseInfo:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getNutrientRecommended();case 2:t.getDietRecord().then((function(e){var i=null;Array.isArray(e)&&e.length>0&&(e=e.map((function(t){return t.name})),i=[{colName:"name",ruleType:"in",value:e.toString()}],t.getFoodType(i))})),t.getSportsRecord().then((function(e){var i=null;Array.isArray(e)&&e.length>0&&(e=e.map((function(t){return t.name})),i=[{colName:"name",ruleType:"in",value:e.toString()}],t.getSportType(i))}));case 4:case"end":return e.stop()}}),e)})))()},getNutrientRecommended:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.getServiceUrl("health","srvhealth_nutrient_values_recommended_select","select"),n={serviceName:"srvhealth_nutrient_values_recommended_select",colNames:["*"],order:[{colName:"nutrient",orderType:"desc"}]},e.next=4,t.$http.post(i,n);case 4:if(a=e.sent,!(Array.isArray(a.data.data)&&a.data.data.length>0)){e.next=9;break}return r=a.data.data.filter((function(t){if(t.sex&&-1!==t.sex.indexOf(o.userInfo.sex)||!t.sex)return t.age_start&&t.age_end?o.age>=t.age_start&&o.age<t.age_end:t.age_start&&!t.age_end?o.age>=t.age_start:!t.age_start&&!t.age_end})),r.forEach((function(t){o.energyListWrap.forEach((function(e){e.matterList.forEach((function(i){t.nutrient===i.name&&(i.UL=t.val_ul?t.val_ul:i.UL,i.EAR=t.val_rni?t.val_rni:i.EAR,"水溶性维生素"!==e.title?i.UL=t.val_ul?t.val_ul:i.UL:i.UL=0,"蛋白"===i.name&&(i.EAR=t.val_rni?t.val_rni*o.userInfo.weight:i.EAR))}))}))})),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))()},getChooseFood:function(e){var i=this;return(0,s.default)(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=i.getServiceUrl("health","srvhealth_diet_contents_select","select"),r={serviceName:"srvhealth_diet_contents_select",colNames:["*"],condition:[{colName:"name",ruleType:"in",value:e}]},n.next=4,i.$http.post(a,r);case 4:return o=n.sent,t.log("res-------",o.data.data),n.abrupt("return",o.data.data);case 7:case"end":return n.stop()}}),n)})))()},getDietRecord:function(){var e=arguments,i=this;return(0,s.default)(regeneratorRuntime.mark((function n(){var a,r,o,s,l,c,h,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:null,a&&(i.selectDate=a),r=i.getServiceUrl("health","srvhealth_diet_record_select","select"),o={serviceName:"srvhealth_diet_record_select",colNames:["*"],condition:[{colName:"userno",ruleType:"like",value:i.loginUserInfo.user_no},{colName:"user_name",ruleType:"like",value:uni.getStorageSync("current_user")},{colName:"hdate",ruleType:"like",value:a||i.selectDate.trim()}],order:[{colName:"create_time",orderType:"desc"}]},n.next=6,i.$http.post(r,o);case 6:return s=n.sent,l=i.energyListWrap,l.forEach((function(t){t.matterList.forEach((function(e){e["value_left"]=0,e["right_width"]=30,e["left_width"]=90*e.EAR/e.UL,e["center_width"]=90-90*e.EAR/e.UL,"水溶性维生素"===t.title&&(e["right_width"]=0,e["left_width"]=30,e["center_width"]=90),"有机物"===t.title&&(e["right_width"]=0,e["left_width"]=50,e["center_width"]=70),(3*e.center_width<e.left_width||3*e.center_width<e.right_width)&&(e.left_width=e.left_width-e["center_width"],e.right_width=e.right_width-e["center_width"],e["center_width"]=3*e["center_width"])}))})),"SUCCESS"===s.data.state&&s.data.data.length>0?(t.log(s.data.data),c=[],s.data.data.forEach((function(t){t["editable"]=!1,c.push(t.name)})),h=c.join(),u=0,s.data.data.forEach((function(t){u+=t.energy})),i.dietIn=u,i.dietRecord=s.data.data,i.getChooseFood(h).then((function(t){if(Array.isArray(t)&&t.length>0){t.forEach((function(t){s.data.data.forEach((function(e){t.name===e.name&&(t["amount"]=t["amount"]?t["amount"]+e.amount:e.amount)}))}));var e=t;if(e&&e.length>0){l.forEach((function(t){t.matterList.forEach((function(t){t.value=0,e.forEach((function(e){for(var i in e)if(t.key&&t.key==i)if(t.value=Number(t.value)+Number(e.amount)*Number(e[i]),t.UL&&t.value&&t.value>4*(t.UL-t.EAR))t["value_left"]=54,t["left_width"]=120*t.EAR/(2*t.value/.9),t["center_width"]=120*(t.UL-t.EAR)/(2*t.value/.9),t["right_width"]=120-t["left_width"]-t["center_width"];else{if(!t.UL)return t["right_width"]=0,t["left_width"]=50,t["center_width"]=70,t.value,t.EAR,t["value_left"]=t["left_width"]*t.value/t.EAR,void(t["value_left"]>110&&(t["value_left"]=110));0===t.value||"0"===t.value?(t["value_left"]=0,t["right_width"]=30,t["left_width"]=90*t.EAR/t.UL,t["center_width"]=90-90*t.EAR/t.UL):(t["value_left"]=40*t.value/(t.UL-t.EAR),t["left_width"]=120*t.EAR/(t.EAR+t.UL),t["right_width"]=120*t.EAR/(t.EAR+t.UL)>30?120*t.EAR/(t.EAR+t.UL):30,t["left_width"]+t["right_width"]>80&&(t["right_width"]=20,t["left_width"]=100*t.EAR/t.UL),t["center_width"]=120-t["left_width"]-t["right_width"],t.value<t.EAR&&(t["value_left"]=t["left_width"]*t.value/t.EAR),t.value>=t.EAR&&t.value<=t.UL&&(t["value_left"]=t["left_width"]+t["center_width"]*(t.value-t.EAR)/(t.UL-t.EAR)),t.value>t.UL&&(t["value_left"]=t["left_width"]+t["center_width"]+t["right_width"]*(t.value-t.UL)/t.EAR)),t["value_left"]>110&&(t["value_left"]=110)}else 0==t.value&&(t["value_left"]=0,t["right_width"]=30,t["left_width"]=90*t.EAR/t.UL,t["center_width"]=90-90*t.EAR/t.UL)}))}))}))}}i.radioArr.forEach((function(t,e){t.num=0,l.forEach((function(i){i.matterList.forEach((function(i){switch(e){case 0:t.num++;break;case 1:i.value<i.EAR&&t.num++;break;case 2:(i.value>=i.EAR&&i.value<=i.UL||i.value>=i.EAR&&0===i.UL)&&t.num++;break;case 3:i.UL&&i.value>i.UL&&t.num++;break}}))})),t.label=t.name+"("+t.num+")"}))}))):"SUCCESS"===s.data.state&&0===s.data.data.length&&(i.dietRecord=[],i.dietIn=0,i.energyListWrap.forEach((function(t){t.matterList.forEach((function(t){t.value=0}))}))),i.energyList=i.deepClone(l),i.changeSub(4),n.abrupt("return",s.data.data);case 13:case"end":return n.stop()}}),n)})))()},getSportsRecord:function(){var e=arguments,i=this;return(0,s.default)(regeneratorRuntime.mark((function n(){var a,r,o,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:null,a&&(i.selectDate=a),r=i.getServiceUrl("health","srvhealth_body_activity_record_select","select"),o={serviceName:"srvhealth_body_activity_record_select",colNames:["*"],condition:[{colName:"userno",ruleType:"like",value:i.loginUserInfo.user_no},{colName:"user_name",ruleType:"like",value:uni.getStorageSync("current_user")},{colName:"hdate",ruleType:"like",value:a||i.selectDate.trim()}],order:[{colName:"create_time",orderType:"desc"}]},n.next=6,i.$http.post(r,o);case 6:return s=n.sent,"SUCCESS"===s.data.state&&s.data.data.length>0?(t.log(s.data.data),i.sportsRecord=s.data.data.map((function(t){return t})),l=0,s.data.data.forEach((function(e){l=e.energy+l,t.log(e,i.userInfo.weight,"sportOut"),e["editable"]=!1})),i.sportOut=l):"SUCCESS"===s.data.state&&0===s.data.data.length&&(i.sportsRecord=[],i.sportOut=0),n.abrupt("return",s.data.data);case 9:case"end":return n.stop()}}),n)})))()},getFoodType:function(e){var i=this;return(0,s.default)(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=i.getServiceUrl("health","srvhealth_diet_contents_select","select"),r={serviceName:"srvhealth_diet_contents_select",colNames:["*"],condition:[],order:[]},e&&(r.condition=e),n.next=5,i.$http.post(a,r);case 5:return o=n.sent,"SUCCESS"===o.data.state&&o.data.data.length>0&&(t.log(o.data.data),i.foodType=o.data.data),n.abrupt("return",o.data.data);case 8:case"end":return n.stop()}}),n)})))()},getSportType:function(e){var i=this;return(0,s.default)(regeneratorRuntime.mark((function n(){var a,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=i.getServiceUrl("health","srvhealth_body_activity_contents_select","select"),r={serviceName:"srvhealth_body_activity_contents_select",colNames:["*"],condition:[],order:[]},e&&(r.condition=e),n.next=5,i.$http.post(a,r);case 5:return o=n.sent,"SUCCESS"===o.data.state&&o.data.data.length>0&&(t.log(o.data.data),i.sportType=o.data.data),n.abrupt("return",o.data.data);case 8:case"end":return n.stop()}}),n)})))()},NavChange:function(t){this.PageCur=t.currentTarget.dataset.cur},resetRadioArr:function(){this.radioArr=[{key:"全部",name:"全部",label:"全部(17)",value:"all",num:0},{key:"不足",name:"不足",label:"不足(17)",value:"lack",num:0},{key:"正常",name:"正常",label:"正常(0)",value:"normal",num:0},{key:"过高",name:"过高",label:"过高(0)",value:"over",num:0}]},toPages:function(t){var e={},i="";switch(t){case"food":e={type:"food",serviceName:"srvhealth_diet_contents_select",colName:"name",imgCol:"image",wordKey:{title:"name",unit:"unit",energy:"unit_energy"}},i="/pages/specific/health/dietSelect/dietSelect?condType="+encodeURIComponent(JSON.stringify(e));break;case"sport":e={type:"sport",serviceName:"srvhealth_body_activity_contents_select",colName:"name",imgCol:"image",wordKey:{title:"name",unit:"unit",energy:"unit_energy"}},i="/pages/specific/health/dietSelect/dietSelect?condType="+encodeURIComponent(JSON.stringify(e));break}i&&uni.navigateTo({url:i})}},created:function(){var t=this,e=uni.getStorageSync("symptomList");this.symptomList=e||[],uni.$on("checkedItem",(function(e){var i=e&&e.length>0?e:[];t.symptomList=i})),uni.$on("dietUpdate",(function(){t.getDietRecord()})),uni.$on("sportUpdate",(function(){t.getSportsRecord()})),uni.$on("symptomSelect",(function(e){t.symptomList=e}))},mounted:function(){o=this,this.procEleData();var t=uni.getStorageSync("login_user_info");t&&t.user_no?(this.formData.userno=t.user_no,this.loginUserInfo=t,this.getBaseInfo()):alert("未发现登录用户信息")}};e.default=p}).call(this,i("5a52")["default"])},"3d0c":function(t,e,i){"use strict";i.r(e);var n=i("3b41"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"3d8c":function(t,e,i){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},4277:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var n={uImage:i("058f").default,uniPopup:i("8a02").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"balanced-diet"},[i("v-uni-view",{staticClass:"diet-wrap",staticStyle:{flex:"1","overflow-y":"scroll"}},[i("v-uni-view",{staticClass:"main-box symptom"},[i("v-uni-view",{staticClass:"record-box page-top"},[i("v-uni-view",{staticClass:"record-item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPersonal.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"label"},[t._v("基本信息")])],1),i("v-uni-view",{staticClass:"record-item"},[i("v-uni-view",{staticClass:"label"},[t._v("遗传史")])],1),i("v-uni-view",{staticClass:"record-item"},[i("v-uni-view",{staticClass:"label"},[t._v("疾病史")])],1)],1)],1),i("v-uni-view",{staticClass:"main-box"},[i("v-uni-view",{staticClass:"main-content main-content-t"},[i("v-uni-view",{staticClass:"main-box-title"},[t._v("能量等式")]),i("v-uni-view",{staticClass:"energy-item "},[i("v-uni-view",{staticClass:"text"},[t._v("饮食摄入")]),i("v-uni-view",{staticClass:"number"},[t._v(t._s(parseFloat(t.dietIn).toFixed(1)))])],1),i("v-uni-view",{staticClass:"operate"},[t._v("-")]),i("v-uni-view",{staticClass:"energy-item"},[i("v-uni-view",{staticClass:"text"},[t._v("运动消耗")]),i("v-uni-view",{staticClass:"number"},[t._v(t._s(parseFloat(t.sportOut).toFixed(1)))])],1),i("v-uni-view",{staticClass:"operate"},[t._v("-")]),i("v-uni-view",{staticClass:"energy-item"},[i("v-uni-view",{staticClass:"text"},[t._v("基础代谢")]),i("v-uni-view",{staticClass:"number"},[t._v(t._s(t.basicOut?parseFloat(t.basicOut).toFixed(1):"0"))])],1),i("v-uni-view",{staticClass:"operate"},[t._v("=")]),i("v-uni-view",{staticClass:"energy-item"},[i("v-uni-view",{staticClass:"text"},[t._v("体重变化")]),i("v-uni-view",{staticClass:"number text-red",staticStyle:{display:"flex",width:"90px","justify-content":"space-between"}},[i("v-uni-text",{staticStyle:{flex:"1"}},[t._v(t._s(parseFloat(t.energyChange)>0?"+"+parseFloat(t.energyChange).toFixed(1):parseFloat(t.energyChange).toFixed(1)))]),i("v-uni-text",{staticClass:"units"},[t._v("大卡")])],1),i("v-uni-view",{staticClass:"number text-red",staticStyle:{display:"flex",width:"90px","justify-content":"space-between"}},[i("v-uni-text",{staticStyle:{flex:"1"}},[t._v(t._s(0===t.energyChange?"0.0":parseFloat(t.energyChange/7.7)>0?"+"+parseFloat(t.energyChange/7.7).toFixed(1):parseFloat(t.energyChange/7.7).toFixed(1)))]),i("v-uni-text",{staticClass:"units"},[t._v("g脂肪")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"main-box main-box-plus"},[i("v-uni-view",{staticClass:"title",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toChart.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"label"},[t._v("营养素摄入情况分析"),i("v-uni-text",{staticClass:"cuIcon-rankfill"})],1)],1),i("v-uni-view",{staticClass:"indicator"},[t._l(t.radioArr,(function(e,n){return i("v-uni-button",{key:n,staticClass:"cu-btn text-white",class:{"active-btn":n===t.subIndex},style:{"background-color":0===n?"#5098ff":1===n?"#999":2===n?"rgb(141, 198, 63)":3===n?"#ff9900":""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSub(n)}}},[t._v(t._s(e.label))])})),t.hasRecord?t._e():i("v-uni-view",{staticClass:"tips"},[t._v("请先添加您的饮食记录")])],2),t._l(t.energyList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"main-box"},[i("v-uni-view",{staticClass:"main-top"},[i("v-uni-view",{staticClass:"main-title"},[i("v-uni-text",[t._v(t._s(e.title))]),i("v-uni-text",[t._v("("+t._s(e.units)+")")])],1)],1),t.energyList.length>0?i("v-uni-view",{staticClass:"main-content ele-content"},t._l(e.matterList,(function(n,a){return i("v-uni-view",{key:a,staticClass:"ele-item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(n,e)}}},[1!==t.subIndex||(n.value<n.EAR||n.value>n.UL)?i("v-uni-view",{staticClass:"ele-item-wrap"},[i("v-uni-text",{staticClass:"ele-item-name"},[t._v(t._s(n.shortName))]),i("v-uni-view",{staticClass:"bg-white probar"},[i("v-uni-view",{staticClass:"cu-progress progress-bar radius pro-rad"},[n.value_left||0===n.value_left?i("v-uni-view",{staticClass:"pointer",style:{left:n.value_left+"px"},attrs:{text:0===n.value?"E"===n.shortName?"0mg/d":"0":"E"===n.shortName?n.value+"mg/d":n.value.toFixed(2)}}):t._e(),i("v-uni-view",{staticClass:"bg-grey EAR",style:{width:n.left_width?n.left_width+"px":"33%"},attrs:{num:n.left_width?n.EAR:""}}),i("v-uni-view",{staticClass:"bg-olive regular",style:{width:n.center_width?n.center_width+"px":"33%","border-top-right-radius":n.UL?"":"5px","border-bottom-right-radius":n.UL?"":"5px"},attrs:{num:n.value}}),i("v-uni-view",{staticClass:"bg-red risk",class:{lack:n.value<n.EAR,normal:n.value>=n.EAR&&(n.value<=n.UL||!n.UL),over:n.UL&&n.value>n.UL},style:{width:n.UL&&n.right_width?n.right_width+"px":n.UL?"33%":0},attrs:{status:n.value<n.EAR?"不足":n.UL&&n.value>n.UL?"过多":"正常",num:n.right_width&&n.UL?n.UL:""}})],1)],1)],1):t._e()],1)})),1):t._e()],1)}))],2),i("v-uni-view",{staticClass:"main-box symptom"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-view",{staticClass:"label"},[t._v("饮食")]),i("v-uni-view",{staticClass:"cuIcon-add",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPages("food")}}})],1),i("v-uni-view",{staticClass:"record-box",class:{showall:t.foodListDisplay,readmore:t.dietRecord.length>3},on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e),t.foodListDisplay=!t.foodListDisplay}}},[t.dietRecord?i("v-uni-view",{staticClass:"table"},[t.dietRecord&&0!==t.dietRecord.length?t._e():i("v-uni-view",{staticClass:"no-data",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPages("food")}}},[t._v("点击添加饮食运动记录")]),t._l(t.dietRecord,(function(e,n){return i("v-uni-view",{key:n,staticClass:"row"},[i("v-uni-view",{staticClass:"readonly",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showEditModal=!0,t.currentRecord=t.deepClone(e),t.currentRecordType="food"}}},[i("v-uni-view",{staticClass:"img"},[i("u-image",{attrs:{width:"100%",height:"100%",src:t.$api.downloadFile+e["image"]+"&bx_auth_ticket="+t.bx_auth_ticket}})],1),i("v-uni-view",{staticClass:"column center"},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"number"},[t._v(t._s(e.amount*e.unit_weight_g+e.unit))])],1),i("v-uni-view",{staticClass:"column time"},[t._v(t._s(e.htime?e.htime.slice(0,5):""))]),i("v-uni-view",{staticClass:"column"},[i("v-uni-text",{staticClass:"heat"},[i("v-uni-text",{staticClass:"text text-orange"},[t._v(t._s(e.energy))]),t._v("千卡")],1),i("v-uni-text",{staticClass:" cuIcon-right"})],1)],1)],1)}))],2):t._e()],1)],1),i("v-uni-view",{staticClass:"main-box symptom"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-view",{staticClass:"label"},[t._v("运动")]),i("v-uni-view",{staticClass:"cuIcon-add",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPages("sport")}}})],1),i("v-uni-view",{staticClass:"record-box",class:{showall:t.sportListDisplay,readmore:t.sportsRecord.length>3},on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e),t.sportListDisplay=!t.sportListDisplay}}},[i("v-uni-view",{staticClass:"table"},[t.sportsRecord&&0!==t.sportsRecord.length?t._e():i("v-uni-view",{staticClass:"no-data",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toPages("sport")}}},[t._v("点击添加饮食运动记录")]),t._l(t.sportsRecord,(function(e,n){return i("v-uni-view",{key:n,staticClass:"row"},[i("v-uni-view",{staticClass:"readonly",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showEditModal=!0,t.currentRecord=t.deepClone(e),t.currentRecordType="sport"}}},[i("v-uni-view",{staticClass:"img"},[i("u-image",{attrs:{width:"100%",height:"100%",src:t.$api.downloadFile+e["image"]+"&bx_auth_ticket="+t.bx_auth_ticket}})],1),i("v-uni-view",{staticClass:"column center"},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(e.name))]),i("v-uni-view",{staticClass:"number"},[t._v(t._s(e.amount+e.unit))])],1),i("v-uni-view",{staticClass:"column time"},[t._v(t._s(e.htime?e.htime.slice(0,5):""))]),i("v-uni-view",{staticClass:"column "},[i("v-uni-text",{staticClass:"heat"},[i("v-uni-text",{staticClass:"text text-green"},[t._v(t._s(e.energy))]),t._v("千卡")],1),i("v-uni-text",{staticClass:" cuIcon-right"})],1)],1)],1)}))],2)],1)],1),i("v-uni-view",{staticClass:"main-box symptom"},[i("v-uni-view",{staticClass:"title"},[t._v("症状")]),i("v-uni-view",{staticClass:"symptom-box"},[t._l(t.symptomList,(function(e,n){return i("v-uni-view",{key:n,staticClass:"symptom-item"},[t._v(t._s(e.name))])})),i("v-uni-view",{staticClass:"symptom-item symptom-add",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addSymptom.apply(void 0,arguments)}}},[t._v("+")])],2)],1),i("v-uni-view",{staticClass:"main-box symptom"},[i("v-uni-view",{staticClass:"title"},[t._v("慢病风险")]),i("v-uni-view",{staticClass:"symptom-box"},[t._l(t.diseaseList,(function(e,n){return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.disease_name,expression:"item.disease_name"}],key:n,staticClass:"symptom-item"},[t._v(t._s(e.disease_name))])})),i("v-uni-view",{staticClass:"symptom-item symptom-add"},[t._v("+")])],2)],1)],1),i("v-uni-view",{staticClass:"cu-modal bottom-modal",class:{show:t.showEditModal},on:{click:function(e){if(e.target!==e.currentTarget)return null;arguments[0]=e=t.$handleEvent(e),t.showEditModal=!1,t.currentRecord=null}}},[t.currentRecord?i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"title-bar"},[i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showEditModal=!1,t.currentRecord=null}}},[t._v("取消")]),i("v-uni-view",{staticClass:"date"},[t._v(t._s(t.currentRecord.hdate+" "+t.currentRecord.htime))]),i("v-uni-view",{staticClass:"btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.UpdateDietInfo.apply(void 0,arguments)}}},[t._v("确认")])],1),i("v-uni-view",{staticClass:"diet-info"},[i("v-uni-view",{staticClass:"img"},[i("u-image",{attrs:{width:"100%",height:"100%",src:t.currentDietImgUrl}})],1),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"name"},[t._v(t._s(t.currentRecord.name))]),i("v-uni-view",{staticClass:"weight"},[i("v-uni-text",{staticClass:"label"},[t._v("热量:")]),i("v-uni-text",{staticClass:"heat"},[t._v(t._s(t.currentRecord.energy)),i("v-uni-text",{staticClass:"unit"},[t._v("千卡")])],1),t._v("/"+t._s(t.currentRecord.unit_weight_g?t.currentRecord.amount*t.currentRecord.unit_weight_g:t.currentRecord.amount)),i("v-uni-text",{staticClass:"unit"},[t._v(t._s(t.currentRecord.unit))])],1),i("v-uni-view",{staticClass:"amount"},[t._v("数量:"),i("v-uni-view",{staticClass:"number-box"},[i("v-uni-text",{staticClass:"symbol",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCurrentVal("minus")}}},[t._v("-")]),i("v-uni-input",{attrs:{type:"digit",disabled:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeValue.apply(void 0,arguments)}},model:{value:t.currentRecord.amount,callback:function(e){t.$set(t.currentRecord,"amount",e)},expression:"currentRecord.amount"}}),i("v-uni-text",{staticClass:"symbol",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCurrentVal("plus")}}},[t._v("+")])],1)],1)],1)],1),i("v-uni-view",{staticClass:"delete-bar"},[i("v-uni-text",{staticClass:"cuIcon-delete",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.deleteItem(t.currentRecord)}}})],1),i("v-uni-view",{staticClass:"number-bar"}),i("v-uni-view",{staticClass:"unit-bar"})],1):t._e()],1),i("uni-popup",{ref:"showtip",staticStyle:{"z-index":"1025"},attrs:{type:"center","mask-click":!1}},[i("v-uni-view",{staticClass:"uni-tip"},[i("v-uni-text",{staticClass:"uni-tip-title"},[t._v("修改数据")]),i("v-uni-view",{staticClass:"number-box"},[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCurrentVal("minus")}}},[t._v("-")]),i("v-uni-input",{attrs:{type:"digit"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeValue.apply(void 0,arguments)}},model:{value:t.currentVal,callback:function(e){t.currentVal=e},expression:"currentVal"}}),i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeCurrentVal("plus")}}},[t._v("+")])],1),i("v-uni-view",{staticClass:"uni-tip-group-button"},[i("v-uni-text",{staticClass:"uni-tip-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("cancel")}}},[t._v("取消")]),i("v-uni-text",{staticClass:"uni-tip-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("confirm")}}},[t._v("确定")])],1)],1)],1),i("mx-date-picker",{staticStyle:{"z-index":"1290"},attrs:{format:t.dateFormat,show:t.showTimePicker,type:t.timeType,value:t.showTimePicker?t.currentVal:"","show-tips":!0,"begin-text":"入住","end-text":"离店","show-seconds":!0},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelected.apply(void 0,arguments)},cancel:function(e){arguments[0]=e=t.$handleEvent(e),t.onSelected.apply(void 0,arguments)}}})],1)},r=[]},"43ca":function(t,e,i){"use strict";var n=i("c2e3"),a=i.n(n);a.a},"4a9b":function(t,e,i){var n=i("74e8");n("Float64",(function(t){return function(e,i,n){return t(this,e,i,n)}}))},"4aef":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"chart-wrap"},[i("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:t.chartId}})])},r=[]},"4dc4":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'.placeholder11[data-v-01cb6762]{color:red;top:10px}.show-box[data-v-01cb6762]{text-align:left;-webkit-appearance:none;background-color:#fff;background-image:none;-webkit-border-radius:4px;border-radius:4px;border:1px solid #c0c4cc;-webkit-box-sizing:border-box;box-sizing:border-box;color:#606266;display:inline-block;font-size:inherit;height:3em;line-height:inherit;outline:none;padding:0 12% 0 5%;-webkit-transition:border-color .2s cubic-bezier(.645,.045,.355,1);transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:100%;position:relative\n  /****** 列表框部分样式 *****/}.show-box.active[data-v-01cb6762]{border-color:#409eff}.show-box.disabled[data-v-01cb6762]{background-color:#f0f0f0}.show-box .input[data-v-01cb6762]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.show-box .placeholder[data-v-01cb6762]{color:#bbb}.show-box .right-arrow[data-v-01cb6762]{-webkit-transition:-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:-webkit-transform .2s cubic-bezier(.645,.045,.355,1);transition:transform .2s cubic-bezier(.645,.045,.355,1);transition:transform .2s cubic-bezier(.645,.045,.355,1),-webkit-transform .2s cubic-bezier(.645,.045,.355,1);position:absolute;font-size:1em;right:0;display:-webkit-box;display:-webkit-flex;display:flex;top:0;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#c0c4cc;height:100%;font-weight:100;width:12%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.show-box .right-arrow.isRotate[data-v-01cb6762]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.show-box .clear[data-v-01cb6762]{color:#fff;line-height:1;background-color:#c0c4cc;-webkit-border-radius:50%;border-radius:50%;padding:2px}.show-box .list-container[data-v-01cb6762]{position:absolute;width:100%;left:0;top:50px;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:100}.show-box .list-container .popper__arrow[data-v-01cb6762]{-webkit-transform:translateX(-400%);transform:translateX(-400%);position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid;border-width:6px;-webkit-filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));filter:drop-shadow(0 2px 12px rgba(0,0,0,.03));left:30%;margin-right:3px;border-top-width:0;border-bottom-color:#dcdfe6;top:-5px}.show-box .list-container .popper__arrow[data-v-01cb6762]:after{content:" ";border-width:6px;position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid;top:1px;margin-left:-6px;border-top-width:0;border-bottom-color:#fff}.show-box .list-container .list[data-v-01cb6762]{-webkit-border-radius:4px;border-radius:4px;border:1px solid #dcdfe6;width:100%;max-height:10em;background-color:#fff;-webkit-box-shadow:0 2px 12px 0 rgba(0,0,0,.1);box-shadow:0 2px 12px 0 rgba(0,0,0,.1);padding:5px 0}.show-box .list-container .list .item[data-v-01cb6762]{padding:0 5%;line-height:2}.show-box .list-container .list .item[data-v-01cb6762]:hover{background-color:#f5f7fa}.show-box .list-container .list .item:hover.disabled[data-v-01cb6762]{background-color:transparent}.show-box .list-container .list .item.active[data-v-01cb6762]{color:#409eff;font-weight:500;background-color:#f5f7fa}.show-box .list-container .list .item.disabled[data-v-01cb6762]{color:#c0c4cc}.show-box .list-container .list .data-state[data-v-01cb6762]{color:#c0c4cc}@font-face{font-family:iconfont;src:url("data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAM8AAsAAAAAB1gAAALvAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDHAqCEIFsATYCJAMQCwoABCAFhG0HSxthBhEVlKdkPwvsmHgLNqmwEc2pDxvYjI1gkX0f4uFrv9dz3+772RAqQJV8FbKANj5RiB1f1q0ioyorK1THs2Qj0gAJVYn///3mxT27TKyJJ63gD/KkYhr/9woe4ghtLxKJk5AWd7icc+CiJuQLU5SVQ48+ST+l0H2/pM2sm89zOb2VZYHMb1luYy3a0496AWYLKLA9sQ0UaAEFxC2yi7gTF3GaQJtRTbFxcfcIRYYmBeKyjDJQCiFZNrJFaDSszOI11Ep1IQZeRd+P/zAXcip1gmbuHJ/nYeWX9redqtuqPU6AYj4vjHUkNJGJ08bUviQMXtL2m2wJRVHxS/sz/N1+2CZOdizDemP/eBXRgCo7wIKcTvzSUnlmGMoSgt/tChX8EEOBlNvCLsQdpgv8HuNG8wuia9YA1Tfni5TZR1QthTxh8ZM2VCAHtiBtzfWtz1RtObA8IXowr5rzRK4/sRYpfjm1FBA9nrPl/qNAJRZLKJNsUumMKdb3dkIlkqjEtt8VrbNjZgnB48fG1XqNHax98/uI4xs768DFXVceFql2do6594N/t9vl/tw+ZlhKP6ngFjorHQq/AOmpcAlI98L7Pz/KG7P0OqU7+SuqQ7d8OXhYRvZsnLHcTCD4zwpgXfZVyJGzq6byIJiNgyZUaNOGv5ujz885jIPgWkIxOCLYYiRDUkyTmdNErd0CGopltJm1vb5dv3tJ5DDjpYTQ4wMqXT4h6fGZzJwfqA2R/SGlDxGUnsO0o4onyuKUUDLWoDbodPCGuFjE1U9sJispr4r4X6Sxi0IRiZWzD/RIc8wZ56ZkNmAoOLhL56G1ASKFHjWnLXOssmix6UWpDm4nnCJIYqgGlA3oaIFneHMmKp9/Qo2JJVEHqyf9hcio6x0UUjmAfOg9iHUvl4xmjRJjBjBI4IC7NAxZVgBi87Ae0liqHZGIKhluZKD6dH2j+8Jd0AY9MUcVKXLU5I9a6XU7FUcUppMkCss5MAeXmM7a3Q4A") format("woff2"),url("data:application/x-font-woff;charset=utf-8;base64,d09GMgABAAAAAAM8AAsAAAAAB1gAAALvAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDHAqCEIFsATYCJAMQCwoABCAFhG0HSxthBhEVlKdkPwvsmHgLNqmwEc2pDxvYjI1gkX0f4uFrv9dz3+772RAqQJV8FbKANj5RiB1f1q0ioyorK1THs2Qj0gAJVYn///3mxT27TKyJJ63gD/KkYhr/9woe4ghtLxKJk5AWd7icc+CiJuQLU5SVQ48+ST+l0H2/pM2sm89zOb2VZYHMb1luYy3a0496AWYLKLA9sQ0UaAEFxC2yi7gTF3GaQJtRTbFxcfcIRYYmBeKyjDJQCiFZNrJFaDSszOI11Ep1IQZeRd+P/zAXcip1gmbuHJ/nYeWX9redqtuqPU6AYj4vjHUkNJGJ08bUviQMXtL2m2wJRVHxS/sz/N1+2CZOdizDemP/eBXRgCo7wIKcTvzSUnlmGMoSgt/tChX8EEOBlNvCLsQdpgv8HuNG8wuia9YA1Tfni5TZR1QthTxh8ZM2VCAHtiBtzfWtz1RtObA8IXowr5rzRK4/sRYpfjm1FBA9nrPl/qNAJRZLKJNsUumMKdb3dkIlkqjEtt8VrbNjZgnB48fG1XqNHax98/uI4xs768DFXVceFql2do6594N/t9vl/tw+ZlhKP6ngFjorHQq/AOmpcAlI98L7Pz/KG7P0OqU7+SuqQ7d8OXhYRvZsnLHcTCD4zwpgXfZVyJGzq6byIJiNgyZUaNOGv5ujz885jIPgWkIxOCLYYiRDUkyTmdNErd0CGopltJm1vb5dv3tJ5DDjpYTQ4wMqXT4h6fGZzJwfqA2R/SGlDxGUnsO0o4onyuKUUDLWoDbodPCGuFjE1U9sJispr4r4X6Sxi0IRiZWzD/RIc8wZ56ZkNmAoOLhL56G1ASKFHjWnLXOssmix6UWpDm4nnCJIYqgGlA3oaIFneHMmKp9/Qo2JJVEHqyf9hcio6x0UUjmAfOg9iHUvl4xmjRJjBjBI4IC7NAxZVgBi87Ae0liqHZGIKhluZKD6dH2j+8Jd0AY9MUcVKXLU5I9a6XU7FUcUppMkCss5MAeXmM7a3Q4A") format("woff")}.iconfont[data-v-01cb6762]{font-family:iconfont!important;font-size:16px;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.iconshanchu1[data-v-01cb6762]:before{content:"\\e68c"}.icongou[data-v-01cb6762]:before{content:"\\e786"}.iconarrowBottom-fill[data-v-01cb6762]:before{content:"\\e60e"}',""]),t.exports=e},"528b":function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("f850")),r={props:{canvasId:{type:String,default:""}},data:function(){return{chartData:{categories:[{value:.2,color:"rgb(141, 198, 63)"},{value:.8,color:"rgb(255, 179, 71)"},{value:1,color:"#00c2ff"}],series:[{data:.5}]},cWidth:"",cHeight:"",pixelRatio:1,gaugeWidth:15}},methods:{getServerData:function(){this.showGauge(this.canvasId,this.chartData)},showGauge:function(t,e){var i=this;new a.default({$this:i,canvasId:t,type:"gauge",fontSize:11,legend:!1,title:{name:Math.round(100*e.series[0].data)+"%",color:e.categories[1].color,fontSize:16*i.pixelRatio,offsetY:50*i.pixelRatio},subtitle:{name:e.series[0].name,color:"#666666",fontSize:16*i.pixelRatio,offsetY:-50*i.pixelRatio},extra:{gauge:{type:"default",width:i.gaugeWidth*i.pixelRatio,startAngle:.75,endAngle:.25,startNumber:0,endNumber:80,splitLine:{fixRadius:0,splitNumber:10,width:i.gaugeWidth*i.pixelRatio,color:"#FFFFFF",childNumber:5,childWidth:.4*i.gaugeWidth*i.pixelRatio},pointer:{width:.8*i.gaugeWidth*i.pixelRatio,color:"auto"}}},background:"#FFFFFF",pixelRatio:i.pixelRatio,categories:e.categories,series:e.series,animation:!0,width:i.cWidth*i.pixelRatio,height:i.cHeight*i.pixelRatio,dataLabel:!0})}},mounted:function(){this,this.cWidth=uni.upx2px(230),this.cHeight=uni.upx2px(250),this.getServerData()}};e.default=r},"555f":function(t,e,i){"use strict";i.r(e);var n=i("ab06"),a=i("2b85");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("43ca");var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"179b150d",null,!1,n["a"],o);e["default"]=l.exports},5672:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isShow?i("v-uni-view",{staticClass:"picker"},["time"!=t.type?i("v-uni-view",{staticClass:"picker-modal"},[i("v-uni-view",{staticClass:"picker-modal-header"},[i("v-uni-view",{staticClass:"picker-icon picker-icon-zuozuo",attrs:{"hover-stay-time":100,"hover-class":"picker-icon-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSetYear("-1")}}}),i("v-uni-view",{staticClass:"picker-icon picker-icon-zuo",attrs:{"hover-stay-time":100,"hover-class":"picker-icon-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSetMonth("-1")}}}),i("v-uni-text",{staticClass:"picker-modal-header-title"},[t._v(t._s(t.title))]),i("v-uni-view",{staticClass:"picker-icon picker-icon-you",attrs:{"hover-stay-time":100,"hover-class":"picker-icon-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSetMonth("+1")}}}),i("v-uni-view",{staticClass:"picker-icon picker-icon-youyou",attrs:{"hover-stay-time":100,"hover-class":"picker-icon-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSetYear("+1")}}})],1),i("v-uni-swiper",{staticClass:"picker-modal-body",attrs:{circular:!0,duration:200,"skip-hidden-item-layout":!0,current:t.calendarIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onSwiperChange.apply(void 0,arguments)}}},t._l(t.calendars,(function(e,n){return i("v-uni-swiper-item",{key:n,staticClass:"picker-calendar"},[t._l(t.weeks,(function(e,n){return i("v-uni-view",{key:n-7,staticClass:"picker-calendar-view"},[i("v-uni-view",{staticClass:"picker-calendar-view-item"},[t._v(t._s(e))])],1)})),t._l(e,(function(e,n){return i("v-uni-view",{key:n,staticClass:"picker-calendar-view",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onSelectDate(e)}}},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.bgStyle.type,expression:"date.bgStyle.type"}],class:"picker-calendar-view-"+e.bgStyle.type,style:{background:e.bgStyle.background}}),i("v-uni-view",{staticClass:"picker-calendar-view-item",style:{opacity:e.statusStyle.opacity,color:e.statusStyle.color,background:e.statusStyle.background}},[i("v-uni-text",[t._v(t._s(e.title))])],1),i("v-uni-view",{staticClass:"picker-calendar-view-dot",style:{opacity:e.dotStyle.opacity,background:e.dotStyle.background}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:e.tips,expression:"date.tips"}],staticClass:"picker-calendar-view-tips"},[t._v(t._s(e.tips))])],1)}))],2)})),1),i("v-uni-view",{staticClass:"picker-modal-footer"},[i("v-uni-view",{staticClass:"picker-modal-footer-info"},[t.isMultiSelect?[i("v-uni-view",{staticClass:"picker-display"},[i("v-uni-text",[t._v(t._s(t.beginText)+"日期")]),i("v-uni-text",{staticClass:"picker-display-text"},[t._v(t._s(t.BeginTitle))]),t.isContainTime?i("v-uni-view",{staticClass:"picker-display-link",style:{color:t.color},attrs:{"hover-stay-time":100,"hover-class":"picker-display-link-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowTimePicker("begin")}}},[t._v(t._s(t.BeginTimeTitle))]):t._e()],1),i("v-uni-view",{staticClass:"picker-display"},[i("v-uni-text",[t._v(t._s(t.endText)+"日期")]),i("v-uni-text",{staticClass:"picker-display-text"},[t._v(t._s(t.EndTitle))]),t.isContainTime?i("v-uni-view",{staticClass:"picker-display-link",style:{color:t.color},attrs:{"hover-stay-time":100,"hover-class":"picker-display-link-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowTimePicker("end")}}},[t._v(t._s(t.EndTimeTitle))]):t._e()],1)]:[i("v-uni-view",{staticClass:"picker-display"},[i("v-uni-text",[t._v("当前选择")]),i("v-uni-text",{staticClass:"picker-display-text"},[t._v(t._s(t.BeginTitle))]),t.isContainTime?i("v-uni-view",{staticClass:"picker-display-link",style:{color:t.color},attrs:{"hover-stay-time":100,"hover-class":"picker-display-link-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowTimePicker("begin")}}},[t._v(t._s(t.BeginTimeTitle))]):t._e()],1)]],2),i("v-uni-view",{staticClass:"picker-modal-footer-btn"},[i("v-uni-view",{staticClass:"picker-btn",attrs:{"hover-stay-time":100,"hover-class":"picker-btn-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onCancel.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-view",{staticClass:"picker-btn",style:{color:t.color},attrs:{"hover-stay-time":100,"hover-class":"picker-btn-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1):t._e(),t.showTimePicker?i("v-uni-view",{staticClass:"picker"},[i("v-uni-view",{staticClass:"picker-modal picker-time"},[i("v-uni-view",{staticClass:"picker-modal-header"},[i("v-uni-text",{staticClass:"picker-modal-header-title"},[t._v("选择日期")])],1),i("v-uni-picker-view",{staticClass:"picker-modal-time",attrs:{"indicator-class":"picker-modal-time-item",value:t.timeValue},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onTimeChange.apply(void 0,arguments)}}},[i("v-uni-picker-view-column",t._l(24,(function(e,n){return i("v-uni-view",{key:n},[t._v(t._s(n<10?"0"+n:n)+"时")])})),1),i("v-uni-picker-view-column",t._l(60,(function(e,n){return i("v-uni-view",{key:n},[t._v(t._s(n<10?"0"+n:n)+"分")])})),1),t.showSeconds?i("v-uni-picker-view-column",t._l(60,(function(e,n){return i("v-uni-view",{key:n},[t._v(t._s(n<10?"0"+n:n)+"秒")])})),1):t._e()],1),i("v-uni-view",{staticClass:"picker-modal-footer"},[i("v-uni-view",{staticClass:"picker-modal-footer-info"},[i("v-uni-view",{staticClass:"picker-display"},[i("v-uni-text",[t._v("当前选择")]),i("v-uni-text",{staticClass:"picker-display-text"},[t._v(t._s(t.PickerTimeTitle))])],1)],1),i("v-uni-view",{staticClass:"picker-modal-footer-btn"},[i("v-uni-view",{staticClass:"picker-btn",attrs:{"hover-stay-time":100,"hover-class":"picker-btn-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onCancelTime.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-view",{staticClass:"picker-btn",style:{color:t.color},attrs:{"hover-stay-time":100,"hover-class":"picker-btn-active"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirmTime.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)],1):t._e()],1):t._e()},r=[]},6062:function(t,e,i){"use strict";var n=i("6d61"),a=i("6566");t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),a)},6250:function(t,e,i){"use strict";var n=i("4ea4");i("4160"),i("c975"),i("a434"),i("a9e3"),i("b64b"),i("d3b7"),i("e25e"),i("ac1f"),i("1276"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("d4ec")),r=n(i("bee2")),o=n(i("3835")),s=n(i("e143"));s.default.__xfl_select=s.default.__xfl_select||new s.default;var l={name:"xfl-select",props:{list:{type:Array,default:function(){return[]}},focusShowList:null,initValue:null,isCanInput:{type:Boolean,default:!1},selectHideType:{type:String,default:"hideAll"},placeholder:{type:String,default:"请选择"},style_Container:{type:String,default:""},disabled:{type:Boolean,default:!1},showItemNum:{type:Number,default:5},listShow:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0}},data:function(){return{isShowList:!1,selectText:"",activeIndex:-1,isRotate:!1,listTop__:50}},watch:{listShow:function(t,e){this.onDataChange_listShow(t,e)}},computed:{focusShowList__:function(){return null==this.focusShowList?c():this.focusShowList},listBoxHeight__:function(){var t=2;return this.showItemNum*t},showInput:function(){return this.isCanInput&&!this.disabled},innerList:function(){var t=[],e=this.list;return e.forEach((function(e,i){var n="object"===typeof e&&"value"in e?e.value:e,a="object"===typeof e&&1==e.disabled;t.push({isActive:!1,value:n,disabled:a})})),t}},mounted:function(){s.default.__xfl_select.$on("open",this.onOtherXflSelectOpen),this.switchMgr=new u(this.onListShow,this.onListHide),this.onDataChange_listShow(this.listShow,null),this.init()},beforeDestroy:function(){s.default.__xfl_select.$off("open",this.onOtherXflSelectOpen)},methods:{onOtherXflSelectOpen:function(t){"independent"!==this.selectHideType&&"hideOthers"!==this.selectHideType&&t!==this&&this.switchMgr.close(100)},init:function(){this.clearInput(),this.setInput(this.initValue),this.changeActiveIndex(this.initValue),this.getInputBoxHeight()},getInputBoxHeight:function(){var t=this,e=this;e=void 0,h(".show-box",e,(function(e){if(e){var i=6;t.listTop__=e[0].height+i}}))},getIndex:function(t){var e=d(this.innerList,t,"value");return e},itemIsDisabled:function(t){return this.innerList[t].disabled},itemIsActive:function(t){return t===this.activeIndex},onDataChange_listShow:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.switchMgr.open():this.switchMgr.close(100)},onFocus:function(t){this.focusShowList__&&this.switchMgr.open(),this.$emit("focus",t)},onBlur:function(t){this.focusShowList__&&this.switchMgr.close(100),this.$emit("blur",t)},onUpperClick:function(){this.disabled||(this.switchMgr.toggle("auto",-1,100),this.$emit("input-click"))},onClear:function(){this.clearItemActive(),this.clearInput(),this.$emit("clear")},onInput:function(t){var e=t.detail.value;this.changeActiveIndex(e),this.$emit("input",t)},clearInput:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.placeholder=null==t?this.placeholder:t,this.selectText=this.showInput?"":this.placeholder},setInput:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=t&&(this.selectText=t)},changeActiveIndex:function(t){if(null!=t){var e=t,i=t;"number"!==typeof t?e=this.getIndex(i):i=this.innerList[e].value,e>-1?!this.itemIsActive(e)&&this.setItemActive(e,i):this.clearItemActive(),this.setInput(i)}},clearItemActive:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;t<0&&(this.activeIndex=-1)},setItemActive:function(t,e){this.itemIsDisabled(t)||(this.activeIndex=t)},onListClick:function(){},onClickItem:function(t,e){this.itemIsDisabled(t)?this.switchMgr.open():(this.switchMgr.close(100),this.disabled||this.itemIsActive(t)||(this.clearItemActive(),this.setItemActive(t,e),this.$emit("change",{newVal:e,oldVal:this.selectText,index:t,orignItem:this.list[t]}),this.setInput(e)))},onListHide:function(){this.isRotate=!1,this.isShowList=!1,this.$emit("visible-change",!1)},onListShow:function(){this.isShowList=!0,this.isRotate=!0,this.$emit("visible-change",!0),"independent"!==this.selectHideType&&"hideSelf"!==this.selectHideType&&s.default.__xfl_select.$emit("open",this)}}};function c(){try{var t=/iPhone|iPad|iPod|iOS|Android|SymbianOS|Windows Phone|coolpad|mmp|smartphone|midp|wap|xoom|symbian|j2me|blackberry|wince/i;return!t.test(navigator.userAgent)}catch(e){return!1}}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.selector,i=void 0===e?"selector":e,n=t.component,a=void 0===n?null:n,r=t.attemptSpaceTime,l=void 0===r?16:r,c=t.attemptSpaceRate,h=void 0===c?1.5:c,u=t.totalAttemptNum,d=void 0===u?8:u,f=t.id,p=void 0===f||f,v=t.dataset,m=void 0===v||v,x=t.rect,y=void 0===x||x,b=t.size,_=void 0===b||b,w=t.scrollOffset,k=void 0===w||w,S=t.properties,A=void 0===S?[]:S,T=t.computedStyle,C=void 0===T?[]:T,M=t.context,D=void 0===M||M,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,L=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,P=arguments;i="string"===typeof P[0]?P[0]:String(i),"function"!==typeof P[1]&&(a=P[1],I=P[2],L=P[3]),!a instanceof s.default&&(a=null);var R={selector:i,attemptSpaceTime:l,totalAttemptNum:d,attemptSpaceRate:h,id:p,dataset:m,rect:y,size:_,scrollOffset:k,properties:A,computedStyle:C,context:D},E=uni.createSelectorQuery();a&&E.in(a);var O,z="viewport"===i?E.selectViewport():E.selectAll(i);return z.fields(R),"function"!==typeof I&&(O=new Promise((function(t){return I=t}))),g((function(t,e){E.exec((function(i){var n=(0,o.default)(i,1),a=n[0];a&&0===a.length&&(a=null),a||d<=e?"function"===typeof I&&I.call(L,a):t(l),l=Math.round(l*h)}))}))(),O}e.default=l;var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,a.default)(this,t),this.onopen=e,this.onclose=i,this.isOpen=!1}return(0,r.default)(t,[{key:"toggle",value:function(){var t,e,i,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";"close"!==a&&"open"!==a&&(a=this.isOpen?"close":"open");for(var r,o=0;o<(arguments.length<=1?0:arguments.length-1);o++)switch(r=o+1<1||arguments.length<=o+1?void 0:arguments[o+1],typeof r){case"number":null==t?t=r:e=r;break;case"string":null==i?i=r:n=r;break}var s="open"===a?t:e,l="open"===a?i:n;this.change(a,null==s?-1:s,null==l?"both":l)}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";this.change("open",t,e)}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";this.change("close",t,e)}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"both";"open"===t?(clearTimeout(this.openTimer),this.openTimer=null):"close"===t?(clearTimeout(this.closeTimer),this.closeTimer=null):"both"===t&&(clearTimeout(this.closeTimer),this.closeTimer=null,clearTimeout(this.openTimer),this.openTimer=null)}},{key:"change",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both";if(this.cancel(n),!(this.isOpen&&"open"===t||!this.isOpen&&"close"===t)){var a="on"+t;i<0?(this.isOpen="open"===t,"function"===typeof this[a]&&this[a]()):this[t+"Timer"]=setTimeout((function(){e.isOpen="open"===t,"function"===typeof e[a]&&e[a]()}),i)}}}]),t}();function d(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=-1;return i&&("string"===typeof i?i=i.split(/\s*[\,\.]\s*/):Array.isArray(i)||(i="")),f(t,(function(t,r,o){if(i&&(t=p(t,i)),"function"===typeof n?n(t,e,arrElem,r,o):t===e)return a=r,!1})),a}function f(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t||"function"===typeof t||"function"!==typeof e)return t;var n=Object.keys(t),a=t.length,r="number"==typeof a&&a>-1&&a%1==0&&a<=9007199254740991;if(r){for(var o,s=/^(?:0|[1-9]\d*)$/,l=9007199254740991,c=[],h=0;h<n.length;h++)o=n[h],s.test(o)&&+o<=l&&c.push(o);n=c}for(var u=0;u<n.length;u++)if(!1===e.call(i,t[n[u]],n[u],t))break;return t}function p(t,e){for(var i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=0,o=t,s=e.length;r<s;r++){if(!o||"object"!==typeof o)return;if(i=e[r],r===s-1){if(void 0===n)return o[i];o[i]=n}else{if(!o[i]||"object"!==typeof o[i]){if(!a||void 0===n)return;o[i]={}}o=o[i]}}}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=function(t){return t=parseInt(t),!isNaN(t)&&isFinite(t)||(t=-1),t},n=[],a=function(t){if(null==t){for(var e=0;e<n.length;e++)clearTimeout(n[e]);n.length=0}else{var i=n.indexOf(t);i>-1&&(clearTimeout(n[i]),n.splice(i,1))}},r=0,o=function o(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if("new"===l)a();else if("old"===l&&n.length>0)return;if(s=i(s),s<0)t.call(e,o,++r,n);else{var c=setTimeout((function(){a(c),t.call(e,o,++r,n)}),s);n.push(c)}};return o}},6566:function(t,e,i){"use strict";var n=i("9bf2").f,a=i("7c73"),r=i("e2cc"),o=i("0366"),s=i("19aa"),l=i("2266"),c=i("7dd0"),h=i("2626"),u=i("83ab"),d=i("f183").fastKey,f=i("69f3"),p=f.set,g=f.getterFor;t.exports={getConstructor:function(t,e,i,c){var h=t((function(t,n){s(t,h,e),p(t,{type:e,index:a(null),first:void 0,last:void 0,size:0}),u||(t.size=0),void 0!=n&&l(n,t[c],t,i)})),f=g(e),v=function(t,e,i){var n,a,r=f(t),o=m(t,e);return o?o.value=i:(r.last=o={index:a=d(e,!0),key:e,value:i,previous:n=r.last,next:void 0,removed:!1},r.first||(r.first=o),n&&(n.next=o),u?r.size++:t.size++,"F"!==a&&(r.index[a]=o)),t},m=function(t,e){var i,n=f(t),a=d(e);if("F"!==a)return n.index[a];for(i=n.first;i;i=i.next)if(i.key==e)return i};return r(h.prototype,{clear:function(){var t=this,e=f(t),i=e.index,n=e.first;while(n)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete i[n.index],n=n.next;e.first=e.last=void 0,u?e.size=0:t.size=0},delete:function(t){var e=this,i=f(e),n=m(e,t);if(n){var a=n.next,r=n.previous;delete i.index[n.index],n.removed=!0,r&&(r.next=a),a&&(a.previous=r),i.first==n&&(i.first=a),i.last==n&&(i.last=r),u?i.size--:e.size--}return!!n},forEach:function(t){var e,i=f(this),n=o(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:i.first){n(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!m(this,t)}}),r(h.prototype,i?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),u&&n(h.prototype,"size",{get:function(){return f(this).size}}),h},setStrong:function(t,e,i){var n=e+" Iterator",a=g(e),r=g(n);c(t,e,(function(t,e){p(this,{type:n,target:t,state:a(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,i=t.last;while(i&&i.removed)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),h(e)}}},6580:function(t,e,i){"use strict";i.r(e);var n=i("4277"),a=i("3d0c");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("9c74");var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"e8915acc",null,!1,n["a"],o);e["default"]=l.exports},"717f":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".chart-wrap[data-v-54ab320e]{height:100%;background-color:#fff}",""]),t.exports=e},"84c3":function(t,e,i){var n=i("74e8");n("Uint16",(function(t){return function(e,i,n){return t(this,e,i,n)}}))},"85a5":function(t,e,i){"use strict";i.r(e);var n=i("6250"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},"92af":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 引入uview样式 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.qiun-charts[data-v-179b150d]{width:%?230?%;height:%?250?%;background-color:#fff}.charts[data-v-179b150d]{width:%?230?%;height:%?250?%;background-color:#fff}',""]),t.exports=e},"999a":function(t,e,i){"use strict";var n=i("4ea4"),a=i("dbce");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i("a6f9")),o=n(i("e80d")),s={name:"DietRecord",components:{mpvueEcharts:o.default},props:{chartId:{type:String,default:""},chartOption:{type:Object,default:function(){}}},data:function(){return{echarts:r,onInit:this.initChart}},watch:{chartOption:{deep:!0,handler:function(t,e){this.initChart()}}},mounted:function(){this.initChart()},methods:{initChart:function(t){var e=this.chartId,i=r.init(document.getElementById(e));i.setOption(this.chartOption)}}};e.default=s},"9a4e":function(t,e,i){"use strict";var n=i("0087"),a=i.n(n);a.a},"9c74":function(t,e,i){"use strict";var n=i("b77b"),a=i.n(n);a.a},"9c97":function(t,e,i){"use strict";i.r(e);var n=i("19c9"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},a519:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 引入uview样式 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.picker[data-v-e30036f8]{position:fixed;z-index:100;background:hsla(0,0%,100%,0);left:0;top:0;width:100%;height:100%;font-size:%?28?%}.picker-btn[data-v-e30036f8]{padding:%?10?% %?20?%;-webkit-border-radius:%?12?%;border-radius:%?12?%;color:#666}.picker-btn-active[data-v-e30036f8]{background:rgba(0,0,0,.1)}.picker-display[data-v-e30036f8]{color:#666}.picker-display-text[data-v-e30036f8]{color:#000;margin:0 %?10?%}.picker-display-link[data-v-e30036f8]{display:inline-block}.picker-display-link-active[data-v-e30036f8]{background:rgba(0,0,0,.1)}.picker-time[data-v-e30036f8]{width:%?550?%!important;left:%?100?%!important}.picker-modal[data-v-e30036f8]{background:#fff;position:absolute;top:50%;left:%?60?%;width:%?630?%;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-box-shadow:0 0 20px 0 rgba(0,0,0,.1);box-shadow:0 0 20px 0 rgba(0,0,0,.1);-webkit-border-radius:%?12?%;border-radius:%?12?%}.picker-modal-header[data-v-e30036f8]{text-align:center;line-height:%?80?%;font-size:%?32?%}.picker-modal-header-title[data-v-e30036f8]{display:inline-block;width:40%}.picker-modal-header .picker-icon[data-v-e30036f8]{display:inline-block;line-height:%?50?%;width:%?50?%;height:%?50?%;-webkit-border-radius:%?50?%;border-radius:%?50?%;text-align:center;margin:%?10?%;background:#fff;font-size:%?36?%}.picker-modal-header .picker-icon-active[data-v-e30036f8]{background:rgba(0,0,0,.1)}.picker-modal-body[data-v-e30036f8]{width:%?630?%!important;height:%?630?%!important;position:relative}.picker-modal-time[data-v-e30036f8]{width:100%;height:%?180?%;text-align:center;line-height:%?60?%}.picker-modal-footer[data-v-e30036f8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?%}.picker-modal-footer-info[data-v-e30036f8]{-webkit-box-flex:1;-webkit-flex-grow:1;flex-grow:1}.picker-modal-footer-btn[data-v-e30036f8]{-webkit-flex-shrink:0;flex-shrink:0;display:-webkit-box;display:-webkit-flex;display:flex}.picker-calendar[data-v-e30036f8]{position:absolute;left:0;top:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.picker-calendar-view[data-v-e30036f8]{position:relative;width:%?90?%;height:%?90?%;text-align:center}.picker-calendar-view-bgbegin[data-v-e30036f8], .picker-calendar-view-bg[data-v-e30036f8], .picker-calendar-view-bgend[data-v-e30036f8], .picker-calendar-view-item[data-v-e30036f8], .picker-calendar-view-dot[data-v-e30036f8], .picker-calendar-view-tips[data-v-e30036f8]{position:absolute;-webkit-transition:.2s;transition:.2s}.picker-calendar-view-bgbegin[data-v-e30036f8], .picker-calendar-view-bg[data-v-e30036f8], .picker-calendar-view-bgend[data-v-e30036f8]{opacity:.15;height:80%}.picker-calendar-view-bg[data-v-e30036f8]{left:0;top:10%;width:100%}.picker-calendar-view-bgbegin[data-v-e30036f8]{-webkit-border-radius:%?90?% 0 0 %?90?%;border-radius:%?90?% 0 0 %?90?%;top:10%;left:10%;width:90%}.picker-calendar-view-bgend[data-v-e30036f8]{-webkit-border-radius:0 %?90?% %?90?% 0;border-radius:0 %?90?% %?90?% 0;top:10%;left:0;width:90%}.picker-calendar-view-item[data-v-e30036f8]{left:5%;top:5%;width:90%;height:90%;-webkit-border-radius:%?90?%;border-radius:%?90?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.picker-calendar-view-dot[data-v-e30036f8]{right:10%;top:10%;width:%?12?%;height:%?12?%;-webkit-border-radius:%?12?%;border-radius:%?12?%}.picker-calendar-view-tips[data-v-e30036f8]{bottom:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);background:#4e4b46;color:#fff;-webkit-border-radius:%?12?%;border-radius:%?12?%;padding:%?10?% %?20?%;font-size:%?24?%;width:-webkit-max-content;width:max-content;margin-bottom:5px;pointer-events:none}.picker-calendar-view-tips[data-v-e30036f8]:after{content:"";position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:0;height:0;border-style:solid;border-width:5px 5px 0 5px;border-color:#4e4b46 transparent transparent transparent}@font-face{font-family:mxdatepickericon;src:url("data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAMYAAsAAAAACBgAAALMAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDIgqDRIJiATYCJAMUCwwABCAFhG0HSRvfBsg+QCa3noNAyAQ9w6GDvbwpNp2vloCyn8bD/x+y+/5qDhtj+T4eRVEcbsCoKMFASzCgLdDkmqYDwgxkWQ6YH5L/YnppOlLEjlnter43YRjU7M6vJ3iGADVAgJn5kqjv/wEii23T86UsAQT+04fV+o97VTMx4PPZt4DlorLXwIQiGMA5uhaVrBWqGHfQXcTEiE+PE+g2SUlxWlLVBHwUYFMgrgwSB3wstTKSGzqF1nOyiGeeOtNjV4An/vvxR58PSc3AzrMViyDvPo/7dVEUzn5GROfIWAcU4rLXfMFdhte56y4We9gGNEVIezkBOOaQXUrbTf/hJVkhGpDdCw7dSOEzByMEn3kIic98hMxnAfeFPKWCbjRcA148/HxhCEkaA94eGWFaGolsblpaWz8/Po2WVuNHh1fmBpZHIpqal9fOjizhTteY+RZ9rv02I/pq0W6QVH3pSncBz3m55r9ZIPycHfmenvxe4uyutIgfT5u4bgkDusl9gcF0rnfnz+b2NpSaQWBFeu8GIL1xQj5AH/6FAsEr/50F28e/gA9ny6KjLrxIp0TE+UucmQOl5AFNLXkzZufWamWHYEI39PEP2If97CMdm51N6DSmIekwAVmneXTBr0PVYx+aTgfQbU3p+R4jKHdRurBq0oEw6AKSfm+QDbpGF/w3VOP+oBnMHbqdx409FjP4RRHHkAj5IWgQiBUjHfMTuQ1Icpg5avI4sQVRu8EHdWptM1aKrIjuscfeL+kZwxBTYoElztOQ2UygjRIjEphaZsyWodHgvm9SC8QC/JygEA6DiCDeEMhAQFhhOpvxa/18A0TiYMahIy0L2hYIZWeYH9JR085Al4qts1re5St2/SR6DINBGEVYQCWOETHDMAHZ+pcZIQJGTV4RtMmg8UbhuWL1+VLLA2RFHYC71kiRo0SNpjwQh8pj2EFU3oTNmS1WqgIA") format("woff2")}.picker-icon[data-v-e30036f8]{font-family:mxdatepickericon!important}.picker-icon-you[data-v-e30036f8]:before{content:"\\e63e"}.picker-icon-zuo[data-v-e30036f8]:before{content:"\\e640"}.picker-icon-zuozuo[data-v-e30036f8]:before{content:"\\e641"}.picker-icon-youyou[data-v-e30036f8]:before{content:"\\e642"}',""]),t.exports=e},a6f9:function(t,e,i){(function(t){i("99af"),i("cb29"),i("4de4"),i("4160"),i("c975"),i("a15b"),i("baa5"),i("d81d"),i("13d5"),i("26e9"),i("fb6a"),i("4e82"),i("a434"),i("ace4"),i("a9e3"),i("b680"),i("dca8"),i("d3b7"),i("acd8"),i("e25e"),i("4d63"),i("ac1f"),i("25f0"),i("466d"),i("38cf"),i("5319"),i("1276"),i("498a"),i("cfc3"),i("4a9b"),i("143c"),i("84c3"),i("fb2c"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("159b"),function(t,i){i(e)}(0,(function(e){"use strict";function i(t){var e={},i={},n=t.match(/Firefox\/([\d.]+)/),a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return n&&(i.firefox=!0,i.version=n[1]),a&&(i.ie=!0,i.version=a[1]),r&&(i.edge=!0,i.version=r[1]),o&&(i.weChat=!0),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=11),domSupported:"undefined"!=typeof document}}function n(t,e){"createCanvas"===t&&(Xu=null),Gu[t]=e}function a(t){if(null==t||"object"!=typeof t)return t;var e=t,i=Fu.call(t);if("[object Array]"===i){if(!F(t)){e=[];for(var n=0,r=t.length;r>n;n++)e[n]=a(t[n])}}else if(zu[i]){if(!F(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(n=0,r=t.length;r>n;n++)e[n]=a(t[n])}}}else if(!Ou[i]&&!F(t)&&!C(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=a(t[s]));return e}function r(t,e,i){if(!S(e)||!S(t))return i?a(e):t;for(var n in e)if(e.hasOwnProperty(n)){var o=t[n],s=e[n];!S(s)||!S(o)||_(s)||_(o)||C(s)||C(o)||A(s)||A(o)||F(s)||F(o)?!i&&n in t||(t[n]=a(e[n],!0)):r(o,s,i)}return t}function o(t,e){for(var i=t[0],n=1,a=t.length;a>n;n++)i=r(i,t[n],e);return i}function s(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function l(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function c(){return Xu||(Xu=Uu().getContext("2d")),Xu}function h(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1}function u(t,e){function i(){}var n=t.prototype;for(var a in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(a)&&(t.prototype[a]=n[a]);t.prototype.constructor=t,t.superClass=e}function d(t,e,i){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,l(t,e,i)}function f(t){return t?"string"!=typeof t&&"number"==typeof t.length:void 0}function p(t,e,i){if(t&&e)if(t.forEach&&t.forEach===Bu)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,a=t.length;a>n;n++)e.call(i,t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function g(t,e,i){if(t&&e){if(t.map&&t.map===ju)return t.map(e,i);for(var n=[],a=0,r=t.length;r>a;a++)n.push(e.call(i,t[a],a,t));return n}}function v(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===Vu)return t.reduce(e,i,n);for(var a=0,r=t.length;r>a;a++)i=e.call(n,i,t[a],a,t);return i}}function m(t,e,i){if(t&&e){if(t.filter&&t.filter===Wu)return t.filter(e,i);for(var n=[],a=0,r=t.length;r>a;a++)e.call(i,t[a],a,t)&&n.push(t[a]);return n}}function x(t,e,i){if(t&&e)for(var n=0,a=t.length;a>n;n++)if(e.call(i,t[n],n,t))return t[n]}function y(t,e){var i=Hu.call(arguments,2);return function(){return t.apply(e,i.concat(Hu.call(arguments)))}}function b(t){var e=Hu.call(arguments,1);return function(){return t.apply(this,e.concat(Hu.call(arguments)))}}function _(t){return"[object Array]"===Fu.call(t)}function w(t){return"function"==typeof t}function k(t){return"[object String]"===Fu.call(t)}function S(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function A(t){return!!Ou[Fu.call(t)]}function T(t){return!!zu[Fu.call(t)]}function C(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function M(t){return t!==t}function D(){for(var t=0,e=arguments.length;e>t;t++)if(null!=arguments[t])return arguments[t]}function I(t,e){return null!=t?t:e}function L(t,e,i){return null!=t?t:null!=e?e:i}function P(){return Function.call.apply(Hu,arguments)}function R(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function E(t,e){if(!t)throw new Error(e)}function O(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function z(t){t[Yu]=!0}function F(t){return t[Yu]}function N(t){function e(t,e){i?n.set(t,e):n.set(e,t)}var i=_(t);this.data={};var n=this;t instanceof N?t.each(e):t&&p(t,e)}function B(t){return new N(t)}function W(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var a=t.length;for(n=0;n<e.length;n++)i[n+a]=e[n];return i}function H(){}function j(t,e){var i=new qu(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function V(t,e){return t[0]=e[0],t[1]=e[1],t}function G(t){var e=new qu(2);return e[0]=t[0],e[1]=t[1],e}function U(t,e,i){return t[0]=e,t[1]=i,t}function X(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Y(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function $(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function q(t){return Math.sqrt(Z(t))}function Z(t){return t[0]*t[0]+t[1]*t[1]}function J(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function Q(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function K(t,e){return t[0]*e[0]+t[1]*e[1]}function tt(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function et(t,e){var i=q(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function it(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function nt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function at(t,e){return t[0]=-e[0],t[1]=-e[1],t}function rt(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function ot(t,e,i){var n=e[0],a=e[1];return t[0]=i[0]*n+i[2]*a+i[4],t[1]=i[1]*n+i[3]*a+i[5],t}function st(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function lt(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function ct(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function ht(t,e){return{target:t,topTarget:e&&e.topTarget}}function ut(t,e){var i=t._$eventProcessor;return null!=e&&i&&i.normalizeQuery&&(e=i.normalizeQuery(e)),e}function dt(t,e,i,n,a,r){var o=t._$handlers;if("function"==typeof i&&(a=n,n=i,i=null),!n||!e)return t;i=ut(t,i),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===n)return t;var l={h:n,one:r,query:i,ctx:a||t,callAtLast:n.zrEventfulCallAtLast},c=o[e].length-1,h=o[e][c];return h&&h.callAtLast?o[e].splice(c,0,l):o[e].push(l),t}function ft(t,e,i,n,a,r){var o=n+"-"+a,s=t.length;if(r.hasOwnProperty(o))return r[o];if(1===e){var l=Math.round(Math.log((1<<s)-1&~a)/nd);return t[i][l]}for(var c=n|1<<i,h=i+1;n&1<<h;)h++;for(var u=0,d=0,f=0;s>d;d++){var p=1<<d;p&a||(u+=(f%2?-1:1)*t[i][d]*ft(t,e-1,h,c,a|p,r),f++)}return r[o]=u,u}function pt(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},a=ft(i,8,0,0,0,n);if(0!==a){for(var r=[],o=0;8>o;o++)for(var s=0;8>s;s++)null==r[s]&&(r[s]=0),r[s]+=((o+s)%2?-1:1)*ft(i,7,0===o?1:0,1<<o,1<<s,n)/a*e[o];return function(t,e,i){var n=e*r[6]+i*r[7]+1;t[0]=(e*r[0]+i*r[1]+r[2])/n,t[1]=(e*r[3]+i*r[4]+r[5])/n}}}function gt(t,e,i,n){return i=i||{},n||!Eu.canvasSupported?vt(t,e,i):Eu.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):vt(t,e,i),i}function vt(t,e,i){if(t.getBoundingClientRect&&Eu.domSupported){var n=e.clientX,a=e.clientY;if("CANVAS"===t.nodeName.toUpperCase()){var r=t.getBoundingClientRect();return i.zrX=n-r.left,void(i.zrY=a-r.top)}var o=t[od]||(t[od]={}),s=xt(mt(t,o),o);if(s)return s(sd,n,a),i.zrX=sd[0],void(i.zrY=sd[1])}i.zrX=i.zrY=0}function mt(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],a=["top","bottom"],r=0;4>r;r++){var o=document.createElement("div"),s=o.style,l=r%2,c=(r>>1)%2;s.cssText=["position:absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","width:0","height:0",n[l]+":0",a[c]+":0",n[1-l]+":auto",a[1-c]+":auto",""].join("!important;"),t.appendChild(o),i.push(o)}return i}function xt(t,e){for(var i=e.transformer,n=e.srcCoords,a=!0,r=[],o=[],s=0;4>s;s++){var l=t[s].getBoundingClientRect(),c=2*s,h=l.left,u=l.top;r.push(h,u),a&=n&&h===n[c]&&u===n[c+1],o.push(t[s].offsetLeft,t[s].offsetTop)}return a?i:(e.srcCoords=r,e.transformer=pt(r,o))}function yt(t){return t||window.event}function bt(t,e,i){if(e=yt(e),null!=e.zrX)return e;var n=e.type,a=n&&n.indexOf("touch")>=0;if(a){var r="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];r&&gt(t,r,e,i)}else gt(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&rd.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function _t(t,e,i,n){ad?t.addEventListener(e,i,n):t.attachEvent("on"+e,i)}function wt(t,e,i,n){ad?t.removeEventListener(e,i,n):t.detachEvent("on"+e,i)}function kt(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function St(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function At(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:Tt}}function Tt(){ld(this.event)}function Ct(){}function Mt(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n,a=t;a;){if(a.clipPath&&!a.clipPath.contain(e,i))return!1;a.silent&&(n=!0),a=a.parent}return!n||ud}return!1}function Dt(t,e,i){var n=t.painter;return 0>e||e>n.getWidth()||0>i||i>n.getHeight()}function It(){var t=new pd(6);return Lt(t),t}function Lt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Pt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Rt(t,e,i){var n=e[0]*i[0]+e[2]*i[1],a=e[1]*i[0]+e[3]*i[1],r=e[0]*i[2]+e[2]*i[3],o=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=a,t[2]=r,t[3]=o,t[4]=s,t[5]=l,t}function Et(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function Ot(t,e,i){var n=e[0],a=e[2],r=e[4],o=e[1],s=e[3],l=e[5],c=Math.sin(i),h=Math.cos(i);return t[0]=n*h+o*c,t[1]=-n*c+o*h,t[2]=a*h+s*c,t[3]=-a*c+h*s,t[4]=h*r+c*l,t[5]=h*l-c*r,t}function zt(t,e,i){var n=i[0],a=i[1];return t[0]=e[0]*n,t[1]=e[1]*a,t[2]=e[2]*n,t[3]=e[3]*a,t[4]=e[4]*n,t[5]=e[5]*a,t}function Ft(t,e){var i=e[0],n=e[2],a=e[4],r=e[1],o=e[3],s=e[5],l=i*o-r*n;return l?(l=1/l,t[0]=o*l,t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-o*a)*l,t[5]=(r*a-i*s)*l,t):null}function Nt(t){var e=It();return Pt(e,t),e}function Bt(t){return t>md||-md>t}function Wt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function Ht(t){return t=Math.round(t),0>t?0:t>255?255:t}function jt(t){return t=Math.round(t),0>t?0:t>360?360:t}function Vt(t){return 0>t?0:t>1?1:t}function Gt(t){return Ht(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function Ut(t){return Vt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function Xt(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}function Yt(t,e,i){return t+(e-t)*i}function $t(t,e,i,n,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=a,t}function qt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Zt(t,e){Ld&&qt(Ld,e),Ld=Id.put(t,Ld||e.slice())}function Jt(t,e){if(t){e=e||[];var i=Id.get(t);if(i)return qt(e,i);t+="";var n=t.replace(/ /g,"").toLowerCase();if(n in Dd)return qt(e,Dd[n]),Zt(t,e),e;if("#"!==n.charAt(0)){var a=n.indexOf("("),r=n.indexOf(")");if(-1!==a&&r+1===n.length){var o=n.substr(0,a),s=n.substr(a+1,r-(a+1)).split(","),l=1;switch(o){case"rgba":if(4!==s.length)return void $t(e,0,0,0,1);l=Ut(s.pop());case"rgb":return 3!==s.length?void $t(e,0,0,0,1):($t(e,Gt(s[0]),Gt(s[1]),Gt(s[2]),l),Zt(t,e),e);case"hsla":return 4!==s.length?void $t(e,0,0,0,1):(s[3]=Ut(s[3]),Qt(s,e),Zt(t,e),e);case"hsl":return 3!==s.length?void $t(e,0,0,0,1):(Qt(s,e),Zt(t,e),e);default:return}}$t(e,0,0,0,1)}else{if(4===n.length){var c=parseInt(n.substr(1),16);return c>=0&&4095>=c?($t(e,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1),Zt(t,e),e):void $t(e,0,0,0,1)}if(7===n.length){c=parseInt(n.substr(1),16);return c>=0&&16777215>=c?($t(e,(16711680&c)>>16,(65280&c)>>8,255&c,1),Zt(t,e),e):void $t(e,0,0,0,1)}}}}function Qt(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=Ut(t[1]),a=Ut(t[2]),r=.5>=a?a*(n+1):a+n-a*n,o=2*a-r;return e=e||[],$t(e,Ht(255*Xt(o,r,i+1/3)),Ht(255*Xt(o,r,i)),Ht(255*Xt(o,r,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Kt(t){if(t){var e,i,n=t[0]/255,a=t[1]/255,r=t[2]/255,o=Math.min(n,a,r),s=Math.max(n,a,r),l=s-o,c=(s+o)/2;if(0===l)e=0,i=0;else{i=.5>c?l/(s+o):l/(2-s-o);var h=((s-n)/6+l/2)/l,u=((s-a)/6+l/2)/l,d=((s-r)/6+l/2)/l;n===s?e=d-u:a===s?e=1/3+h-d:r===s&&(e=2/3+u-h),0>e&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,c];return null!=t[3]&&f.push(t[3]),f}}function te(t,e){var i=Jt(t);if(i){for(var n=0;3>n;n++)i[n]=0>e?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,i[n]>255?i[n]=255:t[n]<0&&(i[n]=0);return oe(i,4===i.length?"rgba":"rgb")}}function ee(t){var e=Jt(t);return e?((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1):void 0}function ie(t,e,i){if(e&&e.length&&t>=0&&1>=t){i=i||[];var n=t*(e.length-1),a=Math.floor(n),r=Math.ceil(n),o=e[a],s=e[r],l=n-a;return i[0]=Ht(Yt(o[0],s[0],l)),i[1]=Ht(Yt(o[1],s[1],l)),i[2]=Ht(Yt(o[2],s[2],l)),i[3]=Vt(Yt(o[3],s[3],l)),i}}function ne(t,e,i){if(e&&e.length&&t>=0&&1>=t){var n=t*(e.length-1),a=Math.floor(n),r=Math.ceil(n),o=Jt(e[a]),s=Jt(e[r]),l=n-a,c=oe([Ht(Yt(o[0],s[0],l)),Ht(Yt(o[1],s[1],l)),Ht(Yt(o[2],s[2],l)),Vt(Yt(o[3],s[3],l))],"rgba");return i?{color:c,leftIndex:a,rightIndex:r,value:n}:c}}function ae(t,e,i,n){return t=Jt(t),t?(t=Kt(t),null!=e&&(t[0]=jt(e)),null!=i&&(t[1]=Ut(i)),null!=n&&(t[2]=Ut(n)),oe(Qt(t),"rgba")):void 0}function re(t,e){return t=Jt(t),t&&null!=e?(t[3]=Vt(e),oe(t,"rgba")):void 0}function oe(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(i+=","+t[3]),e+"("+i+")"}}function se(t,e){return t[e]}function le(t,e,i){t[e]=i}function ce(t,e,i){return(e-t)*i+t}function he(t,e,i){return i>.5?e:t}function ue(t,e,i,n,a){var r=t.length;if(1===a)for(var o=0;r>o;o++)n[o]=ce(t[o],e[o],i);else{var s=r&&t[0].length;for(o=0;r>o;o++)for(var l=0;s>l;l++)n[o][l]=ce(t[o][l],e[o][l],i)}}function de(t,e,i){var n=t.length,a=e.length;if(n!==a){var r=n>a;if(r)t.length=a;else for(var o=n;a>o;o++)t.push(1===i?e[o]:Od.call(e[o]))}var s=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===i)isNaN(t[o])&&(t[o]=e[o]);else for(var l=0;s>l;l++)isNaN(t[o][l])&&(t[o][l]=e[o][l])}function fe(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var a=0;n>a;a++)if(t[a]!==e[a])return!1}else{var r=t[0].length;for(a=0;n>a;a++)for(var o=0;r>o;o++)if(t[a][o]!==e[a][o])return!1}return!0}function pe(t,e,i,n,a,r,o,s,l){var c=t.length;if(1===l)for(var h=0;c>h;h++)s[h]=ge(t[h],e[h],i[h],n[h],a,r,o);else{var u=t[0].length;for(h=0;c>h;h++)for(var d=0;u>d;d++)s[h][d]=ge(t[h][d],e[h][d],i[h][d],n[h][d],a,r,o)}}function ge(t,e,i,n,a,r,o){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*o+(-3*(e-i)-2*s-l)*r+s*a+e}function ve(t){if(f(t)){var e=t.length;if(f(t[0])){for(var i=[],n=0;e>n;n++)i.push(Od.call(t[n]));return i}return Od.call(t)}return t}function me(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function xe(t){var e=t[t.length-1].value;return f(e&&e[0])?2:1}function ye(t,e,i,n,a,r){var o=t._getter,s=t._setter,l="spline"===e,c=n.length;if(c){var h,u=n[0].value,d=f(u),p=!1,g=!1,v=d?xe(n):0;n.sort((function(t,e){return t.time-e.time})),h=n[c-1].time;for(var m=[],x=[],y=n[0].value,b=!0,_=0;c>_;_++){m.push(n[_].time/h);var w=n[_].value;if(d&&fe(w,y,v)||!d&&w===y||(b=!1),y=w,"string"==typeof w){var k=Jt(w);k?(w=k,p=!0):g=!0}x.push(w)}if(r||!b){var S=x[c-1];for(_=0;c-1>_;_++)d?de(x[_],S,v):!isNaN(x[_])||isNaN(S)||g||p||(x[_]=S);d&&de(o(t._target,a),S,v);var A,T,C,M,D,I,L=0,P=0;if(p)var R=[0,0,0,0];var E=function(t,e){var i;if(0>e)i=0;else if(P>e){for(A=Math.min(L+1,c-1),i=A;i>=0&&!(m[i]<=e);i--);i=Math.min(i,c-2)}else{for(i=L;c>i&&!(m[i]>e);i++);i=Math.min(i-1,c-2)}L=i,P=e;var n=m[i+1]-m[i];if(0!==n)if(T=(e-m[i])/n,l)if(M=x[i],C=x[0===i?i:i-1],D=x[i>c-2?c-1:i+1],I=x[i>c-3?c-1:i+2],d)pe(C,M,D,I,T,T*T,T*T*T,o(t,a),v);else{if(p)r=pe(C,M,D,I,T,T*T,T*T*T,R,1),r=me(R);else{if(g)return he(M,D,T);r=ge(C,M,D,I,T,T*T,T*T*T)}s(t,a,r)}else if(d)ue(x[i],x[i+1],T,o(t,a),v);else{var r;if(p)ue(x[i],x[i+1],T,R,1),r=me(R);else{if(g)return he(x[i],x[i+1],T);r=ce(x[i],x[i+1],T)}s(t,a,r)}},O=new Wt({target:t._target,life:h,loop:t._loop,delay:t._delay,onframe:E,ondestroy:i});return e&&"spline"!==e&&(O.easing=e),O}}}function be(t,e,i,n,a,r,o,s){function l(){h--,h||r&&r()}k(n)?(r=a,a=n,n=0):w(a)?(r=a,a="linear",n=0):w(n)?(r=n,n=0):w(i)?(r=i,i=500):i||(i=500),t.stopAnimation(),_e(t,"",t,e,i,n,s);var c=t.animators.slice(),h=c.length;h||r&&r();for(var u=0;u<c.length;u++)c[u].done(l).start(a,o)}function _e(t,e,i,n,a,r,o){var s={},l=0;for(var c in n)n.hasOwnProperty(c)&&(null!=i[c]?S(n[c])&&!f(n[c])?_e(t,e?e+"."+c:c,i[c],n[c],a,r,o):(o?(s[c]=i[c],we(t,e,c,n[c])):s[c]=n[c],l++):null==n[c]||o||we(t,e,c,n[c]));l>0&&t.animate(e,!1).when(null==a?500:a,s).delay(r||0)}function we(t,e,i,n){if(e){var a={};a[e]={},a[e][i]=n,t.attr(a)}else t.attr(i,n)}function ke(t,e,i,n){0>i&&(t+=i,i=-i),0>n&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}function Se(t){for(var e=0;t>=$d;)e|=1&t,t>>=1;return t+e}function Ae(t,e,i,n){var a=e+1;if(a===i)return 1;if(n(t[a++],t[e])<0){for(;i>a&&n(t[a],t[a-1])<0;)a++;Te(t,e,a)}else for(;i>a&&n(t[a],t[a-1])>=0;)a++;return a-e}function Te(t,e,i){for(i--;i>e;){var n=t[e];t[e++]=t[i],t[i--]=n}}function Ce(t,e,i,n,a){for(n===e&&n++;i>n;n++){for(var r,o=t[n],s=e,l=n;l>s;)r=s+l>>>1,a(o,t[r])<0?l=r:s=r+1;var c=n-s;switch(c){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;c>0;)t[s+c]=t[s+c-1],c--}t[s]=o}}function Me(t,e,i,n,a,r){var o=0,s=0,l=1;if(r(t,e[i+a])>0){for(s=n-a;s>l&&r(t,e[i+a+l])>0;)o=l,l=1+(l<<1),0>=l&&(l=s);l>s&&(l=s),o+=a,l+=a}else{for(s=a+1;s>l&&r(t,e[i+a-l])<=0;)o=l,l=1+(l<<1),0>=l&&(l=s);l>s&&(l=s);var c=o;o=a-l,l=a-c}for(o++;l>o;){var h=o+(l-o>>>1);r(t,e[i+h])>0?o=h+1:l=h}return l}function De(t,e,i,n,a,r){var o=0,s=0,l=1;if(r(t,e[i+a])<0){for(s=a+1;s>l&&r(t,e[i+a-l])<0;)o=l,l=1+(l<<1),0>=l&&(l=s);l>s&&(l=s);var c=o;o=a-l,l=a-c}else{for(s=n-a;s>l&&r(t,e[i+a+l])>=0;)o=l,l=1+(l<<1),0>=l&&(l=s);l>s&&(l=s),o+=a,l+=a}for(o++;l>o;){var h=o+(l-o>>>1);r(t,e[i+h])<0?l=h:o=h+1}return l}function Ie(t,e){function i(t,e){l[u]=t,c[u]=e,u+=1}function n(){for(;u>1;){var t=u-2;if(t>=1&&c[t-1]<=c[t]+c[t+1]||t>=2&&c[t-2]<=c[t]+c[t-1])c[t-1]<c[t+1]&&t--;else if(c[t]>c[t+1])break;r(t)}}function a(){for(;u>1;){var t=u-2;t>0&&c[t-1]<c[t+1]&&t--,r(t)}}function r(i){var n=l[i],a=c[i],r=l[i+1],h=c[i+1];c[i]=a+h,i===u-3&&(l[i+1]=l[i+2],c[i+1]=c[i+2]),u--;var d=De(t[r],t,n,a,0,e);n+=d,a-=d,0!==a&&(h=Me(t[n+a-1],t,r,h,h-1,e),0!==h&&(h>=a?o(n,a,r,h):s(n,a,r,h)))}function o(i,n,a,r){var o=0;for(o=0;n>o;o++)d[o]=t[i+o];var s=0,l=a,c=i;if(t[c++]=t[l++],0!==--r){if(1===n){for(o=0;r>o;o++)t[c+o]=t[l+o];return void(t[c+r]=d[s])}for(var u,f,p,g=h;;){u=0,f=0,p=!1;do{if(e(t[l],d[s])<0){if(t[c++]=t[l++],f++,u=0,0===--r){p=!0;break}}else if(t[c++]=d[s++],u++,f=0,1===--n){p=!0;break}}while(g>(u|f));if(p)break;do{if(u=De(t[l],d,s,n,0,e),0!==u){for(o=0;u>o;o++)t[c+o]=d[s+o];if(c+=u,s+=u,n-=u,1>=n){p=!0;break}}if(t[c++]=t[l++],0===--r){p=!0;break}if(f=Me(d[s],t,l,r,0,e),0!==f){for(o=0;f>o;o++)t[c+o]=t[l+o];if(c+=f,l+=f,r-=f,0===r){p=!0;break}}if(t[c++]=d[s++],1===--n){p=!0;break}g--}while(u>=qd||f>=qd);if(p)break;0>g&&(g=0),g+=2}if(h=g,1>h&&(h=1),1===n){for(o=0;r>o;o++)t[c+o]=t[l+o];t[c+r]=d[s]}else{if(0===n)throw new Error;for(o=0;n>o;o++)t[c+o]=d[s+o]}}else for(o=0;n>o;o++)t[c+o]=d[s+o]}function s(i,n,a,r){var o=0;for(o=0;r>o;o++)d[o]=t[a+o];var s=i+n-1,l=r-1,c=a+r-1,u=0,f=0;if(t[c--]=t[s--],0!==--n){if(1===r){for(c-=n,s-=n,f=c+1,u=s+1,o=n-1;o>=0;o--)t[f+o]=t[u+o];return void(t[c]=d[l])}for(var p=h;;){var g=0,v=0,m=!1;do{if(e(d[l],t[s])<0){if(t[c--]=t[s--],g++,v=0,0===--n){m=!0;break}}else if(t[c--]=d[l--],v++,g=0,1===--r){m=!0;break}}while(p>(g|v));if(m)break;do{if(g=n-De(d[l],t,i,n,n-1,e),0!==g){for(c-=g,s-=g,n-=g,f=c+1,u=s+1,o=g-1;o>=0;o--)t[f+o]=t[u+o];if(0===n){m=!0;break}}if(t[c--]=d[l--],1===--r){m=!0;break}if(v=r-Me(t[s],d,0,r,r-1,e),0!==v){for(c-=v,l-=v,r-=v,f=c+1,u=l+1,o=0;v>o;o++)t[f+o]=d[u+o];if(1>=r){m=!0;break}}if(t[c--]=t[s--],0===--n){m=!0;break}p--}while(g>=qd||v>=qd);if(m)break;0>p&&(p=0),p+=2}if(h=p,1>h&&(h=1),1===r){for(c-=n,s-=n,f=c+1,u=s+1,o=n-1;o>=0;o--)t[f+o]=t[u+o];t[c]=d[l]}else{if(0===r)throw new Error;for(u=c-(r-1),o=0;r>o;o++)t[u+o]=d[o]}}else for(u=c-(r-1),o=0;r>o;o++)t[u+o]=d[o]}var l,c,h=qd,u=0,d=[];l=[],c=[],this.mergeRuns=n,this.forceMergeRuns=a,this.pushRun=i}function Le(t,e,i,n){i||(i=0),n||(n=t.length);var a=n-i;if(!(2>a)){var r=0;if($d>a)return r=Ae(t,i,n,e),void Ce(t,i,n,i+r,e);var o=new Ie(t,e),s=Se(a);do{if(r=Ae(t,i,n,e),s>r){var l=a;l>s&&(l=s),Ce(t,i,i+l,i+r,e),r=l}o.pushRun(i,r),o.mergeRuns(),a-=r,i+=r}while(0!==a);o.forceMergeRuns()}}function Pe(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function Re(t,e,i){var n=null==e.x?0:e.x,a=null==e.x2?1:e.x2,r=null==e.y?0:e.y,o=null==e.y2?0:e.y2;e.global||(n=n*i.width+i.x,a=a*i.width+i.x,r=r*i.height+i.y,o=o*i.height+i.y),n=isNaN(n)?0:n,a=isNaN(a)?1:a,r=isNaN(r)?0:r,o=isNaN(o)?0:o;var s=t.createLinearGradient(n,r,a,o);return s}function Ee(t,e,i){var n=i.width,a=i.height,r=Math.min(n,a),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;e.global||(o=o*n+i.x,s=s*a+i.y,l*=r);var c=t.createRadialGradient(o,s,0,o,s,l);return c}function Oe(){return!1}function ze(t,e,i){var n=Uu(),a=e.getWidth(),r=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=a+"px",o.height=r+"px",n.setAttribute("data-zr-dom-id",t)),n.width=a*i,n.height=r*i,n}function Fe(t){if("string"==typeof t){var e=hf.get(t);return e&&e.image}return t}function Ne(t,e,i,n,a){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var r=hf.get(t),o={hostEl:i,cb:n,cbPayload:a};return r?(e=r.image,!We(e)&&r.pending.push(o)):(e=new Image,e.onload=e.onerror=Be,hf.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return t}return e}function Be(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function We(t){return t&&t.width&&t.height}function He(t,e){e=e||gf;var i=t+":"+e;if(uf[i])return uf[i];for(var n=(t+"").split("\n"),a=0,r=0,o=n.length;o>r;r++)a=Math.max(Ke(n[r],e).width,a);return df>ff&&(df=0,uf={}),df++,uf[i]=a,a}function je(t,e,i,n,a,r,o,s){return o?Ge(t,e,i,n,a,r,o,s):Ve(t,e,i,n,a,r,s)}function Ve(t,e,i,n,a,r,o){var s=ti(t,e,a,r,o),l=He(t,e);a&&(l+=a[1]+a[3]);var c=s.outerHeight,h=Ue(0,l,i),u=Xe(0,c,n),d=new ke(h,u,l,c);return d.lineHeight=s.lineHeight,d}function Ge(t,e,i,n,a,r,o,s){var l=ei(t,{rich:o,truncate:s,font:e,textAlign:i,textPadding:a,textLineHeight:r}),c=l.outerWidth,h=l.outerHeight,u=Ue(0,c,i),d=Xe(0,h,n);return new ke(u,d,c,h)}function Ue(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function Xe(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function Ye(t,e,i){var n=e.textPosition,a=e.textDistance,r=i.x,o=i.y;a=a||0;var s=i.height,l=i.width,c=s/2,h="left",u="top";switch(n){case"left":r-=a,o+=c,h="right",u="middle";break;case"right":r+=a+l,o+=c,u="middle";break;case"top":r+=l/2,o-=a,h="center",u="bottom";break;case"bottom":r+=l/2,o+=s+a,h="center";break;case"inside":r+=l/2,o+=c,h="center",u="middle";break;case"insideLeft":r+=a,o+=c,u="middle";break;case"insideRight":r+=l-a,o+=c,h="right",u="middle";break;case"insideTop":r+=l/2,o+=a,h="center";break;case"insideBottom":r+=l/2,o+=s-a,h="center",u="bottom";break;case"insideTopLeft":r+=a,o+=a;break;case"insideTopRight":r+=l-a,o+=a,h="right";break;case"insideBottomLeft":r+=a,o+=s-a,u="bottom";break;case"insideBottomRight":r+=l-a,o+=s-a,h="right",u="bottom"}return t=t||{},t.x=r,t.y=o,t.textAlign=h,t.textVerticalAlign=u,t}function $e(t,e,i,n,a){if(!e)return"";var r=(t+"").split("\n");a=qe(e,i,n,a);for(var o=0,s=r.length;s>o;o++)r[o]=Ze(r[o],a);return r.join("\n")}function qe(t,e,i,n){n=s({},n),n.font=e;i=I(i,"...");n.maxIterations=I(n.maxIterations,2);var a=n.minChar=I(n.minChar,0);n.cnCharWidth=He("国",e);var r=n.ascCharWidth=He("a",e);n.placeholder=I(n.placeholder,"");for(var o=t=Math.max(0,t-1),l=0;a>l&&o>=r;l++)o-=r;var c=He(i,e);return c>o&&(i="",c=0),o=t-c,n.ellipsis=i,n.ellipsisWidth=c,n.contentWidth=o,n.containerWidth=t,n}function Ze(t,e){var i=e.containerWidth,n=e.font,a=e.contentWidth;if(!i)return"";var r=He(t,n);if(i>=r)return t;for(var o=0;;o++){if(a>=r||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?Je(t,a,e.ascCharWidth,e.cnCharWidth):r>0?Math.floor(t.length*a/r):0;t=t.substr(0,s),r=He(t,n)}return""===t&&(t=e.placeholder),t}function Je(t,e,i,n){for(var a=0,r=0,o=t.length;o>r&&e>a;r++){var s=t.charCodeAt(r);a+=s>=0&&127>=s?i:n}return r}function Qe(t){return He("国",t)}function Ke(t,e){return vf.measureText(t,e)}function ti(t,e,i,n,a){null!=t&&(t+="");var r=I(n,Qe(e)),o=t?t.split("\n"):[],s=o.length*r,l=s,c=!0;if(i&&(l+=i[0]+i[2]),t&&a){c=!1;var h=a.outerHeight,u=a.outerWidth;if(null!=h&&l>h)t="",o=[];else if(null!=u)for(var d=qe(u-(i?i[1]+i[3]:0),e,a.ellipsis,{minChar:a.minChar,placeholder:a.placeholder}),f=0,p=o.length;p>f;f++)o[f]=Ze(o[f],d)}return{lines:o,height:s,outerHeight:l,lineHeight:r,canCacheByTextString:c}}function ei(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var n,a=pf.lastIndex=0;null!=(n=pf.exec(t));){var r=n.index;r>a&&ii(i,t.substring(a,r)),ii(i,n[2],n[1]),a=pf.lastIndex}a<t.length&&ii(i,t.substring(a,t.length));var o=i.lines,s=0,l=0,c=[],h=e.textPadding,u=e.truncate,d=u&&u.outerWidth,f=u&&u.outerHeight;h&&(null!=d&&(d-=h[1]+h[3]),null!=f&&(f-=h[0]+h[2]));for(var p=0;p<o.length;p++){for(var g=o[p],v=0,m=0,x=0;x<g.tokens.length;x++){var y=g.tokens[x],b=y.styleName&&e.rich[y.styleName]||{},_=y.textPadding=b.textPadding,w=y.font=b.font||e.font,k=y.textHeight=I(b.textHeight,Qe(w));if(_&&(k+=_[0]+_[2]),y.height=k,y.lineHeight=L(b.textLineHeight,e.textLineHeight,k),y.textAlign=b&&b.textAlign||e.textAlign,y.textVerticalAlign=b&&b.textVerticalAlign||"middle",null!=f&&s+y.lineHeight>f)return{lines:[],width:0,height:0};y.textWidth=He(y.text,w);var S=b.textWidth,A=null==S||"auto"===S;if("string"==typeof S&&"%"===S.charAt(S.length-1))y.percentWidth=S,c.push(y),S=0;else{if(A){S=y.textWidth;var T=b.textBackgroundColor,C=T&&T.image;C&&(C=Fe(C),We(C)&&(S=Math.max(S,C.width*k/C.height)))}var M=_?_[1]+_[3]:0;S+=M;var D=null!=d?d-m:null;null!=D&&S>D&&(!A||M>D?(y.text="",y.textWidth=S=0):(y.text=$e(y.text,D-M,w,u.ellipsis,{minChar:u.minChar}),y.textWidth=He(y.text,w),S=y.textWidth+M))}m+=y.width=S,b&&(v=Math.max(v,y.lineHeight))}g.width=m,g.lineHeight=v,s+=v,l=Math.max(l,m)}i.outerWidth=i.width=I(e.textWidth,l),i.outerHeight=i.height=I(e.textHeight,s),h&&(i.outerWidth+=h[1]+h[3],i.outerHeight+=h[0]+h[2]);for(p=0;p<c.length;p++){y=c[p];var P=y.percentWidth;y.width=parseInt(P,10)/100*l}return i}function ii(t,e,i){for(var n=""===e,a=e.split("\n"),r=t.lines,o=0;o<a.length;o++){var s=a[o],l={styleName:i,text:s,isLineHolder:!s&&!n};if(o)r.push({tokens:[l]});else{var c=(r[r.length-1]||(r[0]={tokens:[]})).tokens,h=c.length;1===h&&c[0].isLineHolder?c[0]=l:(s||!h||n)&&c.push(l)}}}function ni(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&O(e)||t.textFont||t.font}function ai(t,e){var i,n,a,r,o,s=e.x,l=e.y,c=e.width,h=e.height,u=e.r;0>c&&(s+=c,c=-c),0>h&&(l+=h,h=-h),"number"==typeof u?i=n=a=r=u:u instanceof Array?1===u.length?i=n=a=r=u[0]:2===u.length?(i=a=u[0],n=r=u[1]):3===u.length?(i=u[0],n=r=u[1],a=u[2]):(i=u[0],n=u[1],a=u[2],r=u[3]):i=n=a=r=0,i+n>c&&(o=i+n,i*=c/o,n*=c/o),a+r>c&&(o=a+r,a*=c/o,r*=c/o),n+a>h&&(o=n+a,n*=h/o,a*=h/o),i+r>h&&(o=i+r,i*=h/o,r*=h/o),t.moveTo(s+i,l),t.lineTo(s+c-n,l),0!==n&&t.arc(s+c-n,l+n,n,-Math.PI/2,0),t.lineTo(s+c,l+h-a),0!==a&&t.arc(s+c-a,l+h-a,a,0,Math.PI/2),t.lineTo(s+r,l+h),0!==r&&t.arc(s+r,l+h-r,r,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI)}function ri(t){return oi(t),p(t.rich,oi),t}function oi(t){if(t){t.font=ni(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||xf[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||yf[i]?i:"top";var n=t.textPadding;n&&(t.textPadding=R(t.textPadding))}}function si(t,e,i,n,a,r){n.rich?ci(t,e,i,n,a,r):li(t,e,i,n,a,r)}function li(t,e,i,n,a,r){var o,s=fi(n),l=!1,c=e.__attrCachedBy===Kd.PLAIN_TEXT;r!==tf?(r&&(o=r.style,l=!s&&c&&o),e.__attrCachedBy=s?Kd.NONE:Kd.PLAIN_TEXT):c&&(e.__attrCachedBy=Kd.NONE);var h=n.font||mf;l&&h===(o.font||mf)||(e.font=h);var u=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,u=t.__computedFont=e.font);var d=n.textPadding,f=n.textLineHeight,p=t.__textCotentBlock;(!p||t.__dirtyText)&&(p=t.__textCotentBlock=ti(i,u,d,f,n.truncate));var g=p.outerHeight,v=p.lines,m=p.lineHeight,x=vi(wf,t,n,a),y=x.baseX,b=x.baseY,_=x.textAlign||"left",w=x.textVerticalAlign;ui(e,n,a,y,b);var k=Xe(b,g,w),S=y,A=k;if(s||d){var T=He(i,u),C=T;d&&(C+=d[1]+d[3]);var M=Ue(y,C,_);s&&pi(t,e,n,M,k,C,g),d&&(S=_i(y,_,d),A+=d[0])}e.textAlign=_,e.textBaseline="middle",e.globalAlpha=n.opacity||1;for(var D=0;D<bf.length;D++){var I=bf[D],L=I[0],P=I[1],R=n[L];l&&R===o[L]||(e[P]=Qd(e,P,R||I[2]))}A+=m/2;var E=n.textStrokeWidth,O=l?o.textStrokeWidth:null,z=!l||E!==O,F=!l||z||n.textStroke!==o.textStroke,N=xi(n.textStroke,E),B=yi(n.textFill);if(N&&(z&&(e.lineWidth=E),F&&(e.strokeStyle=N)),B&&(l&&n.textFill===o.textFill||(e.fillStyle=B)),1===v.length)N&&e.strokeText(v[0],S,A),B&&e.fillText(v[0],S,A);else for(D=0;D<v.length;D++)N&&e.strokeText(v[D],S,A),B&&e.fillText(v[D],S,A),A+=m}function ci(t,e,i,n,a,r){r!==tf&&(e.__attrCachedBy=Kd.NONE);var o=t.__textCotentBlock;(!o||t.__dirtyText)&&(o=t.__textCotentBlock=ei(i,n)),hi(t,e,o,n,a)}function hi(t,e,i,n,a){var r=i.width,o=i.outerWidth,s=i.outerHeight,l=n.textPadding,c=vi(wf,t,n,a),h=c.baseX,u=c.baseY,d=c.textAlign,f=c.textVerticalAlign;ui(e,n,a,h,u);var p=Ue(h,o,d),g=Xe(u,s,f),v=p,m=g;l&&(v+=l[3],m+=l[0]);var x=v+r;fi(n)&&pi(t,e,n,p,g,o,s);for(var y=0;y<i.lines.length;y++){for(var b,_=i.lines[y],w=_.tokens,k=w.length,S=_.lineHeight,A=_.width,T=0,C=v,M=x,D=k-1;k>T&&(b=w[T],!b.textAlign||"left"===b.textAlign);)di(t,e,b,n,S,m,C,"left"),A-=b.width,C+=b.width,T++;for(;D>=0&&(b=w[D],"right"===b.textAlign);)di(t,e,b,n,S,m,M,"right"),A-=b.width,M-=b.width,D--;for(C+=(r-(C-v)-(x-M)-A)/2;D>=T;)b=w[T],di(t,e,b,n,S,m,C+b.width/2,"center"),C+=b.width,T++;m+=S}}function ui(t,e,i,n,a){if(i&&e.textRotation){var r=e.textOrigin;"center"===r?(n=i.width/2+i.x,a=i.height/2+i.y):r&&(n=r[0]+i.x,a=r[1]+i.y),t.translate(n,a),t.rotate(-e.textRotation),t.translate(-n,-a)}}function di(t,e,i,n,a,r,o,s){var l=n.rich[i.styleName]||{};l.text=i.text;var c=i.textVerticalAlign,h=r+a/2;"top"===c?h=r+i.height/2:"bottom"===c&&(h=r+a-i.height/2),!i.isLineHolder&&fi(l)&&pi(t,e,l,"right"===s?o-i.width:"center"===s?o-i.width/2:o,h-i.height/2,i.width,i.height);var u=i.textPadding;u&&(o=_i(o,s,u),h-=i.height/2-u[2]-i.textHeight/2),mi(e,"shadowBlur",L(l.textShadowBlur,n.textShadowBlur,0)),mi(e,"shadowColor",l.textShadowColor||n.textShadowColor||"transparent"),mi(e,"shadowOffsetX",L(l.textShadowOffsetX,n.textShadowOffsetX,0)),mi(e,"shadowOffsetY",L(l.textShadowOffsetY,n.textShadowOffsetY,0)),mi(e,"textAlign",s),mi(e,"textBaseline","middle"),mi(e,"font",i.font||mf);var d=xi(l.textStroke||n.textStroke,p),f=yi(l.textFill||n.textFill),p=I(l.textStrokeWidth,n.textStrokeWidth);d&&(mi(e,"lineWidth",p),mi(e,"strokeStyle",d),e.strokeText(i.text,o,h)),f&&(mi(e,"fillStyle",f),e.fillText(i.text,o,h))}function fi(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function pi(t,e,i,n,a,r,o){var s=i.textBackgroundColor,l=i.textBorderWidth,c=i.textBorderColor,h=k(s);if(mi(e,"shadowBlur",i.textBoxShadowBlur||0),mi(e,"shadowColor",i.textBoxShadowColor||"transparent"),mi(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),mi(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),h||l&&c){e.beginPath();var u=i.textBorderRadius;u?ai(e,{x:n,y:a,width:r,height:o,r:u}):e.rect(n,a,r,o),e.closePath()}if(h)if(mi(e,"fillStyle",s),null!=i.fillOpacity){var d=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=d}else e.fill();else if(S(s)){var f=s.image;f=Ne(f,null,t,gi,s),f&&We(f)&&e.drawImage(f,n,a,r,o)}if(l&&c)if(mi(e,"lineWidth",l),mi(e,"strokeStyle",c),null!=i.strokeOpacity){d=e.globalAlpha;e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=d}else e.stroke()}function gi(t,e){e.image=t}function vi(t,e,i,n){var a=i.x||0,r=i.y||0,o=i.textAlign,s=i.textVerticalAlign;if(n){var l=i.textPosition;if(l instanceof Array)a=n.x+bi(l[0],n.width),r=n.y+bi(l[1],n.height);else{var c=e&&e.calculateTextPosition?e.calculateTextPosition(_f,i,n):Ye(_f,i,n);a=c.x,r=c.y,o=o||c.textAlign,s=s||c.textVerticalAlign}var h=i.textOffset;h&&(a+=h[0],r+=h[1])}return t=t||{},t.baseX=a,t.baseY=r,t.textAlign=o,t.textVerticalAlign=s,t}function mi(t,e,i){return t[e]=Qd(t,e,i),t[e]}function xi(t,e){return null==t||0>=e||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function yi(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function bi(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function _i(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function wi(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function ki(t){for(var e in t=t||{},Vd.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new nf(t.style,this),this._rect=null,this.__clipPaths=null}function Si(t){ki.call(this,t)}function Ai(t){return parseInt(t,10)}function Ti(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}function Ci(t,e,i){return Df.copy(t.getBoundingRect()),t.transform&&Df.applyTransform(t.transform),If.width=e,If.height=i,!Df.intersect(If)}function Mi(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}function Di(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}function Ii(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}function Li(t){return"mousewheel"===t&&Eu.browser.firefox?"DOMMouseScroll":t}function Pi(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Ri(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}function Ei(t){t&&(t.zrByTouch=!0)}function Oi(t,e){return bt(t.dom,new Fi(t,e),!0)}function zi(t,e){var i=!1;do{e=e&&e.parentNode}while(e&&9!==e.nodeType&&!(i=e===t.painterRoot));return i}function Fi(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}function Ni(t,e){var i=e.domHandlers;Eu.pointerEventsSupported?p(Of.pointer,(function(n){Wi(e,n,(function(e){i[n].call(t,e)}))})):(Eu.touchEventsSupported&&p(Of.touch,(function(n){Wi(e,n,(function(a){i[n].call(t,a),Ri(e)}))})),p(Of.mouse,(function(n){Wi(e,n,(function(a){a=yt(a),e.touching||i[n].call(t,a)}))})))}function Bi(t,e){function i(i){function n(n){n=yt(n),zi(t,n.target)||(n=Oi(t,n),e.domHandlers[i].call(t,n))}Wi(e,i,n,{capture:!0})}Eu.pointerEventsSupported?p(zf.pointer,i):Eu.touchEventsSupported||p(zf.mouse,i)}function Wi(t,e,i,n){t.mounted[e]=i,t.listenerOpts[e]=n,_t(t.domTarget,Li(e),i,n)}function Hi(t){var e=t.mounted;for(var i in e)e.hasOwnProperty(i)&&wt(t.domTarget,Li(i),e[i],t.listenerOpts[i]);t.mounted={}}function ji(t,e){if(t._mayPointerCapture=null,Ef&&t._pointerCapturing^e){t._pointerCapturing=e;var i=t._globalHandlerScope;e?Bi(t,i):Hi(i)}}function Vi(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Gi(t,e){id.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new Vi(t,Nf),Ef&&(this._globalHandlerScope=new Vi(document,Bf)),this._pointerCapturing=!1,this._mayPointerCapture=null,Ni(this,this._localHandlerScope)}function Ui(t,e){var i=new Uf(Pu(),t,e);return Vf[i.id]=i,i}function Xi(t){if(t)t.dispose();else{for(var e in Vf)Vf.hasOwnProperty(e)&&Vf[e].dispose();Vf={}}return this}function Yi(t){return Vf[t]}function $i(t,e){jf[t]=e}function qi(t){delete Vf[t]}function Zi(t){return t instanceof Array?t:null==t?[]:[t]}function Ji(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,a=i.length;a>n;n++){var r=i[n];!t.emphasis[e].hasOwnProperty(r)&&t[e].hasOwnProperty(r)&&(t.emphasis[e][r]=t[e][r])}}}function Qi(t){return!$f(t)||qf(t)||t instanceof Date?t:t.value}function Ki(t){return $f(t)&&!(t instanceof Array)}function tn(t,e){e=(e||[]).slice();var i=g(t||[],(function(t){return{exist:t}}));return Yf(e,(function(t,n){if($f(t)){for(var a=0;a<i.length;a++)if(!i[a].option&&null!=t.id&&i[a].exist.id===t.id+"")return i[a].option=t,void(e[n]=null);for(a=0;a<i.length;a++){var r=i[a].exist;if(!(i[a].option||null!=r.id&&null!=t.id||null==t.name||an(t)||an(r)||r.name!==t.name+""))return i[a].option=t,void(e[n]=null)}}})),Yf(e,(function(t){if($f(t)){for(var e=0;e<i.length;e++){var n=i[e].exist;if(!i[e].option&&!an(n)&&null==t.id){i[e].option=t;break}}e>=i.length&&i.push({option:t})}})),i}function en(t){var e=B();Yf(t,(function(t){var i=t.exist;i&&e.set(i.id,t)})),Yf(t,(function(t){var i=t.option;E(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})})),Yf(t,(function(t,i){var n=t.exist,a=t.option,r=t.keyInfo;if($f(a)){if(r.name=null!=a.name?a.name+"":n?n.name:Zf+i,n)r.id=n.id;else if(null!=a.id)r.id=a.id+"";else{var o=0;do{r.id="\0"+r.name+"\0"+o++}while(e.get(r.id))}e.set(r.id,t)}}))}function nn(t){var e=t.name;return!(!e||!e.indexOf(Zf))}function an(t){return $f(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function rn(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?_(e.dataIndex)?g(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?_(e.name)?g(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function on(){var t="__\0ec_inner_"+Qf+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function sn(t,e,i){if(k(e)){var n={};n[e+"Index"]=0,e=n}var a=i&&i.defaultMainType;!a||ln(e,a+"Index")||ln(e,a+"Id")||ln(e,a+"Name")||(e[a+"Index"]=0);var r={};return Yf(e,(function(n,a){n=e[a];if("dataIndex"!==a&&"dataIndexInside"!==a){var o=a.match(/^(\w+)(Index|Id|Name)$/)||[],s=o[1],l=(o[2]||"").toLowerCase();if(!(!s||!l||null==n||"index"===l&&"none"===n||i&&i.includeMainTypes&&h(i.includeMainTypes,s)<0)){var c={mainType:s};("index"!==l||"all"!==n)&&(c[l]=n);var u=t.queryComponents(c);r[s+"Models"]=u,r[s+"Model"]=u[0]}}else r[a]=n})),r}function ln(t,e){return t&&t.hasOwnProperty(e)}function cn(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function hn(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function un(t){return"auto"===t?Eu.domSupported?"html":"richText":t||"html"}function dn(t){var e={main:"",sub:""};return t&&(t=t.split(Kf),e.main=t[0]||"",e.sub=t[1]||""),e}function fn(t){E(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function pn(t){t.$constructor=t,t.extend=function(t){var e=this,i=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return s(i.prototype,t),i.extend=this.extend,i.superCall=vn,i.superApply=mn,u(i,this),i.superClass=e,i}}function gn(t){var e=["__\0is_clz",ep++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function vn(t,e){var i=P(arguments,2);return this.superClass.prototype[e].apply(t,i)}function mn(t,e,i){return this.superClass.prototype[e].apply(t,i)}function xn(t,e){function i(t){var e=n[t.main];return e&&e[tp]||(e=n[t.main]={},e[tp]=!0),e}e=e||{};var n={};if(t.registerClass=function(t,e){if(e)if(fn(e),e=dn(e),e.sub){if(e.sub!==tp){var a=i(e);a[e.sub]=t}}else n[e.main]=t;return t},t.getClass=function(t,e,i){var a=n[t];if(a&&a[tp]&&(a=e?a[e]:null),i&&!a)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return a},t.getClassesByMainType=function(t){t=dn(t);var e=[],i=n[t.main];return i&&i[tp]?p(i,(function(t,i){i!==tp&&e.push(t)})):e.push(i),e},t.hasClass=function(t){return t=dn(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return p(n,(function(e,i){t.push(i)})),t},t.hasSubTypes=function(t){t=dn(t);var e=n[t.main];return e&&e[tp]},t.parseClassType=dn,e.registerWhenExtend){var a=t.extend;a&&(t.extend=function(e){var i=a.call(this,e);return t.registerClass(i,e.type)})}return t}function yn(t){return t>-cp&&cp>t}function bn(t){return t>cp||-cp>t}function _n(t,e,i,n,a){var r=1-a;return r*r*(r*t+3*a*e)+a*a*(a*n+3*r*i)}function wn(t,e,i,n,a){var r=1-a;return 3*(((e-t)*r+2*(i-e)*a)*r+(n-i)*a*a)}function kn(t,e,i,n,a,r){var o=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),c=t-a,h=s*s-3*o*l,u=s*l-9*o*c,d=l*l-3*s*c,f=0;if(yn(h)&&yn(u))if(yn(s))r[0]=0;else{var p=-l/s;p>=0&&1>=p&&(r[f++]=p)}else{var g=u*u-4*h*d;if(yn(g)){var v=u/h,m=(p=-s/o+v,-v/2);p>=0&&1>=p&&(r[f++]=p),m>=0&&1>=m&&(r[f++]=m)}else if(g>0){var x=lp(g),y=h*s+1.5*o*(-u+x),b=h*s+1.5*o*(-u-x);y=0>y?-sp(-y,dp):sp(y,dp),b=0>b?-sp(-b,dp):sp(b,dp);p=(-s-(y+b))/(3*o);p>=0&&1>=p&&(r[f++]=p)}else{var _=(2*h*s-3*o*u)/(2*lp(h*h*h)),w=Math.acos(_)/3,k=lp(h),S=Math.cos(w),A=(p=(-s-2*k*S)/(3*o),m=(-s+k*(S+up*Math.sin(w)))/(3*o),(-s+k*(S-up*Math.sin(w)))/(3*o));p>=0&&1>=p&&(r[f++]=p),m>=0&&1>=m&&(r[f++]=m),A>=0&&1>=A&&(r[f++]=A)}}return f}function Sn(t,e,i,n,a){var r=6*i-12*e+6*t,o=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(yn(o)){if(bn(r)){var c=-s/r;c>=0&&1>=c&&(a[l++]=c)}}else{var h=r*r-4*o*s;if(yn(h))a[0]=-r/(2*o);else if(h>0){var u=lp(h),d=(c=(-r+u)/(2*o),(-r-u)/(2*o));c>=0&&1>=c&&(a[l++]=c),d>=0&&1>=d&&(a[l++]=d)}}return l}function An(t,e,i,n,a,r){var o=(e-t)*a+t,s=(i-e)*a+e,l=(n-i)*a+i,c=(s-o)*a+o,h=(l-s)*a+s,u=(h-c)*a+c;r[0]=t,r[1]=o,r[2]=c,r[3]=u,r[4]=u,r[5]=h,r[6]=l,r[7]=n}function Tn(t,e,i,n,a,r,o,s,l,c,h){var u,d,f,p,g,v=.005,m=1/0;fp[0]=l,fp[1]=c;for(var x=0;1>x;x+=.05)pp[0]=_n(t,i,a,o,x),pp[1]=_n(e,n,r,s,x),p=Ku(fp,pp),m>p&&(u=x,m=p);m=1/0;for(var y=0;32>y&&!(hp>v);y++)d=u-v,f=u+v,pp[0]=_n(t,i,a,o,d),pp[1]=_n(e,n,r,s,d),p=Ku(pp,fp),d>=0&&m>p?(u=d,m=p):(gp[0]=_n(t,i,a,o,f),gp[1]=_n(e,n,r,s,f),g=Ku(gp,fp),1>=f&&m>g?(u=f,m=g):v*=.5);return h&&(h[0]=_n(t,i,a,o,u),h[1]=_n(e,n,r,s,u)),lp(m)}function Cn(t,e,i,n){var a=1-n;return a*(a*t+2*n*e)+n*n*i}function Mn(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function Dn(t,e,i,n,a){var r=t-2*e+i,o=2*(e-t),s=t-n,l=0;if(yn(r)){if(bn(o)){var c=-s/o;c>=0&&1>=c&&(a[l++]=c)}}else{var h=o*o-4*r*s;if(yn(h)){c=-o/(2*r);c>=0&&1>=c&&(a[l++]=c)}else if(h>0){var u=lp(h),d=(c=(-o+u)/(2*r),(-o-u)/(2*r));c>=0&&1>=c&&(a[l++]=c),d>=0&&1>=d&&(a[l++]=d)}}return l}function In(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function Ln(t,e,i,n,a){var r=(e-t)*n+t,o=(i-e)*n+e,s=(o-r)*n+r;a[0]=t,a[1]=r,a[2]=s,a[3]=s,a[4]=o,a[5]=i}function Pn(t,e,i,n,a,r,o,s,l){var c,h=.005,u=1/0;fp[0]=o,fp[1]=s;for(var d=0;1>d;d+=.05){pp[0]=Cn(t,i,a,d),pp[1]=Cn(e,n,r,d);var f=Ku(fp,pp);u>f&&(c=d,u=f)}u=1/0;for(var p=0;32>p&&!(hp>h);p++){var g=c-h,v=c+h;pp[0]=Cn(t,i,a,g),pp[1]=Cn(e,n,r,g);f=Ku(pp,fp);if(g>=0&&u>f)c=g,u=f;else{gp[0]=Cn(t,i,a,v),gp[1]=Cn(e,n,r,v);var m=Ku(gp,fp);1>=v&&u>m?(c=v,u=m):h*=.5}}return l&&(l[0]=Cn(t,i,a,c),l[1]=Cn(e,n,r,c)),lp(u)}function Rn(t,e,i){if(0!==t.length){var n,a=t[0],r=a[0],o=a[0],s=a[1],l=a[1];for(n=1;n<t.length;n++)a=t[n],r=vp(r,a[0]),o=mp(o,a[0]),s=vp(s,a[1]),l=mp(l,a[1]);e[0]=r,e[1]=s,i[0]=o,i[1]=l}}function En(t,e,i,n,a,r){a[0]=vp(t,i),a[1]=vp(e,n),r[0]=mp(t,i),r[1]=mp(e,n)}function On(t,e,i,n,a,r,o,s,l,c){var h,u=Sn,d=_n,f=u(t,i,a,o,Sp);for(l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0,h=0;f>h;h++){var p=d(t,i,a,o,Sp[h]);l[0]=vp(p,l[0]),c[0]=mp(p,c[0])}for(f=u(e,n,r,s,Ap),h=0;f>h;h++){var g=d(e,n,r,s,Ap[h]);l[1]=vp(g,l[1]),c[1]=mp(g,c[1])}l[0]=vp(t,l[0]),c[0]=mp(t,c[0]),l[0]=vp(o,l[0]),c[0]=mp(o,c[0]),l[1]=vp(e,l[1]),c[1]=mp(e,c[1]),l[1]=vp(s,l[1]),c[1]=mp(s,c[1])}function zn(t,e,i,n,a,r,o,s){var l=In,c=Cn,h=mp(vp(l(t,i,a),1),0),u=mp(vp(l(e,n,r),1),0),d=c(t,i,a,h),f=c(e,n,r,u);o[0]=vp(t,a,d),o[1]=vp(e,r,f),s[0]=mp(t,a,d),s[1]=mp(e,r,f)}function Fn(t,e,i,n,a,r,o,s,l){var c=st,h=lt,u=Math.abs(a-r);if(1e-4>u%bp&&u>1e-4)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(_p[0]=yp(a)*i+t,_p[1]=xp(a)*n+e,wp[0]=yp(r)*i+t,wp[1]=xp(r)*n+e,c(s,_p,wp),h(l,_p,wp),a%=bp,0>a&&(a+=bp),r%=bp,0>r&&(r+=bp),a>r&&!o?r+=bp:r>a&&o&&(a+=bp),o){var d=r;r=a,a=d}for(var f=0;r>f;f+=Math.PI/2)f>a&&(kp[0]=yp(f)*i+t,kp[1]=xp(f)*n+e,c(s,kp,s),h(l,kp,l))}function Nn(t,e,i,n,a,r,o){if(0===a)return!1;var s=a,l=0,c=t;if(o>e+s&&o>n+s||e-s>o&&n-s>o||r>t+s&&r>i+s||t-s>r&&i-s>r)return!1;if(t===i)return Math.abs(r-t)<=s/2;l=(e-n)/(t-i),c=(t*n-i*e)/(t-i);var h=l*r-o+c,u=h*h/(l*l+1);return s/2*s/2>=u}function Bn(t,e,i,n,a,r,o,s,l,c,h){if(0===l)return!1;var u=l;if(h>e+u&&h>n+u&&h>r+u&&h>s+u||e-u>h&&n-u>h&&r-u>h&&s-u>h||c>t+u&&c>i+u&&c>a+u&&c>o+u||t-u>c&&i-u>c&&a-u>c&&o-u>c)return!1;var d=Tn(t,e,i,n,a,r,o,s,c,h,null);return u/2>=d}function Wn(t,e,i,n,a,r,o,s,l){if(0===o)return!1;var c=o;if(l>e+c&&l>n+c&&l>r+c||e-c>l&&n-c>l&&r-c>l||s>t+c&&s>i+c&&s>a+c||t-c>s&&i-c>s&&a-c>s)return!1;var h=Pn(t,e,i,n,a,r,s,l,null);return c/2>=h}function Hn(t){return t%=Bp,0>t&&(t+=Bp),t}function jn(t,e,i,n,a,r,o,s,l){if(0===o)return!1;var c=o;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-c>i||i>h+c)return!1;if(Math.abs(n-a)%Wp<1e-4)return!0;if(r){var u=n;n=Hn(a),a=Hn(u)}else n=Hn(n),a=Hn(a);n>a&&(a+=Wp);var d=Math.atan2(l,s);return 0>d&&(d+=Wp),d>=n&&a>=d||d+Wp>=n&&a>=d+Wp}function Vn(t,e,i,n,a,r){if(r>e&&r>n||e>r&&n>r)return 0;if(n===e)return 0;var o=e>n?1:-1,s=(r-e)/(n-e);(1===s||0===s)&&(o=e>n?.5:-.5);var l=s*(i-t)+t;return l===a?1/0:l>a?o:0}function Gn(t,e){return Math.abs(t-e)<Vp}function Un(){var t=Up[0];Up[0]=Up[1],Up[1]=t}function Xn(t,e,i,n,a,r,o,s,l,c){if(c>e&&c>n&&c>r&&c>s||e>c&&n>c&&r>c&&s>c)return 0;var h=kn(e,n,r,s,c,Gp);if(0===h)return 0;for(var u,d,f=0,p=-1,g=0;h>g;g++){var v=Gp[g],m=0===v||1===v?.5:1,x=_n(t,i,a,o,v);l>x||(0>p&&(p=Sn(e,n,r,s,Up),Up[1]<Up[0]&&p>1&&Un(),u=_n(e,n,r,s,Up[0]),p>1&&(d=_n(e,n,r,s,Up[1]))),f+=2===p?v<Up[0]?e>u?m:-m:v<Up[1]?u>d?m:-m:d>s?m:-m:v<Up[0]?e>u?m:-m:u>s?m:-m)}return f}function Yn(t,e,i,n,a,r,o,s){if(s>e&&s>n&&s>r||e>s&&n>s&&r>s)return 0;var l=Dn(e,n,r,s,Gp);if(0===l)return 0;var c=In(e,n,r);if(c>=0&&1>=c){for(var h=0,u=Cn(e,n,r,c),d=0;l>d;d++){var f=0===Gp[d]||1===Gp[d]?.5:1,p=Cn(t,i,a,Gp[d]);o>p||(h+=Gp[d]<c?e>u?f:-f:u>r?f:-f)}return h}f=0===Gp[0]||1===Gp[0]?.5:1,p=Cn(t,i,a,Gp[0]);return o>p?0:e>r?f:-f}function $n(t,e,i,n,a,r,o,s){if(s-=e,s>i||-i>s)return 0;var l=Math.sqrt(i*i-s*s);Gp[0]=-l,Gp[1]=l;var c=Math.abs(n-a);if(1e-4>c)return 0;if(1e-4>c%jp){n=0,a=jp;var h=r?1:-1;return o>=Gp[0]+t&&o<=Gp[1]+t?h:0}if(r){l=n;n=Hn(a),a=Hn(l)}else n=Hn(n),a=Hn(a);n>a&&(a+=jp);for(var u=0,d=0;2>d;d++){var f=Gp[d];if(f+t>o){var p=Math.atan2(s,f);h=r?1:-1;0>p&&(p=jp+p),(p>=n&&a>=p||p+jp>=n&&a>=p+jp)&&(p>Math.PI/2&&p<1.5*Math.PI&&(h=-h),u+=h)}}return u}function qn(t,e,i,n,a){for(var r=0,o=0,s=0,l=0,c=0,h=0;h<t.length;){var u=t[h++];switch(u===Hp.M&&h>1&&(i||(r+=Vn(o,s,l,c,n,a))),1===h&&(o=t[h],s=t[h+1],l=o,c=s),u){case Hp.M:l=t[h++],c=t[h++],o=l,s=c;break;case Hp.L:if(i){if(Nn(o,s,t[h],t[h+1],e,n,a))return!0}else r+=Vn(o,s,t[h],t[h+1],n,a)||0;o=t[h++],s=t[h++];break;case Hp.C:if(i){if(Bn(o,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],e,n,a))return!0}else r+=Xn(o,s,t[h++],t[h++],t[h++],t[h++],t[h],t[h+1],n,a)||0;o=t[h++],s=t[h++];break;case Hp.Q:if(i){if(Wn(o,s,t[h++],t[h++],t[h],t[h+1],e,n,a))return!0}else r+=Yn(o,s,t[h++],t[h++],t[h],t[h+1],n,a)||0;o=t[h++],s=t[h++];break;case Hp.A:var d=t[h++],f=t[h++],p=t[h++],g=t[h++],v=t[h++],m=t[h++];h+=1;var x=1-t[h++],y=Math.cos(v)*p+d,b=Math.sin(v)*g+f;h>1?r+=Vn(o,s,y,b,n,a):(l=y,c=b);var _=(n-d)*g/p+d;if(i){if(jn(d,f,g,v,v+m,x,e,_,a))return!0}else r+=$n(d,f,g,v,v+m,x,_,a);o=Math.cos(v+m)*p+d,s=Math.sin(v+m)*g+f;break;case Hp.R:l=o=t[h++],c=s=t[h++];var w=t[h++],k=t[h++];y=l+w,b=c+k;if(i){if(Nn(l,c,y,c,e,n,a)||Nn(y,c,y,b,e,n,a)||Nn(y,b,l,b,e,n,a)||Nn(l,b,l,c,e,n,a))return!0}else r+=Vn(y,c,y,b,n,a),r+=Vn(l,b,l,c,n,a);break;case Hp.Z:if(i){if(Nn(o,s,l,c,e,n,a))return!0}else r+=Vn(o,s,l,c,n,a);o=l,s=c}}return i||Gn(s,c)||(r+=Vn(o,s,l,c,n,a)||0),0!==r}function Zn(t,e,i){return qn(t,0,!1,e,i)}function Jn(t,e,i,n){return qn(t,e,!0,i,n)}function Qn(t){ki.call(this,t),this.path=null}function Kn(t,e,i,n,a,r,o,s,l,c,h){var u=l*(ng/180),d=ig(u)*(t-i)/2+eg(u)*(e-n)/2,f=-1*eg(u)*(t-i)/2+ig(u)*(e-n)/2,p=d*d/(o*o)+f*f/(s*s);p>1&&(o*=tg(p),s*=tg(p));var g=(a===r?-1:1)*tg((o*o*s*s-o*o*f*f-s*s*d*d)/(o*o*f*f+s*s*d*d))||0,v=g*o*f/s,m=g*-s*d/o,x=(t+i)/2+ig(u)*v-eg(u)*m,y=(e+n)/2+eg(u)*v+ig(u)*m,b=og([1,0],[(d-v)/o,(f-m)/s]),_=[(d-v)/o,(f-m)/s],w=[(-1*d-v)/o,(-1*f-m)/s],k=og(_,w);rg(_,w)<=-1&&(k=ng),rg(_,w)>=1&&(k=0),0===r&&k>0&&(k-=2*ng),1===r&&0>k&&(k+=2*ng),h.addData(c,x,y,o,s,b,k,u,r)}function ta(t){if(!t)return new Np;for(var e,i=0,n=0,a=i,r=n,o=new Np,s=Np.CMD,l=t.match(sg),c=0;c<l.length;c++){for(var h,u=l[c],d=u.charAt(0),f=u.match(lg)||[],p=f.length,g=0;p>g;g++)f[g]=parseFloat(f[g]);for(var v=0;p>v;){var m,x,y,b,_,w,k,S=i,A=n;switch(d){case"l":i+=f[v++],n+=f[v++],h=s.L,o.addData(h,i,n);break;case"L":i=f[v++],n=f[v++],h=s.L,o.addData(h,i,n);break;case"m":i+=f[v++],n+=f[v++],h=s.M,o.addData(h,i,n),a=i,r=n,d="l";break;case"M":i=f[v++],n=f[v++],h=s.M,o.addData(h,i,n),a=i,r=n,d="L";break;case"h":i+=f[v++],h=s.L,o.addData(h,i,n);break;case"H":i=f[v++],h=s.L,o.addData(h,i,n);break;case"v":n+=f[v++],h=s.L,o.addData(h,i,n);break;case"V":n=f[v++],h=s.L,o.addData(h,i,n);break;case"C":h=s.C,o.addData(h,f[v++],f[v++],f[v++],f[v++],f[v++],f[v++]),i=f[v-2],n=f[v-1];break;case"c":h=s.C,o.addData(h,f[v++]+i,f[v++]+n,f[v++]+i,f[v++]+n,f[v++]+i,f[v++]+n),i+=f[v-2],n+=f[v-1];break;case"S":m=i,x=n;var T=o.len(),C=o.data;e===s.C&&(m+=i-C[T-4],x+=n-C[T-3]),h=s.C,S=f[v++],A=f[v++],i=f[v++],n=f[v++],o.addData(h,m,x,S,A,i,n);break;case"s":m=i,x=n;T=o.len(),C=o.data;e===s.C&&(m+=i-C[T-4],x+=n-C[T-3]),h=s.C,S=i+f[v++],A=n+f[v++],i+=f[v++],n+=f[v++],o.addData(h,m,x,S,A,i,n);break;case"Q":S=f[v++],A=f[v++],i=f[v++],n=f[v++],h=s.Q,o.addData(h,S,A,i,n);break;case"q":S=f[v++]+i,A=f[v++]+n,i+=f[v++],n+=f[v++],h=s.Q,o.addData(h,S,A,i,n);break;case"T":m=i,x=n;T=o.len(),C=o.data;e===s.Q&&(m+=i-C[T-4],x+=n-C[T-3]),i=f[v++],n=f[v++],h=s.Q,o.addData(h,m,x,i,n);break;case"t":m=i,x=n;T=o.len(),C=o.data;e===s.Q&&(m+=i-C[T-4],x+=n-C[T-3]),i+=f[v++],n+=f[v++],h=s.Q,o.addData(h,m,x,i,n);break;case"A":y=f[v++],b=f[v++],_=f[v++],w=f[v++],k=f[v++],S=i,A=n,i=f[v++],n=f[v++],h=s.A,Kn(S,A,i,n,w,k,y,b,_,h,o);break;case"a":y=f[v++],b=f[v++],_=f[v++],w=f[v++],k=f[v++],S=i,A=n,i+=f[v++],n+=f[v++],h=s.A,Kn(S,A,i,n,w,k,y,b,_,h,o)}}("z"===d||"Z"===d)&&(h=s.Z,o.addData(h),i=a,n=r),e=h}return o.toStatic(),o}function ea(t,e){var i=ta(t);return e=e||{},e.buildPath=function(t){if(t.setData){t.setData(i.data);var e=t.getContext();e&&t.rebuildPath(e)}else{e=t;i.rebuildPath(e)}},e.applyTransform=function(t){Kp(i,t),this.dirty(!0)},e}function ia(t,e){return new Qn(ea(t,e))}function na(t,e){return Qn.extend(ea(t,e))}function aa(t,e){for(var i=[],n=t.length,a=0;n>a;a++){var r=t[a];r.path||r.createPathProxy(),r.__dirtyPath&&r.buildPath(r.path,r.shape,!0),i.push(r.path)}var o=new Qn(e);return o.createPathProxy(),o.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},o}function ra(t,e,i,n,a,r,o){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*o+(-3*(e-i)-2*s-l)*r+s*a+e}function oa(t,e,i){var n=e.points,a=e.smooth;if(n&&n.length>=2){if(a&&"spline"!==a){var r=vg(n,a,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var o=n.length,s=0;(i?o:o-1)>s;s++){var l=r[2*s],c=r[2*s+1],h=n[(s+1)%o];t.bezierCurveTo(l[0],l[1],c[0],c[1],h[0],h[1])}}else{"spline"===a&&(n=gg(n,i)),t.moveTo(n[0][0],n[0][1]);s=1;for(var u=n.length;u>s;s++)t.lineTo(n[s][0],n[s][1])}i&&t.closePath()}}function sa(t,e,i){var n=i&&i.lineWidth;if(e&&n){var a=e.x1,r=e.x2,o=e.y1,s=e.y2;yg(2*a)===yg(2*r)?t.x1=t.x2=ca(a,n,!0):(t.x1=a,t.x2=r),yg(2*o)===yg(2*s)?t.y1=t.y2=ca(o,n,!0):(t.y1=o,t.y2=s)}}function la(t,e,i){var n=i&&i.lineWidth;if(e&&n){var a=e.x,r=e.y,o=e.width,s=e.height;t.x=ca(a,n,!0),t.y=ca(r,n,!0),t.width=Math.max(ca(a+o,n,!1)-t.x,0===o?0:1),t.height=Math.max(ca(r+s,n,!1)-t.y,0===s?0:1)}}function ca(t,e,i){var n=yg(2*t);return(n+yg(e))%2===0?n/2:(n+(i?1:-1))/2}function ha(t,e,i){var n=t.cpx2,a=t.cpy2;return null===n||null===a?[(i?wn:_n)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?wn:_n)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?Mn:Cn)(t.x1,t.cpx1,t.x2,e),(i?Mn:Cn)(t.y1,t.cpy1,t.y2,e)]}function ua(t){ki.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function da(t){return Qn.extend(t)}function fa(t,e){return na(t,e)}function pa(t,e){Hg[t]=e}function ga(t){return Hg.hasOwnProperty(t)?Hg[t]:void 0}function va(t,e,i,n){var a=ia(t,e);return i&&("center"===n&&(i=xa(i,a.getBoundingRect())),ya(a,i)),a}function ma(t,e,i){var n=new Si({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===i){var a={width:t.width,height:t.height};n.setStyle(xa(e,a))}}});return n}function xa(t,e){var i,n=e.width/e.height,a=t.height*n;a<=t.width?i=t.height:(a=t.width,i=a/n);var r=t.x+t.width/2,o=t.y+t.height/2;return{x:r-a/2,y:o-i/2,width:a,height:i}}function ya(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n)}}function ba(t){return sa(t.shape,t.shape,t.style),t}function _a(t){return la(t.shape,t.shape,t.style),t}function wa(t){return null!=t&&"none"!==t}function ka(t){if("string"!=typeof t)return t;var e=Gg.get(t);return e||(e=te(t,-.1),1e4>Ug&&(Gg.set(t,e),Ug++)),e}function Sa(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(!e)return void(t.__cachedNormalStl=t.__cachedNormalZ2=null);var i=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var n=t.style;for(var a in e)null!=e[a]&&(i[a]=n[a]);i.fill=n.fill,i.stroke=n.stroke}}function Aa(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var i=t.__zr,n=t.useHoverLayer&&i&&"canvas"===i.painter.type;if(t.__highlighted=n?"layer":"plain",!(t.isGroup||!i&&t.useHoverLayer)){var a=t,r=t.style;n&&(a=i.addHover(t),r=a.style),$a(r),n||Sa(a),r.extendFrom(e),Ta(r,e,"fill"),Ta(r,e,"stroke"),Ya(r),n||(t.dirty(!1),t.z2+=Og)}}}function Ta(t,e,i){!wa(e[i])&&wa(t[i])&&(t[i]=ka(t[i]))}function Ca(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var i=t.style,n=t.__cachedNormalStl;n&&($a(i),t.setStyle(n),Ya(i));var a=t.__cachedNormalZ2;null!=a&&t.z2-a===Og&&(t.z2=a)}}function Ma(t,e,i){var n,a=Ng,r=Ng;t.__highlighted&&(a=Fg,n=!0),e(t,i),t.__highlighted&&(r=Fg,n=!0),t.isGroup&&t.traverse((function(t){!t.isGroup&&e(t,i)})),n&&t.__highDownOnUpdate&&t.__highDownOnUpdate(a,r)}function Da(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,Ca(t),Aa(t))}function Ia(t){!Ea(this,t)&&!this.__highByOuter&&Ma(this,Aa)}function La(t){!Ea(this,t)&&!this.__highByOuter&&Ma(this,Ca)}function Pa(t){this.__highByOuter|=1<<(t||0),Ma(this,Aa)}function Ra(t){!(this.__highByOuter&=~(1<<(t||0)))&&Ma(this,Ca)}function Ea(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Oa(t,e){za(t,!0),Ma(t,Da,e)}function za(t,e){var i=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!i||t.__highDownDispatcher){var n=i?"off":"on";t[n]("mouseover",Ia)[n]("mouseout",La),t[n]("emphasis",Pa)[n]("normal",Ra),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!i}}function Fa(t){return!(!t||!t.__highDownDispatcher)}function Na(t){var e=Wg[t];return null==e&&32>=Bg&&(e=Wg[t]=Bg++),e}function Ba(t,e,i,n,a,r,o){a=a||Eg;var s,l=a.labelFetcher,c=a.labelDataIndex,h=a.labelDimIndex,u=i.getShallow("show"),d=n.getShallow("show");(u||d)&&(l&&(s=l.getFormattedLabel(c,"normal",null,h)),null==s&&(s=w(a.defaultText)?a.defaultText(c,a):a.defaultText));var f=u?s:null,p=d?I(l?l.getFormattedLabel(c,"emphasis",null,h):null,s):null;(null!=f||null!=p)&&(Ha(t,i,r,a),Ha(e,n,o,a,!0)),t.text=f,e.text=p}function Wa(t,e,i){var n=t.style;e&&($a(n),t.setStyle(e),Ya(n)),n=t.__hoverStl,i&&n&&($a(n),s(n,i),Ya(n))}function Ha(t,e,i,n,a){return Va(t,e,n,a),i&&s(t,i),t}function ja(t,e,i){var n,a={isRectText:!0};!1===i?n=!0:a.autoColor=i,Va(t,e,a,n)}function Va(t,e,i,n){if(i=i||Eg,i.isRectText){var a;i.getTextPosition?a=i.getTextPosition(e,n):(a=e.getShallow("position")||(n?null:"inside"),"outside"===a&&(a="top")),t.textPosition=a,t.textOffset=e.getShallow("offset");var r=e.getShallow("rotate");null!=r&&(r*=Math.PI/180),t.textRotation=r,t.textDistance=I(e.getShallow("distance"),n?null:5)}var o,s=e.ecModel,l=s&&s.option.textStyle,c=Ga(e);if(c)for(var h in o={},c)if(c.hasOwnProperty(h)){var u=e.getModel(["rich",h]);Ua(o[h]={},u,l,i,n)}return t.rich=o,Ua(t,e,l,i,n,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),t}function Ga(t){for(var e;t&&t!==t.ecModel;){var i=(t.option||Eg).rich;if(i)for(var n in e=e||{},i)i.hasOwnProperty(n)&&(e[n]=1);t=t.parentModel}return e}function Ua(t,e,i,n,a,r){i=!a&&i||Eg,t.textFill=Xa(e.getShallow("color"),n)||i.color,t.textStroke=Xa(e.getShallow("textBorderColor"),n)||i.textBorderColor,t.textStrokeWidth=I(e.getShallow("textBorderWidth"),i.textBorderWidth),a||(r&&(t.insideRollbackOpt=n,Ya(t)),null==t.textFill&&(t.textFill=n.autoColor)),t.fontStyle=e.getShallow("fontStyle")||i.fontStyle,t.fontWeight=e.getShallow("fontWeight")||i.fontWeight,t.fontSize=e.getShallow("fontSize")||i.fontSize,t.fontFamily=e.getShallow("fontFamily")||i.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),r&&n.disableBox||(t.textBackgroundColor=Xa(e.getShallow("backgroundColor"),n),t.textPadding=e.getShallow("padding"),t.textBorderColor=Xa(e.getShallow("borderColor"),n),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||i.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function Xa(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Ya(t){var e,i=t.textPosition,n=t.insideRollbackOpt;if(n&&null==t.textFill){var a=n.autoColor,r=n.isRectText,o=n.useInsideStyle,s=!1!==o&&(!0===o||r&&i&&"string"==typeof i&&i.indexOf("inside")>=0),l=!s&&null!=a;(s||l)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),s&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=a,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),l&&(t.textFill=a)}t.insideRollback=e}function $a(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function qa(t,e){var i=e&&e.getModel("textStyle");return O([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}function Za(t,e,i,n,a,r){"function"==typeof a&&(r=a,a=null);var o=n&&n.isAnimationEnabled();if(o){var s=t?"Update":"",l=n.getShallow("animationDuration"+s),c=n.getShallow("animationEasing"+s),h=n.getShallow("animationDelay"+s);"function"==typeof h&&(h=h(a,n.getAnimationDelayParams?n.getAnimationDelayParams(e,a):null)),"function"==typeof l&&(l=l(a)),l>0?e.animateTo(i,l,h||0,c,r,!!r):(e.stopAnimation(),e.attr(i),r&&r())}else e.stopAnimation(),e.attr(i),r&&r()}function Ja(t,e,i,n,a){Za(!0,t,e,i,n,a)}function Qa(t,e,i,n,a){Za(!1,t,e,i,n,a)}function Ka(t,e){for(var i=Lt([]);t&&t!==e;)Rt(i,t.getLocalTransform(),i),t=t.parent;return i}function tr(t,e,i){return e&&!f(e)&&(e=xd.getLocalTransform(e)),i&&(e=Ft([],e)),ot([],t,e)}function er(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),a=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-n:"right"===t?n:0,"top"===t?-a:"bottom"===t?a:0];return r=tr(r,e,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function ir(t,e,i){function n(t){var e={};return t.traverse((function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)})),e}function a(t){var e={position:G(t.position),rotation:t.rotation};return t.shape&&(e.shape=s({},t.shape)),e}if(t&&e){var r=n(t);e.traverse((function(t){if(!t.isGroup&&t.anid){var e=r[t.anid];if(e){var n=a(t);t.attr(a(e)),Ja(t,n,i,t.dataIndex)}}}))}}function nr(t,e){return g(t,(function(t){var i=t[0];i=Pg(i,e.x),i=Rg(i,e.x+e.width);var n=t[1];return n=Pg(n,e.y),n=Rg(n,e.y+e.height),[i,n]}))}function ar(t,e){var i=Pg(t.x,e.x),n=Rg(t.x+t.width,e.x+e.width),a=Pg(t.y,e.y),r=Rg(t.y+t.height,e.y+e.height);return n>=i&&r>=a?{x:i,y:a,width:n-i,height:r-a}:void 0}function rr(t,e,i){e=s({rectHover:!0},e);var n=e.style={strokeNoScale:!0};return i=i||{x:-1,y:-1,width:2,height:2},t?0===t.indexOf("image://")?(n.image=t.slice(8),l(n,i),new Si(e)):va(t.replace("path://",""),e,i,"center"):void 0}function or(t,e,i,n,a){for(var r=0,o=a[a.length-1];r<a.length;r++){var s=a[r];if(sr(t,e,i,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function sr(t,e,i,n,a,r,o,s){var l=i-t,c=n-e,h=o-a,u=s-r,d=lr(h,u,l,c);if(cr(d))return!1;var f=t-a,p=e-r,g=lr(f,p,l,c)/d;if(0>g||g>1)return!1;var v=lr(f,p,h,u)/d;return!(0>v||v>1)}function lr(t,e,i,n){return t*n-i*e}function cr(t){return 1e-6>=t&&t>=-1e-6}function hr(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function ur(t,e,i){for(var n=0;n<e.length&&(!e[n]||(t=t&&"object"==typeof t?t[e[n]]:null,null!=t));n++);return null==t&&i&&(t=i.get(e)),t}function dr(t,e){var i=Qg(t).getParent;return i?i.call(t,e):t.parentModel}function fr(t){return[t||"",Kg++,Math.random().toFixed(5)].join("_")}function pr(t){var e={};return t.registerSubTypeDefaulter=function(t,i){t=dn(t),e[t.main]=i},t.determineSubType=function(i,n){var a=n.type;if(!a){var r=dn(i).main;t.hasSubTypes(i)&&e[r]&&(a=e[r](n))}return a},t}function gr(t,e){function i(t){var i={},r=[];return p(t,(function(o){var s=n(i,o),l=s.originalDeps=e(o),c=a(l,t);s.entryCount=c.length,0===s.entryCount&&r.push(o),p(c,(function(t){h(s.predecessor,t)<0&&s.predecessor.push(t);var e=n(i,t);h(e.successor,t)<0&&e.successor.push(o)}))})),{graph:i,noEntryList:r}}function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function a(t,e){var i=[];return p(t,(function(t){h(e,t)>=0&&i.push(t)})),i}t.topologicalTravel=function(t,e,n,a){function r(t){l[t].entryCount--,0===l[t].entryCount&&c.push(t)}function o(t){h[t]=!0,r(t)}if(t.length){var s=i(e),l=s.graph,c=s.noEntryList,h={};for(p(t,(function(t){h[t]=!0}));c.length;){var u=c.pop(),d=l[u],f=!!h[u];f&&(n.call(a,u,d.originalDeps.slice()),delete h[u]),p(d.successor,f?o:r)}p(h,(function(){throw new Error("Circle dependency may exists")}))}}}function vr(t){return t.replace(/^\s+|\s+$/g,"")}function mr(t,e,i,n){var a=e[1]-e[0],r=i[1]-i[0];if(0===a)return 0===r?i[0]:(i[0]+i[1])/2;if(n)if(a>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/a*r+i[0]}function xr(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?vr(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function yr(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function br(t){return t.sort((function(t,e){return t-e})),t}function _r(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}function wr(t){var e=t.toString(),i=e.indexOf("e");if(i>0){var n=+e.slice(i+1);return 0>n?-n:0}var a=e.indexOf(".");return 0>a?0:e.length-1-a}function kr(t,e){var i=Math.log,n=Math.LN10,a=Math.floor(i(t[1]-t[0])/n),r=Math.round(i(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-a+r,0),20);return isFinite(o)?o:20}function Sr(t,e,i){if(!t[e])return 0;var n=v(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===n)return 0;for(var a=Math.pow(10,i),r=g(t,(function(t){return(isNaN(t)?0:t)/n*a*100})),o=100*a,s=g(r,(function(t){return Math.floor(t)})),l=v(s,(function(t,e){return t+e}),0),c=g(r,(function(t,e){return t-s[e]}));o>l;){for(var h=Number.NEGATIVE_INFINITY,u=null,d=0,f=c.length;f>d;++d)c[d]>h&&(h=c[d],u=d);++s[u],c[u]=0,++l}return s[e]/a}function Ar(t){var e=2*Math.PI;return(t%e+e)%e}function Tr(t){return t>-tv&&tv>t}function Cr(t){if(t instanceof Date)return t;if("string"==typeof t){var e=iv.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return new Date(null==t?NaN:Math.round(t))}function Mr(t){return Math.pow(10,Dr(t))}function Dr(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Ir(t,e){var i,n=Dr(t),a=Math.pow(10,n),r=t/a;return i=e?1.5>r?1:2.5>r?2:4>r?3:7>r?5:10:1>r?1:2>r?2:3>r?3:5>r?5:10,t=i*a,n>=-20?+t.toFixed(0>n?-n:0):t}function Lr(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),a=+t[n-1],r=i-n;return r?a+r*(t[n]-a):a}function Pr(t){function e(t,i,n){return t.interval[n]<i.interval[n]||t.interval[n]===i.interval[n]&&(t.close[n]-i.close[n]===(n?-1:1)||!n&&e(t,i,1))}t.sort((function(t,i){return e(t,i,0)?-1:1}));for(var i=-1/0,n=1,a=0;a<t.length;){for(var r=t[a].interval,o=t[a].close,s=0;2>s;s++)r[s]<=i&&(r[s]=i,o[s]=s?1:1-n),i=r[s],n=o[s];r[0]===r[1]&&o[0]*o[1]!==1?t.splice(a,1):a++}return t}function Rr(t){return t-parseFloat(t)>=0}function Er(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function Or(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function zr(t){return null==t?"":(t+"").replace(rv,(function(t,e){return ov[e]}))}function Fr(t,e,i){_(e)||(e=[e]);var n=e.length;if(!n)return"";for(var a=e[0].$vars||[],r=0;r<a.length;r++){var o=sv[r];t=t.replace(lv(o),lv(o,0))}for(var s=0;n>s;s++)for(var l=0;l<a.length;l++){var c=e[s][a[l]];t=t.replace(lv(sv[l],s),i?zr(c):c)}return t}function Nr(t,e,i){return p(e,(function(e,n){t=t.replace("{"+n+"}",i?zr(e):e)})),t}function Br(t,e){t=k(t)?{color:t,extraCssText:e}:t||{};var i=t.color,n=t.type,a=(e=t.extraCssText,t.renderMode||"html"),r=t.markerId||"X";return i?"html"===a?"subItem"===n?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+zr(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+zr(i)+";"+(e||"")+'"></span>':{renderMode:a,content:"{marker"+r+"|}  ",style:{color:i}}:""}function Wr(t,e){return t+="","0000".substr(0,e-t.length)+t}function Hr(t,e,i){("week"===t||"month"===t||"quarter"===t||"half-year"===t||"year"===t)&&(t="MM-dd\nyyyy");var n=Cr(e),a=i?"UTC":"",r=n["get"+a+"FullYear"](),o=n["get"+a+"Month"]()+1,s=n["get"+a+"Date"](),l=n["get"+a+"Hours"](),c=n["get"+a+"Minutes"](),h=n["get"+a+"Seconds"](),u=n["get"+a+"Milliseconds"]();return t.replace("MM",Wr(o,2)).replace("M",o).replace("yyyy",r).replace("yy",r%100).replace("dd",Wr(s,2)).replace("d",s).replace("hh",Wr(l,2)).replace("h",l).replace("mm",Wr(c,2)).replace("m",c).replace("ss",Wr(h,2)).replace("s",h).replace("SSS",Wr(u,3))}function jr(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function Vr(t){return je(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)}function Gr(t,e,i,n,a,r,o,s){return je(t,e,i,n,a,s,r,o)}function Ur(t,e,i,n,a){var r=0,o=0;null==n&&(n=1/0),null==a&&(a=1/0);var s=0;e.eachChild((function(l,c){var h,u,d=l.position,f=l.getBoundingRect(),p=e.childAt(c+1),g=p&&p.getBoundingRect();if("horizontal"===t){var v=f.width+(g?-g.x+f.x:0);h=r+v,h>n||l.newline?(r=0,h=v,o+=s+i,s=f.height):s=Math.max(s,f.height)}else{var m=f.height+(g?-g.y+f.y:0);u=o+m,u>a||l.newline?(r+=s+i,o=0,u=m,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=r,d[1]=o,"horizontal"===t?r=h+i:o=u+i)}))}function Xr(t,e,i){i=av(i||0);var n=e.width,a=e.height,r=xr(t.left,n),o=xr(t.top,a),s=xr(t.right,n),l=xr(t.bottom,a),c=xr(t.width,n),h=xr(t.height,a),u=i[2]+i[0],d=i[1]+i[3],f=t.aspect;switch(isNaN(c)&&(c=n-s-d-r),isNaN(h)&&(h=a-l-u-o),null!=f&&(isNaN(c)&&isNaN(h)&&(f>n/a?c=.8*n:h=.8*a),isNaN(c)&&(c=f*h),isNaN(h)&&(h=c/f)),isNaN(r)&&(r=n-s-c-d),isNaN(o)&&(o=a-l-h-u),t.left||t.right){case"center":r=n/2-c/2-i[3];break;case"right":r=n-c-d}switch(t.top||t.bottom){case"middle":case"center":o=a/2-h/2-i[0];break;case"bottom":o=a-h-u}r=r||0,o=o||0,isNaN(c)&&(c=n-d-r-(s||0)),isNaN(h)&&(h=a-u-o-(l||0));var p=new ke(r+i[3],o+i[0],c,h);return p.margin=i,p}function Yr(t,e,i){function n(i,n){var o={},l=0,c={},h=0,u=2;if(uv(i,(function(e){c[e]=t[e]})),uv(i,(function(t){a(e,t)&&(o[t]=c[t]=e[t]),r(o,t)&&l++,r(c,t)&&h++})),s[n])return r(e,i[1])?c[i[2]]=null:r(e,i[2])&&(c[i[1]]=null),c;if(h!==u&&l){if(l>=u)return o;for(var d=0;d<i.length;d++){var f=i[d];if(!a(o,f)&&a(t,f)){o[f]=t[f];break}}return o}return c}function a(t,e){return t.hasOwnProperty(e)}function r(t,e){return null!=t[e]&&"auto"!==t[e]}function o(t,e,i){uv(t,(function(t){e[t]=i[t]}))}!S(i)&&(i={});var s=i.ignoreSize;!_(s)&&(s=[s,s]);var l=n(fv[0],0),c=n(fv[1],1);o(fv[0],t,l),o(fv[1],t,c)}function $r(t){return qr({},t)}function qr(t,e){return e&&t&&uv(dv,(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t}function Zr(t){var e=[];return p(mv.getClassesByMainType(t),(function(t){e=e.concat(t.prototype.dependencies||[])})),e=g(e,(function(t){return dn(t).main})),"dataset"!==t&&h(e,"dataset")<=0&&e.unshift("dataset"),e}function Jr(t,e){for(var i=t.length,n=0;i>n;n++)if(t[n].length>e)return t[n];return t[i-1]}function Qr(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===Av?{}:[]),this.sourceFormat=t.sourceFormat||Tv,this.seriesLayoutBy=t.seriesLayoutBy||Mv,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&B(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function Kr(t){var e=t.option.source,i=Tv;if(T(e))i=Cv;else if(_(e)){0===e.length&&(i=kv);for(var n=0,a=e.length;a>n;n++){var r=e[n];if(null!=r){if(_(r)){i=kv;break}if(S(r)){i=Sv;break}}}}else if(S(e)){for(var o in e)if(e.hasOwnProperty(o)&&f(e[o])){i=Av;break}}else if(null!=e)throw new Error("Invalid data");Lv(t).sourceFormat=i}function to(t){return Lv(t).source}function eo(t){Lv(t).datasetMap=B()}function io(t){var e=t.option,i=e.data,n=T(i)?Cv:wv,a=!1,r=e.seriesLayoutBy,o=e.sourceHeader,s=e.dimensions,l=lo(t);if(l){var c=l.option;i=c.source,n=Lv(l).sourceFormat,a=!0,r=r||c.seriesLayoutBy,null==o&&(o=c.sourceHeader),s=s||c.dimensions}var h=no(i,n,r,o,s);Lv(t).source=new Qr({data:i,fromDataset:a,seriesLayoutBy:r,sourceFormat:n,dimensionsDefine:h.dimensionsDefine,startIndex:h.startIndex,dimensionsDetectCount:h.dimensionsDetectCount,encodeDefine:e.encode})}function no(t,e,i,n,a){if(!t)return{dimensionsDefine:ao(a)};var r,o;if(e===kv)"auto"===n||null==n?ro((function(t){null!=t&&"-"!==t&&(k(t)?null==o&&(o=1):o=0)}),i,t,10):o=n?1:0,a||1!==o||(a=[],ro((function(t,e){a[e]=null!=t?t:""}),i,t)),r=a?a.length:i===Dv?t.length:t[0]?t[0].length:null;else if(e===Sv)a||(a=oo(t));else if(e===Av)a||(a=[],p(t,(function(t,e){a.push(e)})));else if(e===wv){var s=Qi(t[0]);r=_(s)&&s.length||1}return{startIndex:o,dimensionsDefine:ao(a),dimensionsDetectCount:r}}function ao(t){if(t){var e=B();return g(t,(function(t){if(t=s({},S(t)?t:{name:t}),null==t.name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var i=e.get(t.name);return i?t.name+="-"+i.count++:e.set(t.name,{count:1}),t}))}}function ro(t,e,i,n){if(null==n&&(n=1/0),e===Dv)for(var a=0;a<i.length&&n>a;a++)t(i[a]?i[a][0]:null,a);else{var r=i[0]||[];for(a=0;a<r.length&&n>a;a++)t(r[a],a)}}function oo(t){for(var e,i=0;i<t.length&&!(e=t[i++]););if(e){var n=[];return p(e,(function(t,e){n.push(e)})),n}}function so(t,e,i){function n(t,e,i){for(var n=0;i>n;n++)t.push(e+n)}function a(t){var e=t.dimsDef;return e?e.length:1}var r={},o=lo(e);if(!o||!t)return r;var s,l,c=[],h=[],u=e.ecModel,d=Lv(u).datasetMap,f=o.uid+"_"+i.seriesLayoutBy;t=t.slice(),p(t,(function(e,i){!S(e)&&(t[i]={name:e}),"ordinal"===e.type&&null==s&&(s=i,l=a(t[i])),r[e.name]=[]}));var g=d.get(f)||d.set(f,{categoryWayDim:l,valueWayDim:0});return p(t,(function(t,e){var i=t.name,o=a(t);if(null==s){var l=g.valueWayDim;n(r[i],l,o),n(h,l,o),g.valueWayDim+=o}else if(s===e)n(r[i],0,o),n(c,0,o);else{l=g.categoryWayDim;n(r[i],l,o),n(h,l,o),g.categoryWayDim+=o}})),c.length&&(r.itemName=c),h.length&&(r.seriesName=h),r}function lo(t){var e=t.option,i=e.data;return i?void 0:t.ecModel.getComponent("dataset",e.datasetIndex||0)}function co(t,e){return ho(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function ho(t,e,i,n,a,r){function o(t){var e=k(t);return null!=t&&isFinite(t)&&""!==t?e?Iv.Might:Iv.Not:e&&"-"!==t?Iv.Must:void 0}var s,l,c,h=5;if(T(t))return Iv.Not;if(n){var u=n[r];S(u)?(l=u.name,c=u.type):k(u)&&(l=u)}if(null!=c)return"ordinal"===c?Iv.Must:Iv.Not;if(e===kv)if(i===Dv){for(var d=t[r],f=0;f<(d||[]).length&&h>f;f++)if(null!=(s=o(d[a+f])))return s}else for(f=0;f<t.length&&h>f;f++){var p=t[a+f];if(p&&null!=(s=o(p[r])))return s}else if(e===Sv){if(!l)return Iv.Not;for(f=0;f<t.length&&h>f;f++){var g=t[f];if(g&&null!=(s=o(g[l])))return s}}else if(e===Av){if(!l)return Iv.Not;d=t[l];if(!d||T(d))return Iv.Not;for(f=0;f<d.length&&h>f;f++)if(null!=(s=o(d[f])))return s}else if(e===wv)for(f=0;f<t.length&&h>f;f++){g=t[f];var v=Qi(g);if(!_(v))return Iv.Not;if(null!=(s=o(v[r])))return s}return Iv.Not}function uo(t,e){if(e){var i=e.seiresIndex,n=e.seriesId,a=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=a&&t.name!==a}}function fo(t,e){var i=t.color&&!t.colorLayer;p(e,(function(e,n){"colorLayer"===n&&i||mv.hasClass(n)||("object"==typeof e?t[n]=t[n]?r(t[n],e,!1):a(e):null==t[n]&&(t[n]=e))}))}function po(t){t=t,this.option={},this.option[Pv]=1,this._componentsMap=B({series:[]}),this._seriesIndices,this._seriesIndicesMap,fo(t,this._theme.option),r(t,yv,!1),this.mergeOption(t)}function go(t,e){_(e)||(e=e?[e]:[]);var i={};return p(e,(function(e){i[e]=(t.get(e)||[]).slice()})),i}function vo(t,e,i){var n=e.type?e.type:i?i.subType:mv.determineSubType(t,e);return n}function mo(t,e){t._seriesIndicesMap=B(t._seriesIndices=g(e,(function(t){return t.componentIndex}))||[])}function xo(t,e){return e.hasOwnProperty("subType")?m(t,(function(t){return t.subType===e.subType})):t}function yo(t){p(Ev,(function(e){this[e]=y(t[e],t)}),this)}function bo(){this._coordinateSystems=[]}function _o(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function wo(t,e,i){var n,a,r=[],o=[],s=t.timeline;if(t.baseOption&&(a=t.baseOption),(s||t.options)&&(a=a||{},r=(t.options||[]).slice()),t.media){a=a||{};var l=t.media;zv(l,(function(t){t&&t.option&&(t.query?o.push(t):n||(n=t))}))}return a||(a=t),a.timeline||(a.timeline=s),zv([a].concat(r).concat(g(o,(function(t){return t.option}))),(function(t){zv(e,(function(e){e(t,i)}))})),{baseOption:a,timelineOptions:r,mediaDefault:n,mediaList:o}}function ko(t,e,i){var n={width:e,height:i,aspectratio:e/i},a=!0;return p(t,(function(t,e){var i=e.match(Wv);if(i&&i[1]&&i[2]){var r=i[1],o=i[2].toLowerCase();So(n[o],t,r)||(a=!1)}})),a}function So(t,e,i){return"min"===i?t>=e:"max"===i?e>=t:t===e}function Ao(t,e){return t.join(",")===e.join(",")}function To(t,e){e=e||{},zv(e,(function(e,i){if(null!=e){var n=t[i];if(mv.hasClass(i)){e=Zi(e),n=Zi(n);var a=tn(n,e);t[i]=Nv(a,(function(t){return t.option&&t.exist?Bv(t.exist,t.option,!0):t.exist||t.option}))}else t[i]=Bv(n,e,!0)}}))}function Co(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=Vv.length;n>i;i++){var a=Vv[i],o=e.normal,s=e.emphasis;o&&o[a]&&(t[a]=t[a]||{},t[a].normal?r(t[a].normal,o[a]):t[a].normal=o[a],o[a]=null),s&&s[a]&&(t[a]=t[a]||{},t[a].emphasis?r(t[a].emphasis,s[a]):t[a].emphasis=s[a],s[a]=null)}}function Mo(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,a=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,l(t[e],n)):t[e]=n),a&&(t.emphasis=t.emphasis||{},t.emphasis[e]=a)}}function Do(t){Mo(t,"itemStyle"),Mo(t,"lineStyle"),Mo(t,"areaStyle"),Mo(t,"label"),Mo(t,"labelLine"),Mo(t,"upperLabel"),Mo(t,"edgeLabel")}function Io(t,e){var i=jv(t)&&t[e],n=jv(i)&&i.textStyle;if(n)for(var a=0,r=Jf.length;r>a;a++){e=Jf[a];n.hasOwnProperty(e)&&(i[e]=n[e])}}function Lo(t){t&&(Do(t),Io(t,"label"),t.emphasis&&Io(t.emphasis,"label"))}function Po(t){if(jv(t)){Co(t),Do(t),Io(t,"label"),Io(t,"upperLabel"),Io(t,"edgeLabel"),t.emphasis&&(Io(t.emphasis,"label"),Io(t.emphasis,"upperLabel"),Io(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Co(e),Lo(e));var i=t.markLine;i&&(Co(i),Lo(i));var n=t.markArea;n&&Lo(n);var a=t.data;if("graph"===t.type){a=a||t.nodes;var r=t.links||t.edges;if(r&&!T(r))for(var o=0;o<r.length;o++)Lo(r[o]);p(t.categories,(function(t){Do(t)}))}if(a&&!T(a))for(o=0;o<a.length;o++)Lo(a[o]);e=t.markPoint;if(e&&e.data){var s=e.data;for(o=0;o<s.length;o++)Lo(s[o])}i=t.markLine;if(i&&i.data){var l=i.data;for(o=0;o<l.length;o++)_(l[o])?(Lo(l[o][0]),Lo(l[o][1])):Lo(l[o])}"gauge"===t.type?(Io(t,"axisLabel"),Io(t,"title"),Io(t,"detail")):"treemap"===t.type?(Mo(t.breadcrumb,"itemStyle"),p(t.levels,(function(t){Do(t)}))):"tree"===t.type&&Do(t.leaves)}}function Ro(t){return _(t)?t:t?[t]:[]}function Eo(t){return(_(t)?t[0]:t)||{}}function Oo(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&(i=i&&i[e[n]],null!=i);n++);return i}function zo(t,e,i,n){e=e.split(",");for(var a,r=t,o=0;o<e.length-1;o++)a=e[o],null==r[a]&&(r[a]={}),r=r[a];(n||null==r[e[o]])&&(r[e[o]]=i)}function Fo(t){p(Uv,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}function No(t){p(t,(function(e,i){var n=[],a=[NaN,NaN],r=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=o.map(r,(function(r,l,c){var h,u,d=o.get(e.stackedDimension,c);if(isNaN(d))return a;s?u=o.getRawIndex(c):h=o.get(e.stackedByDimension,c);for(var f=NaN,p=i-1;p>=0;p--){var g=t[p];if(s||(u=g.data.rawIndexOf(g.stackedByDimension,h)),u>=0){var v=g.data.getByRawIndex(g.stackResultDimension,u);if(d>=0&&v>0||0>=d&&0>v){d+=v,f=v;break}}}return n[0]=d,n[1]=f,n}));o.hostModel.setData(l),e.data=l}))}function Bo(t,e){Qr.isInstance(t)||(t=Qr.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,n=t.sourceFormat;n===Cv&&(this._offset=0,this._dimSize=e,this._data=i);var a=Zv[n===kv?n+"_"+t.seriesLayoutBy:n];s(this,a)}function Wo(){return this._data.length}function Ho(t){return this._data[t]}function jo(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Vo(t,e,i){return null!=i?t[i]:t}function Go(t,e,i,n){return Uo(t[n],this._dimensionInfos[e])}function Uo(t,e){var i=e&&e.type;if("ordinal"===i){var n=e&&e.ordinalMeta;return n?n.parseAndCollect(t):t}return"time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Cr(t)),null==t||""===t?NaN:+t}function Xo(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var a,r,o=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s&&(a=s.name,r=s.index),Jv[o](n,e,r,a)}}}function Yo(t){return new $o(t)}function $o(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function qo(t,e,i,n,a,r){im.reset(i,n,a,r),t._callingProgress=e,t._callingProgress({start:i,end:n,count:n-i,next:im.next},t.context)}function Zo(t,e){var i,n;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&(i=t._reset(t.context),i&&i.progress&&(n=i.forceFirstProgress,i=i.progress),_(i)&&!i.length&&(i=null)),t._progress=i,t._modBy=t._modDataCount=null;var a=t._downstream;return a&&a.dirty(),n}function Jo(t){var e=t.name;nn(t)||(t.name=Qo(t)||e)}function Qo(t){var e=t.getRawData(),i=e.mapDimension("seriesName",!0),n=[];return p(i,(function(t){var i=e.getDimensionInfo(t);i.displayName&&n.push(i.displayName)})),n.join(" ")}function Ko(t){return t.model.getRawData().count()}function ts(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),es}function es(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function is(t,e){p(t.CHANGABLE_METHODS,(function(i){t.wrapMethod(i,b(ns,e))}))}function ns(t){var e=as(t);e&&e.setOutputEnd(this.count())}function as(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(t.uid))}return n}}function rs(){this.group=new Yd,this.uid=fr("viewChart"),this.renderTask=Yo({plan:ls,reset:cs}),this.renderTask.context={view:this}}function os(t,e,i){if(t&&(t.trigger(e,i),t.isGroup&&!Fa(t)))for(var n=0,a=t.childCount();a>n;n++)os(t.childAt(n),e,i)}function ss(t,e,i){var n=rn(t,e),a=e&&null!=e.highlightKey?Na(e.highlightKey):null;null!=n?p(Zi(n),(function(e){os(t.getItemGraphicEl(e),i,a)})):t.eachItemGraphicEl((function(t){os(t,i,a)}))}function ls(t){return cm(t.model)}function cs(t){var e=t.model,i=t.ecModel,n=t.api,a=t.payload,r=e.pipelineContext.progressiveRender,o=t.view,s=a&&lm(a).updateMethod,l=r?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](e,i,n,a),um[l]}function hs(t,e,i){function n(){h=(new Date).getTime(),u=null,t.apply(o,s||[])}var a,r,o,s,l,c=0,h=0,u=null;e=e||0;var d=function(){a=(new Date).getTime(),o=this,s=arguments;var t=l||e,d=l||i;l=null,r=a-(d?c:h)-t,clearTimeout(u),d?u=setTimeout(n,t):r>=0?n():u=setTimeout(n,-r),c=a};return d.clear=function(){u&&(clearTimeout(u),u=null)},d.debounceNextCall=function(t){l=t},d}function us(t,e,i,n){this.ecInstance=t,this.api=e,this.unfinished;i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=B()}function ds(t,e,i,n,a){function r(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var o;a=a||{},p(e,(function(e){if(!a.visualType||a.visualType===e.visualType){var s=t._stageTaskMap.get(e.uid),l=s.seriesTaskMap,c=s.overallTask;if(c){var h,u=c.agentStubMap;u.each((function(t){r(a,t)&&(t.dirty(),h=!0)})),h&&c.dirty(),xm(c,n);var d=t.getPerformArgs(c,a.block);u.each((function(t){t.perform(d)})),o|=c.perform(d)}else l&&l.each((function(s){r(a,s)&&s.dirty();var l=t.getPerformArgs(s,a.block);l.skip=!e.performRawSeries&&i.isSeriesFiltered(s.context.model),xm(s,n),o|=s.perform(l)}))}})),t.unfinished|=o}function fs(t,e,i,n,a){function r(i){var r=i.uid,s=o.get(r)||o.set(r,Yo({plan:ys,reset:bs,count:ws}));s.context={model:i,ecModel:n,api:a,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},ks(t,i,s)}var o=i.seriesTaskMap||(i.seriesTaskMap=B()),s=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(r):s?n.eachRawSeriesByType(s,r):l&&l(n,a).each(r);var c=t._pipelineMap;o.each((function(t,e){c.get(e)||(t.dispose(),o.removeKey(e))}))}function ps(t,e,i,n,a){function r(e){var i=e.uid,n=s.get(i);n||(n=s.set(i,Yo({reset:vs,onDirty:xs})),o.dirty()),n.context={model:e,overallProgress:h,modifyOutputEnd:u},n.agent=o,n.__block=h,ks(t,e,n)}var o=i.overallTask=i.overallTask||Yo({reset:gs});o.context={ecModel:n,api:a,overallReset:e.overallReset,scheduler:t};var s=o.agentStubMap=o.agentStubMap||B(),l=e.seriesType,c=e.getTargetSeries,h=!0,u=e.modifyOutputEnd;l?n.eachRawSeriesByType(l,r):c?c(n,a).each(r):(h=!1,p(n.getSeries(),r));var d=t._pipelineMap;s.each((function(t,e){d.get(e)||(t.dispose(),o.dirty(),s.removeKey(e))}))}function gs(t){t.overallReset(t.ecModel,t.api,t.payload)}function vs(t){return t.overallProgress&&ms}function ms(){this.agent.dirty(),this.getDownstream().dirty()}function xs(){this.agent&&this.agent.dirty()}function ys(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function bs(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Zi(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?g(e,(function(t,e){return _s(e)})):ym}function _s(t){return function(e,i){var n=i.data,a=i.resetDefines[t];if(a&&a.dataEach)for(var r=e.start;r<e.end;r++)a.dataEach(n,r);else a&&a.progress&&a.progress(e,n)}}function ws(t){return t.data.count()}function ks(t,e,i){var n=e.uid,a=t._pipelineMap.get(n);!a.head&&(a.head=i),a.tail&&a.tail.pipe(i),a.tail=i,i.__idxInPipeline=a.count++,i.__pipeline=a}function Ss(t){bm=null;try{t(_m,wm)}catch(i){}return bm}function As(t,e){for(var i in e.prototype)t[i]=H}function Ts(t){if(k(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function Cs(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function Ms(t,e){for(var i=t.firstChild;i;){if(1===i.nodeType){var n=i.getAttribute("offset");n=n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var a=i.getAttribute("stop-color")||"#000000";e.addColorStop(n,a)}i=i.nextSibling}}function Ds(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),l(e.__inheritedStyle,t.__inheritedStyle))}function Is(t){for(var e=O(t).split(Im),i=[],n=0;n<e.length;n+=2){var a=parseFloat(e[n]),r=parseFloat(e[n+1]);i.push([a,r])}return i}function Ls(t,e,i,n){var a=e.__inheritedStyle||{},r="text"===e.type;if(1===t.nodeType&&(Rs(t,e),s(a,Es(t)),!n))for(var o in Rm)if(Rm.hasOwnProperty(o)){var l=t.getAttribute(o);null!=l&&(a[Rm[o]]=l)}var c=r?"textFill":"fill",h=r?"textStroke":"stroke";e.style=e.style||new nf;var u=e.style;null!=a.fill&&u.set(c,Ps(a.fill,i)),null!=a.stroke&&u.set(h,Ps(a.stroke,i)),p(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){var e="lineWidth"===t&&r?"textStrokeWidth":t;null!=a[t]&&u.set(e,parseFloat(a[t]))})),a.textBaseline&&"auto"!==a.textBaseline||(a.textBaseline="alphabetic"),"alphabetic"===a.textBaseline&&(a.textBaseline="bottom"),"start"===a.textAlign&&(a.textAlign="left"),"end"===a.textAlign&&(a.textAlign="right"),p(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(t){null!=a[t]&&u.set(t,a[t])})),a.lineDash&&(e.style.lineDash=O(a.lineDash).split(Im)),u[h]&&"none"!==u[h]&&(e[h]=!0),e.__inheritedStyle=a}function Ps(t,e){var i=e&&t&&t.match(Em);if(i){var n=O(i[1]),a=e[n];return a}return t}function Rs(e,i){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var a=null,r=[];n.replace(Om,(function(t,e,i){r.push(e,i)}));for(var o=r.length-1;o>0;o-=2){var s=r[o],l=r[o-1];switch(a=a||It(),l){case"translate":s=O(s).split(Im),Et(a,a,[parseFloat(s[0]),parseFloat(s[1]||0)]);break;case"scale":s=O(s).split(Im),zt(a,a,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=O(s).split(Im),Ot(a,a,parseFloat(s[0]));break;case"skew":s=O(s).split(Im),t.warn("Skew transform is not supported yet");break;case"matrix":s=O(s).split(Im);a[0]=parseFloat(s[0]),a[1]=parseFloat(s[1]),a[2]=parseFloat(s[2]),a[3]=parseFloat(s[3]),a[4]=parseFloat(s[4]),a[5]=parseFloat(s[5])}}i.setLocalTransform(a)}}function Es(t){var e=t.getAttribute("style"),i={};if(!e)return i;var n,a={};for(zm.lastIndex=0;null!=(n=zm.exec(e));)a[n[1]]=n[2];for(var r in Rm)Rm.hasOwnProperty(r)&&null!=a[r]&&(i[Rm[r]]=a[r]);return i}function Os(t,e,i){var n=e/t.width,a=i/t.height,r=Math.min(n,a),o=[r,r],s=[-(t.x+t.width/2)*r+e/2,-(t.y+t.height/2)*r+i/2];return{scale:o,position:s}}function zs(t,e){return function(i,n,a){(e||!this._disposed)&&(i=i&&i.toLowerCase(),id.prototype[t].call(this,i,n,a))}}function Fs(){id.call(this)}function Ns(t,e,i){function n(t,e){return t.__prio-e.__prio}i=i||{},"string"==typeof e&&(e=xx[e]),this.id,this.group,this._dom=t;var r="canvas",o=this._zr=Ui(t,{renderer:i.renderer||r,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=hs(y(o.flush,o),17);e=a(e);e&&Yv(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new bo;var s=this._api=il(this);Le(mx,n),Le(px,n),this._scheduler=new us(this,s,px,mx),id.call(this,this._ecEventProcessor=new nl),this._messageCenter=new Fs,this._initEvents(),this.resize=y(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),Xs(o,this),z(this)}function Bs(t,e,i){if(!this._disposed){var n,a=this._model,r=this._coordSysMgr.getCoordinateSystems();e=sn(a,e);for(var o=0;o<r.length;o++){var s=r[o];if(s[t]&&null!=(n=s[t](a,e,i)))return n}}}function Ws(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(),Ys(t,"component",e,i),Ys(t,"chart",e,i),i.plan()}function Hs(t,e,i,n,a){function r(n){n&&n.__alive&&n[e]&&n[e](n.__model,o,t._api,i)}var o=t._model;if(n){var s={};s[n+"Id"]=i[n+"Id"],s[n+"Index"]=i[n+"Index"],s[n+"Name"]=i[n+"Name"];var l={mainType:n,query:s};a&&(l.subType=a);var c=i.excludeSeriesId;null!=c&&(c=B(Zi(c))),o&&o.eachComponent(l,(function(e){c&&null!=c.get(e.id)||r(t["series"===n?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else Hm(t._componentsViews.concat(t._chartsViews),r)}function js(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries((function(t){n.updateStreamModes(t,i[t.__viewId])}))}function Vs(t,e){var i=t.type,n=t.escapeConnect,a=dx[i],r=a.actionInfo,o=(r.update||"update").split(":"),c=o.pop();o=null!=o[0]&&Gm(o[0]),this[ox]=!0;var h=[t],u=!1;t.batch&&(u=!0,h=g(t.batch,(function(e){return e=l(s({},e),t),e.batch=null,e})));var d,f=[],p="highlight"===i||"downplay"===i;Hm(h,(function(t){d=a.action(t,this._model,this._api),d=d||s({},t),d.type=r.event||d.type,f.push(d),p?Hs(this,c,t,"series"):o&&Hs(this,c,t,o.main,o.sub)}),this),"none"===c||p||o||(this[sx]?(Ws(this),hx.update.call(this,t),this[sx]=!1):hx[c].call(this,t)),d=u?{type:r.event||i,escapeConnect:n,batch:f}:f[0],this[ox]=!1,!e&&this._messageCenter.trigger(d.type,d)}function Gs(t){for(var e=this._pendingActions;e.length;){var i=e.shift();Vs.call(this,i,t)}}function Us(t){!t&&this.trigger("updated")}function Xs(t,e){t.on("rendered",(function(){e.trigger("rendered"),!t.animation.isFinished()||e[sx]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))}function Ys(t,e,i,n){function a(t){var e="_ec_"+t.id+"_"+t.type,a=s[e];if(!a){var h=Gm(t.type),u=r?rm.getClass(h.main,h.sub):rs.getClass(h.sub);a=new u,a.init(i,c),s[e]=a,o.push(a),l.add(a.group)}t.__viewId=a.__id=e,a.__alive=!0,a.__model=t,a.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!r&&n.prepareView(a,t,i,c)}for(var r="component"===e,o=r?t._componentsViews:t._chartsViews,s=r?t._componentsMap:t._chartsMap,l=t._zr,c=t._api,h=0;h<o.length;h++)o[h].__alive=!1;r?i.eachComponent((function(t,e){"series"!==t&&a(e)})):i.eachSeries(a);for(h=0;h<o.length;){var u=o[h];u.__alive?h++:(!r&&u.renderTask.dispose(),l.remove(u.group),u.dispose(i,c),o.splice(h,1),delete s[u.__id],u.__id=u.group.__ecComponentInfo=null)}}function $s(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function qs(t,e,i,n){Zs(t,e,i,n),Hm(t._chartsViews,(function(t){t.__alive=!1})),Js(t,e,i,n),Hm(t._chartsViews,(function(t){t.__alive||t.remove(e,i)}))}function Zs(t,e,i,n,a){Hm(a||t._componentsViews,(function(t){var a=t.__model;t.render(a,e,i,n),el(a,t)}))}function Js(t,e,i,n,a){var r,o=t._scheduler;e.eachSeries((function(e){var i=t._chartsMap[e.__viewId];i.__alive=!0;var s=i.renderTask;o.updatePayload(s,n),a&&a.get(e.uid)&&s.dirty(),r|=s.perform(o.getPerformArgs(s)),i.group.silent=!!e.get("silent"),el(e,i),tl(e,i)})),o.unfinished|=r,Ks(t,e),pm(t._zr.dom,e)}function Qs(t,e){Hm(vx,(function(i){i(t,e)}))}function Ks(t,e){var i=t._zr,n=i.storage,a=0;n.traverse((function(){a++})),a>e.get("hoverLayerThreshold")&&!Eu.node&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var i=t._chartsMap[e.__viewId];i.__alive&&i.group.traverse((function(t){t.useHoverLayer=!0}))}}))}function tl(t,e){var i=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||t.style.blend!==i&&t.setStyle("blend",i),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.setStyle("blend",i)}))}))}function el(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n))}))}function il(t){var e=t._coordSysMgr;return s(new yo(t),{getCoordinateSystems:y(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent}}})}function nl(){this.eventInfo}function al(t){function e(t,e){for(var i=0;i<t.length;i++){var n=t[i];n[r]=e}}var i=0,n=1,a=2,r="__connectUpdateStatus";Hm(fx,(function(o,s){t._messageCenter.on(s,(function(o){if(_x[t.group]&&t[r]!==i){if(o&&o.escapeConnect)return;var s=t.makeActionFromEvent(o),l=[];Hm(bx,(function(e){e!==t&&e.group===t.group&&l.push(e)})),e(l,i),Hm(l,(function(t){t[r]!==n&&t.dispatchAction(s)})),e(l,a)}}))}))}function rl(t,e,i){var n=cl(t);if(n)return n;var a=new Ns(t,e,i);return a.id="ec_"+kx++,bx[a.id]=a,cn(t,Ax,a.id),al(a),a}function ol(t){if(_(t)){var e=t;t=null,Hm(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+Sx++,Hm(e,(function(e){e.group=t}))}return _x[t]=!0,t}function sl(t){_x[t]=!1}function ll(t){"string"==typeof t?t=bx[t]:t instanceof Ns||(t=cl(t)),t instanceof Ns&&!t.isDisposed()&&t.dispose()}function cl(t){return bx[hn(t,Ax)]}function hl(t){return bx[t]}function ul(t,e){xx[t]=e}function dl(t){gx.push(t)}function fl(t,e){bl(px,t,e,$m)}function pl(t){vx.push(t)}function gl(t,e,i){"function"==typeof e&&(i=e,e="");var n=Vm(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,Wm(lx.test(n)&&lx.test(e)),dx[n]||(dx[n]={action:i,actionInfo:t}),fx[e]=n}function vl(t,e){bo.register(t,e)}function ml(t){var e=bo.get(t);return e?e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice():void 0}function xl(t,e){bl(mx,t,e,Qm,"layout")}function yl(t,e){bl(mx,t,e,ex,"visual")}function bl(t,e,i,n,a){(jm(e)||Vm(e))&&(i=e,e=n);var r=us.wrapStageHandler(i,a);return r.__prio=e,r.__raw=i,t.push(r),r}function _l(t,e){yx[t]=e}function wl(t){return mv.extend(t)}function kl(t){return rm.extend(t)}function Sl(t){return am.extend(t)}function Al(t){return rs.extend(t)}function Tl(t){n("createCanvas",t)}function Cl(t,e,i){Nm.registerMap(t,e,i)}function Ml(t){var e=Nm.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}function Dl(t){return t}function Il(t,e,i,n,a){this._old=t,this._new=e,this._oldKeyGetter=i||Dl,this._newKeyGetter=n||Dl,this.context=a}function Ll(t,e,i,n,a){for(var r=0;r<t.length;r++){var o="_ec_"+a[n](t[r],r),s=e[o];null==s?(i.push(o),e[o]=r):(s.length||(e[o]=s=[s]),s.push(r))}}function Pl(t){var e={},i=e.encode={},n=B(),a=[],r=[],o=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};p(t.dimensions,(function(e){var s=t.getDimensionInfo(e),l=s.coordDim;if(l){var c=s.coordDimIndex;Rl(i,l)[c]=e,s.isExtraCoord||(n.set(l,1),Ol(s.type)&&(a[0]=e),Rl(o.encode,l)[c]=s.index),s.defaultTooltip&&r.push(e)}Mx.each((function(t,e){var n=Rl(i,e),a=s.otherDims[e];null!=a&&!1!==a&&(n[a]=s.name)}))}));var s=[],l={};n.each((function(t,e){var n=i[e];l[e]=n[0],s=s.concat(n)})),e.dataDimsOnCoord=s,e.encodeFirstDimNotExtra=l;var c=i.label;c&&c.length&&(a=c.slice());var h=i.tooltip;return h&&h.length?r=h.slice():r.length||(r=a.slice()),i.defaultedLabel=a,i.defaultedTooltip=r,e}function Rl(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function El(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function Ol(t){return!("ordinal"===t||"time"===t)}function zl(t){null!=t&&s(this,t),this.otherDims={}}function Fl(t){return t._rawCount>65535?Ex:zx}function Nl(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Bl(t,e){p(Fx.concat(e.__wrappedMethods||[]),(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t.__wrappedMethods=e.__wrappedMethods,p(Nx,(function(i){t[i]=a(e[i])})),t._calculationInfo=s(e._calculationInfo)}function Wl(t,e,i,n,a){var r=Rx[e.type],o=n-1,s=e.name,l=t[s][o];if(l&&l.length<i){for(var c=new r(Math.min(a-o*i,i)),h=0;h<l.length;h++)c[h]=l[h];t[s][o]=c}for(var u=n*i;a>u;u+=i)t[s].push(new r(Math.min(a-u,i)))}function Hl(t){var e=t._invertedIndicesMap;p(e,(function(i,n){var a=t._dimensionInfos[n],r=a.ordinalMeta;if(r){i=e[n]=new Ox(r.categories.length);for(var o=0;o<i.length;o++)i[o]=Lx;for(o=0;o<t._count;o++)i[t.get(n,o)]=o}}))}function jl(t,e,i){var n;if(null!=e){var a=t._chunkSize,r=Math.floor(i/a),o=i%a,s=t.dimensions[e],l=t._storage[s][r];if(l){n=l[o];var c=t._dimensionInfos[s].ordinalMeta;c&&c.categories.length&&(n=c.categories[n])}}return n}function Vl(t){return t}function Gl(t){return t<this._count&&t>=0?this._indices[t]:-1}function Ul(t,e){var i=t._idList[e];return null==i&&(i=jl(t,t._idDimIdx,e)),null==i&&(i=Px+e),i}function Xl(t){return _(t)||(t=[t]),t}function Yl(t,e){var i=t.dimensions,n=new Bx(g(i,t.getDimensionInfo,t),t.hostModel);Bl(n,t);for(var a=n._storage={},r=t._storage,o=0;o<i.length;o++){var s=i[o];r[s]&&(h(e,s)>=0?(a[s]=$l(r[s]),n._rawExtent[s]=ql(),n._extent[s]=null):a[s]=r[s])}return n}function $l(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=Nl(t[i]);return e}function ql(){return[1/0,-1/0]}function Zl(t,e,i){function n(t,e,i){null!=Mx.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,c.set(e,!0))}Qr.isInstance(e)||(e=Qr.seriesDataToSource(e)),i=i||{},t=(t||[]).slice();for(var r=(i.dimsDef||[]).slice(),o=B(),c=B(),h=[],u=Jl(e,t,r,i.dimCount),d=0;u>d;d++){var f=r[d]=s({},S(r[d])?r[d]:{name:r[d]}),g=f.name,v=h[d]=new zl;null!=g&&null==o.get(g)&&(v.name=v.displayName=g,o.set(g,d)),null!=f.type&&(v.type=f.type),null!=f.displayName&&(v.displayName=f.displayName)}var m=i.encodeDef;!m&&i.encodeDefaulter&&(m=i.encodeDefaulter(e,u)),m=B(m),m.each((function(t,e){if(t=Zi(t).slice(),1===t.length&&!k(t[0])&&t[0]<0)m.set(e,!1);else{var i=m.set(e,[]);p(t,(function(t,a){k(t)&&(t=o.get(t)),null!=t&&u>t&&(i[a]=t,n(h[t],e,a))}))}}));var x=0;p(t,(function(t){var e,i,r;if(k(t))e=t,t={};else{e=t.name;var o=t.ordinalMeta;t.ordinalMeta=null,t=a(t),t.ordinalMeta=o,i=t.dimsDef,r=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var s=m.get(e);if(!1!==s){s=Zi(s);if(!s.length)for(var c=0;c<(i&&i.length||1);c++){for(;x<h.length&&null!=h[x].coordDim;)x++;x<h.length&&s.push(x++)}p(s,(function(a,o){var s=h[a];if(n(l(s,t),e,o),null==s.name&&i){var c=i[o];!S(c)&&(c={name:c}),s.name=s.displayName=c.name,s.defaultTooltip=c.defaultTooltip}r&&l(s.otherDims,r)}))}}));var y=i.generateCoord,b=i.generateCoordCount,_=null!=b;b=y?b||1:0;for(var w=y||"value",A=0;u>A;A++){v=h[A]=h[A]||new zl;var T=v.coordDim;null==T&&(v.coordDim=Ql(w,c,_),v.coordDimIndex=0,(!y||0>=b)&&(v.isExtraCoord=!0),b--),null==v.name&&(v.name=Ql(v.coordDim,o)),null!=v.type||co(e,A,v.name)!==Iv.Must&&(!v.isExtraCoord||null==v.otherDims.itemName&&null==v.otherDims.seriesName)||(v.type="ordinal")}return h}function Jl(t,e,i,n){var a=Math.max(t.dimensionsDetectCount||1,e.length,i.length,n||0);return p(e,(function(t){var e=t.dimsDef;e&&(a=Math.max(a,e.length))})),a}function Ql(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}function Kl(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=B(),this.categoryAxisMap=B(),this.firstCategoryDimIndex=null}function tc(t){var e=t.get("coordinateSystem"),i=new Kl(e),n=Vx[e];return n?(n(t,i,i.axisMap,i.categoryAxisMap),i):void 0}function ec(t){return"category"===t.get("type")}function ic(t,e,i){i=i||{};var n,a,r,o,s=i.byIndex,l=i.stackedCoordDimension,c=!(!t||!t.get("stack"));if(p(e,(function(t,i){k(t)&&(e[i]=t={name:t}),c&&!t.isExtraCoord&&(s||n||!t.ordinalMeta||(n=t),a||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(a=t))})),!a||s||n||(s=!0),a){r="__\0ecstackresult",o="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var h=a.coordDim,u=a.type,d=0;p(e,(function(t){t.coordDim===h&&d++})),e.push({name:r,coordDim:h,coordDimIndex:d,type:u,isExtraCoord:!0,isCalculationCoord:!0}),d++,e.push({name:o,coordDim:o,coordDimIndex:d,type:u,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:a&&a.name,stackedByDimension:n&&n.name,isStackedByIndex:s,stackedOverDimension:o,stackResultDimension:r}}function nc(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function ac(t,e){return nc(t,e)?t.getCalculationInfo("stackResultDimension"):e}function rc(t,e,i){i=i||{},Qr.isInstance(t)||(t=Qr.seriesDataToSource(t));var n,a=e.get("coordinateSystem"),r=bo.get(a),o=tc(e);o&&(n=g(o.coordSysDims,(function(t){var e={name:t},i=o.axisMap.get(t);if(i){var n=i.get("type");e.type=El(n)}return e}))),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]);var s,l,c=jx(t,{coordDimensions:n,generateCoord:i.generateCoord,encodeDefaulter:i.useEncodeDefaulter?b(so,n,e):null});o&&p(c,(function(t,e){var i=t.coordDim,n=o.categoryAxisMap.get(i);n&&(null==s&&(s=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(l=!0)})),l||null==s||(c[s].otherDims.itemName=0);var h=ic(e,c),u=new Bx(c,e);u.setCalculationInfo(h);var d=null!=s&&oc(t)?function(t,e,i,n){return n===s?i:this.defaultDimValueGetter(t,e,i,n)}:null;return u.hasItemOption=!1,u.initData(t,null,d),u}function oc(t){if(t.sourceFormat===wv){var e=sc(t.data||[]);return null!=e&&!_(Qi(e))}}function sc(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function lc(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function cc(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function hc(t){return t._map||(t._map=B(t.categories))}function uc(t){return S(t)&&null!=t.value?t.value:t+""}function dc(t,e,i,n){var a={},r=t[1]-t[0],o=a.interval=Ir(r/e,!0);null!=i&&i>o&&(o=a.interval=i),null!=n&&o>n&&(o=a.interval=n);var s=a.intervalPrecision=fc(o),l=a.niceTickExtent=[Yx(Math.ceil(t[0]/o)*o,s),Yx(Math.floor(t[1]/o)*o,s)];return gc(l,t),a}function fc(t){return wr(t)+2}function pc(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function gc(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),pc(t,0,e),pc(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function vc(t){return t.get("stack")||Zx+t.seriesIndex}function mc(t){return t.dim+t.index}function xc(t,e){var i=[];return e.eachSeriesByType(t,(function(t){Sc(t)&&!Ac(t)&&i.push(t)})),i}function yc(t){var e={};p(t,(function(t){var i=t.coordinateSystem,n=i.getBaseAxis();if("time"===n.type||"value"===n.type)for(var a=t.getData(),r=n.dim+"_"+n.index,o=a.mapDimension(n.dim),s=0,l=a.count();l>s;++s){var c=a.get(o,s);e[r]?e[r].push(c):e[r]=[c]}}));var i=[];for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(a){a.sort((function(t,e){return t-e}));for(var r=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(r=null===r?s:Math.min(r,s))}i[n]=r}}return i}function bc(t){var e=yc(t),i=[];return p(t,(function(t){var n,a=t.coordinateSystem,r=a.getBaseAxis(),o=r.getExtent();if("category"===r.type)n=r.getBandWidth();else if("value"===r.type||"time"===r.type){var s=r.dim+"_"+r.index,l=e[s],c=Math.abs(o[1]-o[0]),h=r.scale.getExtent(),u=Math.abs(h[1]-h[0]);n=l?c/u*l:c}else{var d=t.getData();n=Math.abs(o[1]-o[0])/d.count()}var f=xr(t.get("barWidth"),n),p=xr(t.get("barMaxWidth"),n),g=xr(t.get("barMinWidth")||1,n),v=t.get("barGap"),m=t.get("barCategoryGap");i.push({bandWidth:n,barWidth:f,barMaxWidth:p,barMinWidth:g,barGap:v,barCategoryGap:m,axisKey:mc(r),stackId:vc(t)})})),_c(i)}function _c(t){var e={};p(t,(function(t){var i=t.axisKey,n=t.bandWidth,a=e[i]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},r=a.stacks;e[i]=a;var o=t.stackId;r[o]||a.autoWidthCount++,r[o]=r[o]||{width:0,maxWidth:0};var s=t.barWidth;s&&!r[o].width&&(r[o].width=s,s=Math.min(a.remainedWidth,s),a.remainedWidth-=s);var l=t.barMaxWidth;l&&(r[o].maxWidth=l);var c=t.barMinWidth;c&&(r[o].minWidth=c);var h=t.barGap;null!=h&&(a.gap=h);var u=t.barCategoryGap;null!=u&&(a.categoryGap=u)}));var i={};return p(e,(function(t,e){i[e]={};var n=t.stacks,a=t.bandWidth,r=xr(t.categoryGap,a),o=xr(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,c=(s-r)/(l+(l-1)*o);c=Math.max(c,0),p(n,(function(t){var e=t.maxWidth,i=t.minWidth;if(t.width){var n=t.width;e&&(n=Math.min(n,e)),i&&(n=Math.max(n,i)),t.width=n,s-=n+o*n,l--}else{n=c;e&&n>e&&(n=Math.min(e,s)),i&&i>n&&(n=i),n!==c&&(t.width=n,s-=n+o*n,l--)}})),c=(s-r)/(l+(l-1)*o),c=Math.max(c,0);var h,u=0;p(n,(function(t){t.width||(t.width=c),h=t,u+=t.width*(1+o)})),h&&(u-=h.width*o);var d=-u/2;p(n,(function(t,n){i[e][n]=i[e][n]||{bandWidth:a,offset:d,width:t.width},d+=t.width*(1+o)}))})),i}function wc(t,e,i){if(t&&e){var n=t[mc(e)];return null!=n&&null!=i&&(n=n[vc(i)]),n}}function kc(t,e){var i=xc(t,e),n=bc(i),a={};p(i,(function(t){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),o=vc(t),s=n[mc(r)][o],l=s.offset,c=s.width,h=i.getOtherAxis(r),u=t.get("barMinHeight")||0;a[o]=a[o]||[],e.setLayout({bandWidth:s.bandWidth,offset:l,size:c});for(var d=e.mapDimension(h.dim),f=e.mapDimension(r.dim),p=nc(e,d),g=h.isHorizontal(),v=Tc(r,h,p),m=0,x=e.count();x>m;m++){var y=e.get(d,m),b=e.get(f,m);if(!isNaN(y)&&!isNaN(b)){var _,w,k,S,A=y>=0?"p":"n",T=v;if(p&&(a[o][b]||(a[o][b]={p:v,n:v}),T=a[o][b][A]),g){var C=i.dataToPoint([y,b]);_=T,w=C[1]+l,k=C[0]-v,S=c,Math.abs(k)<u&&(k=(0>k?-1:1)*u),p&&(a[o][b][A]+=k)}else{C=i.dataToPoint([b,y]);_=C[0]+l,w=T,k=c,S=C[1]-v,Math.abs(S)<u&&(S=(0>=S?-1:1)*u),p&&(a[o][b][A]+=S)}e.setItemLayout(m,{x:_,y:w,width:k,height:S})}}}),this)}function Sc(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Ac(t){return t.pipelineContext&&t.pipelineContext.large}function Tc(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}function Cc(t,e){return fy(t,dy(e))}function Mc(t,e){var i,n,a,r=t.type,o=e.getMin(),s=e.getMax(),l=null!=o,c=null!=s,h=t.getExtent();"ordinal"===r?i=e.getCategories().length:(n=e.get("boundaryGap"),_(n)||(n=[n||0,n||0]),"boolean"==typeof n[0]&&(n=[0,0]),n[0]=xr(n[0],1),n[1]=xr(n[1],1),a=h[1]-h[0]||Math.abs(h[0])),null==o&&(o="ordinal"===r?i?0:NaN:h[0]-n[0]*a),null==s&&(s="ordinal"===r?i?i-1:NaN:h[1]+n[1]*a),"dataMin"===o?o=h[0]:"function"==typeof o&&(o=o({min:h[0],max:h[1]})),"dataMax"===s?s=h[1]:"function"==typeof s&&(s=s({min:h[0],max:h[1]})),(null==o||!isFinite(o))&&(o=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(M(o)||M(s)||"ordinal"===r&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(o>0&&s>0&&!l&&(o=0),0>o&&0>s&&!c&&(s=0));var u=e.ecModel;if(u&&"time"===r){var d,f=xc("bar",u);if(p(f,(function(t){d|=t.getBaseAxis()===e.axis})),d){var g=bc(f),v=Dc(o,s,e,g);o=v.min,s=v.max}}return[o,s]}function Dc(t,e,i,n){var a=i.axis.getExtent(),r=a[1]-a[0],o=wc(n,i.axis);if(void 0===o)return{min:t,max:e};var s=1/0;p(o,(function(t){s=Math.min(t.offset,s)}));var l=-1/0;p(o,(function(t){l=Math.max(t.offset+t.width,l)})),s=Math.abs(s),l=Math.abs(l);var c=s+l,h=e-t,u=1-(s+l)/r,d=h/u-h;return e+=d*(l/c),t-=d*(s/c),{min:t,max:e}}function Ic(t,e){var i=Mc(t,e),n=null!=e.getMin(),a=null!=e.getMax(),r=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var o=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:r,fixMin:n,fixMax:a,minInterval:"interval"===o||"time"===o?e.get("minInterval"):null,maxInterval:"interval"===o||"time"===o?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function Lc(t,e){if(e=e||t.get("type"))switch(e){case"category":return new Xx(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new qx;default:return(lc.getClass(e)||qx).create(t)}}function Pc(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||0>i&&0>n)}function Rc(t){var e=t.getLabelModel().get("formatter"),i="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(e){return function(i){return i=t.scale.getLabel(i),e.replace("{value}",null!=i?i:"")}}(e):"function"==typeof e?function(n,a){return null!=i&&(a=n-i),e(Ec(t,n),a)}:function(e){return t.scale.getLabel(e)}}function Ec(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Oc(t){var e=t.model,i=t.scale;if(e.get("axisLabel.show")&&!i.isBlank()){var n,a,r="category"===t.type,o=i.getExtent();r?a=i.count():(n=i.getTicks(),a=n.length);var s,l=t.getLabelModel(),c=Rc(t),h=1;a>40&&(h=Math.ceil(a/40));for(var u=0;a>u;u+=h){var d=n?n[u]:o[0]+u,f=c(d),p=l.getTextRect(f),g=zc(p,l.get("rotate")||0);s?s.union(g):s=g}return s}}function zc(t,e){var i=e*Math.PI/180,n=t.plain(),a=n.width,r=n.height,o=a*Math.cos(i)+r*Math.sin(i),s=a*Math.sin(i)+r*Math.cos(i),l=new ke(n.x,n.y,o,s);return l}function Fc(t){var e=t.get("interval");return null==e?"auto":e}function Nc(t){return"category"===t.type&&0===Fc(t.getLabelModel())}function Bc(t,e){if("image"!==this.type){var i=this.style,n=this.shape;n&&"line"===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff"):(i.fill&&(i.fill=t),i.stroke&&(i.stroke=t)),this.dirty(!1)}}function Wc(t,e,i,n,a,r,o){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),s=0===t.indexOf("image://")?ma(t.slice(8),new ke(e,i,n,a),o?"center":"cover"):0===t.indexOf("path://")?va(t.slice(7),{},new ke(e,i,n,a),o?"center":"cover"):new Cy({shape:{symbolType:t,x:e,y:i,width:n,height:a}}),s.__isEmptyBrush=l,s.setColor=Bc,s.setColor(r),s}function Hc(t){return rc(t.getSource(),t)}function jc(t,e){var i=e;hr.isInstance(e)||(i=new hr(e),d(i,yy));var n=Lc(i);return n.setExtent(t[0],t[1]),Ic(n,i),n}function Vc(t){d(t,yy)}function Gc(t,e){return Math.abs(t-e)<Iy}function Uc(t,e,i){var n=0,a=t[0];if(!a)return!1;for(var r=1;r<t.length;r++){var o=t[r];n+=Vn(a[0],a[1],o[0],o[1],e,i),a=o}var s=t[0];return Gc(a[0],s[0])&&Gc(a[1],s[1])||(n+=Vn(a[0],a[1],s[0],s[1],e,i)),0!==n}function Xc(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}function Yc(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var a=i[n],r=a.geometry,o=r.coordinates,s=r.encodeOffsets,l=0;l<o.length;l++){var c=o[l];if("Polygon"===r.type)o[l]=$c(c,s[l],e);else if("MultiPolygon"===r.type)for(var h=0;h<c.length;h++){var u=c[h];c[h]=$c(u,s[l][h],e)}}return t.UTF8Encoding=!1,t}function $c(t,e,i){for(var n=[],a=e[0],r=e[1],o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64,l=t.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=a,l+=r,a=s,r=l,n.push([s/i,l/i])}return n}function qc(t){return"category"===t.type?Jc(t):th(t)}function Zc(t,e){return"category"===t.type?Kc(t,e):{ticks:t.scale.getTicks()}}function Jc(t){var e=t.getLabelModel(),i=Qc(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function Qc(t,e){var i,n,a=eh(t,"labels"),r=Fc(e),o=ih(a,r);return o||(w(r)?i=lh(t,r):(n="auto"===r?ah(t):r,i=sh(t,n)),nh(a,r,{labels:i,labelCategoryInterval:n}))}function Kc(t,e){var i,n,a=eh(t,"ticks"),r=Fc(e),o=ih(a,r);if(o)return o;if((!e.get("show")||t.scale.isBlank())&&(i=[]),w(r))i=lh(t,r,!0);else if("auto"===r){var s=Qc(t,t.getLabelModel());n=s.labelCategoryInterval,i=g(s.labels,(function(t){return t.tickValue}))}else n=r,i=sh(t,n,!0);return nh(a,r,{ticks:i,tickCategoryInterval:n})}function th(t){var e=t.scale.getTicks(),i=Rc(t);return{labels:g(e,(function(e,n){return{formattedLabel:i(e,n),rawLabel:t.scale.getLabel(e),tickValue:e}}))}}function eh(t,e){return Py(t)[e]||(Py(t)[e]=[])}function ih(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function nh(t,e,i){return t.push({key:e,value:i}),i}function ah(t){var e=Py(t).autoInterval;return null!=e?e:Py(t).autoInterval=t.calculateCategoryInterval()}function rh(t){var e=oh(t),i=Rc(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,a=t.scale,r=a.getExtent(),o=a.count();if(r[1]-r[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=r[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),h=Math.abs(c*Math.cos(n)),u=Math.abs(c*Math.sin(n)),d=0,f=0;l<=r[1];l+=s){var p=0,g=0,v=je(i(l),e.font,"center","top");p=1.3*v.width,g=1.3*v.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var m=d/h,x=f/u;isNaN(m)&&(m=1/0),isNaN(x)&&(x=1/0);var y=Math.max(0,Math.floor(Math.min(m,x))),b=Py(t.model),_=t.getExtent(),w=b.lastAutoInterval,k=b.lastTickCount;return null!=w&&null!=k&&Math.abs(w-y)<=1&&Math.abs(k-o)<=1&&w>y&&b.axisExtend0===_[0]&&b.axisExtend1===_[1]?y=w:(b.lastTickCount=o,b.lastAutoInterval=y,b.axisExtend0=_[0],b.axisExtend1=_[1]),y}function oh(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function sh(t,e,i){function n(t){l.push(i?t:{formattedLabel:a(t),rawLabel:r.getLabel(t),tickValue:t})}var a=Rc(t),r=t.scale,o=r.getExtent(),s=t.getLabelModel(),l=[],c=Math.max((e||0)+1,1),h=o[0],u=r.count();0!==h&&c>1&&u/c>2&&(h=Math.round(Math.ceil(h/c)*c));var d=Nc(t),f=s.get("showMinLabel")||d,p=s.get("showMaxLabel")||d;f&&h!==o[0]&&n(o[0]);for(var g=h;g<=o[1];g+=c)n(g);return p&&g-c!==o[1]&&n(o[1]),l}function lh(t,e,i){var n=t.scale,a=Rc(t),r=[];return p(n.getTicks(),(function(t){var o=n.getLabel(t);e(t,o)&&r.push(i?t:{formattedLabel:a(t),rawLabel:o,tickValue:t})})),r}function ch(t,e){var i=t[1]-t[0],n=e,a=i/n/2;t[0]+=a,t[1]-=a}function hh(t,e,i,n){function a(t,e){return t=yr(t),e=yr(e),d?t>e:e>t}var r=e.length;if(t.onBand&&!i&&r){var o,s,l=t.getExtent();if(1===r)e[0].coord=l[0],o=e[1]={coord:l[0]};else{var c=e[r-1].tickValue-e[0].tickValue,h=(e[r-1].coord-e[0].coord)/c;p(e,(function(t){t.coord-=h/2}));var u=t.scale.getExtent();s=1+u[1]-e[r-1].tickValue,o={coord:e[r-1].coord+h*s},e.push(o)}var d=l[0]>l[1];a(e[0].coord,l[0])&&(n?e[0].coord=l[0]:e.shift()),n&&a(l[0],e[0].coord)&&e.unshift({coord:l[0]}),a(l[1],o.coord)&&(n?o.coord=l[1]:e.pop()),n&&a(o.coord,l[1])&&e.push({coord:l[1]})}}function uh(t){return this._axes[t]}function dh(t){Ny.call(this,t)}function fh(t,e){return e.type||(e.data?"category":"value")}function ph(t,e){return t.getCoordSysModel()===e}function gh(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}function vh(t,e,i,n){function a(t){return t.dim+"_"+t.index}i.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],s=i.model,l=s.get("axisLine.onZero"),c=s.get("axisLine.onZeroAxisIndex");if(l){if(null!=c)mh(o[c])&&(r=o[c]);else for(var h in o)if(o.hasOwnProperty(h)&&mh(o[h])&&!n[a(o[h])]){r=o[h];break}r&&(n[a(r)]=!0)}}function mh(t){return t&&"category"!==t.type&&"time"!==t.type&&Pc(t)}function xh(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}function yh(t){return g(Yy,(function(e){var i=t.getReferringComponents(e)[0];return i}))}function bh(t){return"cartesian2d"===t.get("coordinateSystem")}function _h(t,e){var i=t.mapDimension("defaultedLabel",!0),n=i.length;if(1===n)return Xo(t,e,i[0]);if(n){for(var a=[],r=0;r<i.length;r++){var o=Xo(t,e,i[r]);a.push(o)}return a.join(" ")}}function wh(t,e,i,n,a,r){var o=i.getModel("label"),s=i.getModel("emphasis.label");Ba(t,e,o,s,{labelFetcher:a,labelDataIndex:r,defaultText:_h(a.getData(),r),isRectText:!0,autoColor:n}),kh(t),kh(e)}function kh(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function Sh(t,e,i){var n=t.getArea(),a=t.getBaseAxis().isHorizontal(),r=n.x,o=n.y,s=n.width,l=n.height,c=i.get("lineStyle.width")||2;r-=c/2,o-=c/2,s+=c,l+=c;var h=new _g({shape:{x:r,y:o,width:s,height:l}});return e&&(h.shape[a?"width":"height"]=0,Qa(h,{shape:{width:s,height:l}},i)),h}function Ah(t,e,i){var n=t.getArea(),a=new fg({shape:{cx:yr(t.cx,1),cy:yr(t.cy,1),r0:yr(n.r0,1),r:yr(n.r,1),startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return e&&(a.shape.endAngle=n.startAngle,Qa(a,{shape:{endAngle:n.endAngle}},i)),a}function Th(t,e,i){return t?"polar"===t.type?Ah(t,e,i):"cartesian2d"===t.type?Sh(t,e,i):null:null}function Ch(t,e){var i=t.getArea&&t.getArea();if("cartesian2d"===t.type){var n=t.getBaseAxis();if("category"!==n.type||!n.onBand){var a=e.getLayout("bandWidth");n.isHorizontal()?(i.x-=a,i.width+=2*a):(i.y-=a,i.height+=2*a)}}return i}function Mh(t,e,i){i.style.text=null,Ja(i,{shape:{width:0}},e,t,(function(){i.parent&&i.parent.remove(i)}))}function Dh(t,e,i){i.style.text=null,Ja(i,{shape:{r:i.shape.r0}},e,t,(function(){i.parent&&i.parent.remove(i)}))}function Ih(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function Lh(t,e,i,n,a,r,o,s){var c=e.getItemVisual(i,"color"),h=e.getItemVisual(i,"opacity"),u=e.getVisual("borderColor"),d=n.getModel("itemStyle"),f=n.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",d.get("barBorderRadius")||0),t.useStyle(l({stroke:Ih(a)?"none":u,fill:Ih(a)?"none":c,opacity:h},d.getBarItemStyle()));var p=n.getShallow("cursor");p&&t.attr("cursor",p);var g=o?a.height>0?"bottom":"top":a.width>0?"left":"right";s||wh(t.style,f,n,c,r,i,g),Ih(a)&&(f.fill=f.stroke="none"),Oa(t,f)}function Ph(t,e){var i=t.get(Qy)||0;return Math.min(i,Math.abs(e.width),Math.abs(e.height))}function Rh(t,e,i){var n=t.getData(),a=[],r=n.getLayout("valueAxisHorizontal")?1:0;a[1-r]=n.getLayout("valueAxisStart");var o=new rb({shape:{points:n.getLayout("largePoints")},incremental:!!i,__startPoint:a,__baseDimIdx:r,__largeDataIndices:n.getLayout("largeDataIndices"),__barWidth:n.getLayout("barWidth")});e.add(o),Oh(o,t,n),o.seriesIndex=t.seriesIndex,t.get("silent")||(o.on("mousedown",ob),o.on("mousemove",ob))}function Eh(t,e,i){var n=t.__baseDimIdx,a=1-n,r=t.shape.points,o=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[a];Ky[0]=e,Ky[1]=i;for(var c=Ky[n],h=Ky[1-n],u=c-s,d=c+s,f=0,p=r.length/2;p>f;f++){var g=2*f,v=r[g+n],m=r[g+a];if(v>=u&&d>=v&&(m>=l?h>=l&&m>=h:h>=m&&l>=h))return o[f]}return-1}function Oh(t,e,i){var n=i.getVisual("borderColor")||i.getVisual("color"),a=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(a),t.style.fill=null,t.style.stroke=n,t.style.lineWidth=i.getLayout("barWidth")}function zh(t,e,i,n){var a,r,o=Ar(i-t.rotation),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;return Tr(o-sb/2)?(r=l?"bottom":"top",a="center"):Tr(o-1.5*sb)?(r=l?"top":"bottom",a="center"):(r="middle",a=1.5*sb>o&&o>sb/2?l?"left":"right":l?"right":"left"),{rotation:o,textAlign:a,textVerticalAlign:r}}function Fh(t,e,i){if(!Nc(t.axis)){var n=t.get("axisLabel.showMinLabel"),a=t.get("axisLabel.showMaxLabel");e=e||[],i=i||[];var r=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],c=i[0],h=i[1],u=i[i.length-1],d=i[i.length-2];!1===n?(Nh(r),Nh(c)):Bh(r,o)&&(n?(Nh(o),Nh(h)):(Nh(r),Nh(c))),!1===a?(Nh(s),Nh(u)):Bh(l,s)&&(a?(Nh(l),Nh(d)):(Nh(s),Nh(u)))}}function Nh(t){t&&(t.ignore=!0)}function Bh(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var a=Lt([]);return Ot(a,a,-t.rotation),i.applyTransform(Rt([],a,t.getLocalTransform())),n.applyTransform(Rt([],a,e.getLocalTransform())),i.intersect(n)}}function Wh(t){return"middle"===t||"center"===t}function Hh(t,e,i,n,a){for(var r=[],o=[],s=[],l=0;l<t.length;l++){var c=t[l].coord;o[0]=c,o[1]=0,s[0]=c,s[1]=i,e&&(ot(o,o,e),ot(s,s,e));var h=new kg({anid:a+"_"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,silent:!0});r.push(h)}return r}function jh(t,e,i){var n=e.axis,a=e.getModel("axisTick");if(a.get("show")&&!n.scale.isBlank()){for(var r=a.getModel("lineStyle"),o=i.tickDirection*a.get("length"),s=n.getTicksCoords(),c=Hh(s,t._transform,o,l(r.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),h=0;h<c.length;h++)t.group.add(c[h]);return c}}function Vh(t,e,i){var n=e.axis,a=e.getModel("minorTick");if(a.get("show")&&!n.scale.isBlank()){var r=n.getMinorTicksCoords();if(r.length)for(var o=a.getModel("lineStyle"),s=i.tickDirection*a.get("length"),c=l(o.getLineStyle(),l(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),h=0;h<r.length;h++)for(var u=Hh(r[h],t._transform,s,c,"minorticks_"+h),d=0;d<u.length;d++)t.group.add(u[d])}}function Gh(t,e,i){var n=e.axis,a=D(i.axisLabelShow,e.get("axisLabel.show"));if(a&&!n.scale.isBlank()){var r=e.getModel("axisLabel"),o=r.get("margin"),s=n.getViewLabels(),l=(D(i.labelRotate,r.get("rotate"))||0)*sb/180,c=ub(i.rotation,l,i.labelDirection),h=e.getCategories&&e.getCategories(!0),u=[],d=db(e),f=e.get("triggerEvent");return p(s,(function(a,s){var l=a.tickValue,p=a.formattedLabel,g=a.rawLabel,v=r;h&&h[l]&&h[l].textStyle&&(v=new hr(h[l].textStyle,r,e.ecModel));var m=v.getTextColor()||e.get("axisLine.lineStyle.color"),x=n.dataToCoord(l),y=[x,i.labelOffset+i.labelDirection*o],b=new cg({anid:"label_"+l,position:y,rotation:c.rotation,silent:d,z2:10});Ha(b.style,v,{text:p,textAlign:v.getShallow("align",!0)||c.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||c.textVerticalAlign,textFill:"function"==typeof m?m("category"===n.type?g:"value"===n.type?l+"":l,s):m}),f&&(b.eventData=hb(e),b.eventData.targetType="axisLabel",b.eventData.value=g),t._dumbGroup.add(b),b.updateTransform(),u.push(b),t.group.add(b),b.decomposeTransform()})),u}}function Uh(t){var e=Xh(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,a=i.option,r=i.get("status"),o=i.get("value");null!=o&&(o=n.parse(o));var s=$h(i);null==r&&(a.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function Xh(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[qh(t)]}function Yh(t){var e=Xh(t);return e&&e.axisPointerModel}function $h(t){return!!t.get("handle.show")}function qh(t){return t.type+"||"+t.id}function Zh(t,e,i,n,a,r){var o=fb.getAxisPointerClass(t.axisPointerClass);if(o){var s=Yh(e);s?(t._axisPointer||(t._axisPointer=new o)).render(e,s,n,r):Jh(t,n)}}function Jh(t,e,i){var n=t._axisPointer;n&&n.dispose(e,i),t._axisPointer=null}function Qh(t,e,i){i=i||{};var n=t.coordinateSystem,a=e.axis,r={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,c=a.dim,h=n.getRect(),u=[h.x,h.x+h.width,h.y,h.y+h.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===c?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}r.position=["y"===c?p[d[l]]:u[0],"x"===c?p[d[l]]:u[3]],r.rotation=Math.PI/2*("x"===c?0:1);var v={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=v[s],r.labelOffset=o?p[d[s]]-p[d.onZero]:0,e.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),D(i.labelInside,e.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var m=e.get("axisLabel.rotate");return r.labelRotate="top"===l?-m:m,r.z2=1,r}function Kh(t,e,i){Yd.call(this),this.updateData(t,e,i)}function tu(t){return[t[0]/2,t[1]/2]}function eu(t,e){this.parent.drift(t,e)}function iu(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var i=this.__symbolOriginalScale,n=i[1]/i[0],a={scale:[Math.max(1.1*i[0],i[0]+3),Math.max(1.1*i[1],i[1]+3*n)]};this.animateTo(a,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function nu(t){this.group=new Yd,this._symbolCtor=t||Kh}function au(t,e,i,n){return!(!e||isNaN(e[0])||isNaN(e[1])||n.isIgnore&&n.isIgnore(i)||n.clipShape&&!n.clipShape.contain(e[0],e[1])||"none"===t.getItemVisual(i,"symbol"))}function ru(t){return null==t||S(t)||(t={isIgnore:t}),t||{}}function ou(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function su(t,e,i){var n,a=t.getBaseAxis(),r=t.getOtherAxis(a),o=lu(r,i),s=a.dim,l=r.dim,c=e.mapDimension(l),h=e.mapDimension(s),u="x"===l||"radius"===l?1:0,d=g(t.dimensions,(function(t){return e.mapDimension(t)})),f=e.getCalculationInfo("stackResultDimension");return(n|=nc(e,d[0]))&&(d[0]=f),(n|=nc(e,d[1]))&&(d[1]=f),{dataDimsForPoint:d,valueStart:o,valueAxisDim:l,baseAxisDim:s,stacked:!!n,valueDim:c,baseDim:h,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function lu(t,e){var i=0,n=t.scale.getExtent();return"start"===e?i=n[0]:"end"===e?i=n[1]:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]),i}function cu(t,e,i,n){var a=NaN;t.stacked&&(a=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(a)&&(a=t.valueStart);var r=t.baseDataOffset,o=[];return o[r]=i.get(t.baseDim,n),o[1-r]=a,e.dataToPoint(o)}function hu(t,e){var i=[];return e.diff(t).add((function(t){i.push({cmd:"+",idx:t})})).update((function(t,e){i.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){i.push({cmd:"-",idx:t})})).execute(),i}function uu(t){return isNaN(t[0])||isNaN(t[1])}function du(t,e,i,n,a,r,o,s,l,c){return"none"!==c&&c?fu.apply(this,arguments):pu.apply(this,arguments)}function fu(t,e,i,n,a,r,o,s,l,c,h){for(var u=0,d=i,f=0;n>f;f++){var p=e[d];if(d>=a||0>d)break;if(uu(p)){if(h){d+=r;continue}break}if(d===i)t[r>0?"moveTo":"lineTo"](p[0],p[1]);else if(l>0){var g=e[u],v="y"===c?1:0,m=(p[v]-g[v])*l;Db(Lb,g),Lb[v]=g[v]+m,Db(Pb,p),Pb[v]=p[v]-m,t.bezierCurveTo(Lb[0],Lb[1],Pb[0],Pb[1],p[0],p[1])}else t.lineTo(p[0],p[1]);u=d,d+=r}return f}function pu(t,e,i,n,a,r,o,s,l,c,h){for(var u=0,d=i,f=0;n>f;f++){var p=e[d];if(d>=a||0>d)break;if(uu(p)){if(h){d+=r;continue}break}if(d===i)t[r>0?"moveTo":"lineTo"](p[0],p[1]),Db(Lb,p);else if(l>0){var g=d+r,v=e[g];if(h)for(;v&&uu(e[g]);)g+=r,v=e[g];var m=.5,x=e[u];v=e[g];if(!v||uu(v))Db(Pb,p);else{var y,b;if(uu(v)&&!h&&(v=p),$(Ib,v,x),"x"===c||"y"===c){var _="x"===c?0:1;y=Math.abs(p[_]-x[_]),b=Math.abs(p[_]-v[_])}else y=Qu(p,x),b=Qu(p,v);m=b/(b+y),Mb(Pb,p,Ib,-l*(1-m))}Tb(Lb,Lb,s),Cb(Lb,Lb,o),Tb(Pb,Pb,s),Cb(Pb,Pb,o),t.bezierCurveTo(Lb[0],Lb[1],Pb[0],Pb[1],p[0],p[1]),Mb(Lb,p,Ib,l*m)}else t.lineTo(p[0],p[1]);u=d,d+=r}return f}function gu(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var a=0;a<t.length;a++){var r=t[a];r[0]<i[0]&&(i[0]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[0]>n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])}return{min:e?i:n,max:e?n:i}}function vu(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],a=e[i];if(n[0]!==a[0]||n[1]!==a[1])return}return!0}}function mu(t){return"number"==typeof t?t:t?.5:0}function xu(t,e,i){if(!i.valueDim)return[];for(var n=[],a=0,r=e.count();r>a;a++)n.push(cu(i,t,e,a));return n}function yu(t,e,i){for(var n=e.getBaseAxis(),a="x"===n.dim||"radius"===n.dim?0:1,r=[],o=0;o<t.length-1;o++){var s=t[o+1],l=t[o];r.push(l);var c=[];switch(i){case"end":c[a]=s[a],c[1-a]=l[1-a],r.push(c);break;case"middle":var h=(l[a]+s[a])/2,u=[];c[a]=u[a]=h,c[1-a]=l[1-a],u[1-a]=s[1-a],r.push(c),r.push(u);break;default:c[a]=l[a],c[1-a]=s[1-a],r.push(c)}}return t[o]&&r.push(t[o]),r}function bu(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var n,a,r=i.length-1;r>=0;r--){var o=i[r].dimension,s=t.dimensions[o],l=t.getDimensionInfo(s);if(n=l&&l.coordDim,"x"===n||"y"===n){a=i[r];break}}if(a){var c=e.getAxis(n),h=g(a.stops,(function(t){return{coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}})),u=h.length,d=a.outerColors.slice();u&&h[0].coord>h[u-1].coord&&(h.reverse(),d.reverse());var f=10,v=h[0].coord-f,m=h[u-1].coord+f,x=m-v;if(.001>x)return"transparent";p(h,(function(t){t.offset=(t.coord-v)/x})),h.push({offset:u?h[u-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:u?h[0].offset:.5,color:d[0]||"transparent"});var y=new Dg(0,0,0,0,h,!0);return y[n]=v,y[n+"2"]=m,y}}}function _u(t,e,i){var n=t.get("showAllSymbol"),a="auto"===n;if(!n||a){var r=i.getAxesByScale("ordinal")[0];if(r&&(!a||!wu(r,e))){var o=e.mapDimension(r.dim),s={};return p(r.getViewLabels(),(function(t){s[t.tickValue]=1})),function(t){return!s.hasOwnProperty(e.get(o,t))}}}}function wu(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var a=e.count(),r=Math.max(1,Math.round(a/5)),o=0;a>o;o+=r)if(1.5*Kh.getSymbolSize(e,o)[t.isHorizontal()?1:0]>n)return!1;return!0}function ku(t,e,i){if("cartesian2d"===t.type){var n=t.getBaseAxis().isHorizontal(),a=Sh(t,e,i);if(!i.get("clip",!0)){var r=a.shape,o=Math.max(r.width,r.height);n?(r.y-=o,r.height+=2*o):(r.x-=o,r.width+=2*o)}return a}return Ah(t,e,i)}function Su(t,e,i){var n,a={},r="toggleSelected"===t;return i.eachComponent("legend",(function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),n=i.isSelected(e.name));var o=i.getData();p(o,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);a[e]=a.hasOwnProperty(e)?a[e]&&n:n}}))})),"allSelect"===t||"inverseSelect"===t?{selected:a}:{name:e.name,selected:a}}function Au(t,e){var i=av(e.get("padding")),n=e.getItemStyle(["color","opacity"]);n.fill=e.get("backgroundColor");t=new _g({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1});return t}function Tu(t,e,i,n,a,r){var o;return"line"!==e&&e.indexOf("empty")<0?(o=i.getItemStyle(),t.style.stroke=n,r||(o.stroke=a)):o=i.getItemStyle(["borderWidth","borderColor"]),t.setStyle(o)}function Cu(t,e,i,n){Du(t,e,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),Mu(t,e,i,n)}function Mu(t,e,i,n){var a=i.getZr().storage.getDisplayList()[0];a&&a.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function Du(t,e,i,n){var a=i.getZr().storage.getDisplayList()[0];a&&a.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}function Iu(t,e,i){var n=t.getOrient(),a=[1,1];a[n.index]=0,Yr(e,i,{type:"box",ignoreSize:a})}var Lu=2311,Pu=function(){return Lu++},Ru={};Ru="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:i(navigator.userAgent);var Eu=Ru,Ou={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},zu={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Fu=Object.prototype.toString,Nu=Array.prototype,Bu=Nu.forEach,Wu=Nu.filter,Hu=Nu.slice,ju=Nu.map,Vu=Nu.reduce,Gu={},Uu=function(){return Gu.createCanvas()};Gu.createCanvas=function(){return document.createElement("canvas")};var Xu,Yu="__ec_primitive__";N.prototype={constructor:N,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var i in void 0!==e&&(t=y(t,e)),this.data)this.data.hasOwnProperty(i)&&t(this.data[i],i)},removeKey:function(t){delete this.data[t]}};var $u=(Object.freeze||Object)({$override:n,clone:a,merge:r,mergeAll:o,extend:s,defaults:l,createCanvas:Uu,getContext:c,indexOf:h,inherits:u,mixin:d,isArrayLike:f,each:p,map:g,reduce:v,filter:m,find:x,bind:y,curry:b,isArray:_,isFunction:w,isString:k,isObject:S,isBuiltInObject:A,isTypedArray:T,isDom:C,eqNaN:M,retrieve:D,retrieve2:I,retrieve3:L,slice:P,normalizeCssArray:R,assert:E,trim:O,setAsPrimitive:z,isPrimitive:F,createHashMap:B,concatArray:W,noop:H}),qu="undefined"==typeof Float32Array?Array:Float32Array,Zu=q,Ju=Z,Qu=it,Ku=nt,td=(Object.freeze||Object)({create:j,copy:V,clone:G,set:U,add:X,scaleAndAdd:Y,sub:$,len:q,length:Zu,lenSquare:Z,lengthSquare:Ju,mul:J,div:Q,dot:K,scale:tt,normalize:et,distance:it,dist:Qu,distanceSquare:nt,distSquare:Ku,negate:at,lerp:rt,applyTransform:ot,min:st,max:lt});ct.prototype={constructor:ct,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(ht(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,a=i-this._x,r=n-this._y;this._x=i,this._y=n,e.drift(a,r,t),this.dispatchToElement(ht(e,t),"drag",t.event);var o=this.findHover(i,n,e).target,s=this._dropTarget;this._dropTarget=o,e!==o&&(s&&o!==s&&this.dispatchToElement(ht(s,t),"dragleave",t.event),o&&o!==s&&this.dispatchToElement(ht(o,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(ht(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(ht(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var ed=Array.prototype.slice,id=function(t){this._$handlers={},this._$eventProcessor=t};id.prototype={constructor:id,one:function(t,e,i,n){return dt(this,t,e,i,n,!0)},on:function(t,e,i,n){return dt(this,t,e,i,n,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],a=0,r=i[t].length;r>a;a++)i[t][a].h!==e&&n.push(i[t][a]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var n=arguments,a=n.length;a>3&&(n=ed.call(n,1));for(var r=e.length,o=0;r>o;){var s=e[o];if(i&&i.filter&&null!=s.query&&!i.filter(t,s.query))o++;else{switch(a){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,n[1]);break;case 3:s.h.call(s.ctx,n[1],n[2]);break;default:s.h.apply(s.ctx,n)}s.one?(e.splice(o,1),r--):o++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var n=arguments,a=n.length;a>4&&(n=ed.call(n,1,n.length-1));for(var r=n[n.length-1],o=e.length,s=0;o>s;){var l=e[s];if(i&&i.filter&&null!=l.query&&!i.filter(t,l.query))s++;else{switch(a){case 1:l.h.call(r);break;case 2:l.h.call(r,n[1]);break;case 3:l.h.call(r,n[1],n[2]);break;default:l.h.apply(r,n)}l.one?(e.splice(s,1),o--):s++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this}};var nd=Math.log(2),ad="undefined"!=typeof window&&!!window.addEventListener,rd=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,od="___zrEVENTSAVED",sd=[],ld=ad?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},cd=function(){this._track=[]};cd.prototype={constructor:cd,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var a={points:[],touches:[],target:e,event:t},r=0,o=n.length;o>r;r++){var s=n[r],l=gt(i,s,{});a.points.push([l.zrX,l.zrY]),a.touches.push(s)}this._track.push(a)}},_recognize:function(t){for(var e in hd)if(hd.hasOwnProperty(e)){var i=hd[e](this._track,t);if(i)return i}}};var hd={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,a=(t[i-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var r=kt(n)/kt(a);!isFinite(r)&&(r=1),e.pinchScale=r;var o=St(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}},ud="silent";Ct.prototype.dispose=function(){};var dd=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],fd=function(t,e,i,n){id.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new Ct,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,ct.call(this),this.setHandlerProxy(i)};fd.prototype={constructor:fd,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(p(dd,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,i=t.zrY,n=Dt(this,e,i),a=this._hovered,r=a.target;r&&!r.__zr&&(a=this.findHover(a.x,a.y),r=a.target);var o=this._hovered=n?{x:e,y:i}:this.findHover(e,i),s=o.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),r&&s!==r&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(o,"mousemove",t),s&&s!==r&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,i=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&!i&&this.trigger("globalout",{type:"globalout",event:t})},resize:function(){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){t=t||{};var n=t.target;if(!n||!n.silent){for(var a="on"+e,r=At(e,t,i);n&&(n[a]&&(r.cancelBubble=n[a].call(n,r)),n.trigger(e,r),n=n.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer((function(t){"function"==typeof t[a]&&t[a].call(t,r),t.trigger&&t.trigger(e,r)})))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),a={x:t,y:e},r=n.length-1;r>=0;r--){var o;if(n[r]!==i&&!n[r].ignore&&(o=Mt(n[r],t,e))&&(!a.topTarget&&(a.topTarget=n[r]),o!==ud)){a.target=n[r];break}}return a},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new cd);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),n){var a=n.type;t.gestureEvent=a,this.dispatchToElement({target:n.target},a,n.event)}}},p(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){fd.prototype[t]=function(e){var i,n,a=e.zrX,r=e.zrY,o=Dt(this,a,r);if("mouseup"===t&&o||(i=this.findHover(a,r),n=i.target),"mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Qu(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}})),d(fd,id),d(fd,ct);var pd="undefined"==typeof Float32Array?Array:Float32Array,gd=(Object.freeze||Object)({create:It,identity:Lt,copy:Pt,mul:Rt,translate:Et,rotate:Ot,scale:zt,invert:Ft,clone:Nt}),vd=Lt,md=5e-5,xd=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},yd=xd.prototype;yd.transform=null,yd.needLocalTransform=function(){return Bt(this.rotation)||Bt(this.position[0])||Bt(this.position[1])||Bt(this.scale[0]-1)||Bt(this.scale[1]-1)};var bd=[];yd.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;if(i||e){n=n||It(),i?this.getLocalTransform(n):vd(n),e&&(i?Rt(n,t.transform,n):Pt(n,t.transform)),this.transform=n;var a=this.globalScaleRatio;if(null!=a&&1!==a){this.getGlobalScale(bd);var r=bd[0]<0?-1:1,o=bd[1]<0?-1:1,s=((bd[0]-r)*a+r)/bd[0]||0,l=((bd[1]-o)*a+o)/bd[1]||0;n[0]*=s,n[1]*=s,n[2]*=l,n[3]*=l}this.invTransform=this.invTransform||It(),Ft(this.invTransform,n)}else n&&vd(n)},yd.getLocalTransform=function(t){return xd.getLocalTransform(this,t)},yd.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},yd.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var _d=[],wd=It();yd.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],n=this.position,a=this.scale;Bt(e-1)&&(e=Math.sqrt(e)),Bt(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),n[0]=t[4],n[1]=t[5],a[0]=e,a[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/e)}},yd.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Rt(_d,t.invTransform,e),e=_d);var i=this.origin;i&&(i[0]||i[1])&&(wd[4]=i[0],wd[5]=i[1],Rt(_d,e,wd),_d[4]-=i[0],_d[5]-=i[1],e=_d),this.setLocalTransform(e)}},yd.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},yd.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&ot(i,i,n),i},yd.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&ot(i,i,n),i},xd.getLocalTransform=function(t,e){e=e||[],vd(e);var i=t.origin,n=t.scale||[1,1],a=t.rotation||0,r=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),zt(e,e,n),a&&Ot(e,e,a),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=r[0],e[5]+=r[1],e};var kd={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n))},elasticOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/n)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||1>i?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?-.5*i*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n):i*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-kd.bounceOut(1-t)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return.5>t?.5*kd.bounceIn(2*t):.5*kd.bounceOut(2*t-1)+.5}};Wt.prototype={constructor:Wt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(0>i)){i=Math.min(i,1);var n=this.easing,a="string"==typeof n?kd[n]:n,r="function"==typeof a?a(i):i;return this.fire("frame",r),1===i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Sd=function(){this.head=null,this.tail=null,this._len=0},Ad=Sd.prototype;Ad.insert=function(t){var e=new Td(t);return this.insertEntry(e),e},Ad.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Ad.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Ad.len=function(){return this._len},Ad.clear=function(){this.head=this.tail=null,this._len=0};var Td=function(t){this.value=t,this.next,this.prev},Cd=function(t){this._list=new Sd,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Md=Cd.prototype;Md.put=function(t,e){var i=this._list,n=this._map,a=null;if(null==n[t]){var r=i.len(),o=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var s=i.head;i.remove(s),delete n[s.key],a=s.value,this._lastRemovedEntry=s}o?o.value=e:o=new Td(e),o.key=t,i.insertEntry(o),n[t]=o}return a},Md.get=function(t){var e=this._map[t],i=this._list;return null!=e?(e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value):void 0},Md.clear=function(){this._list.clear(),this._map={}};var Dd={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Id=new Cd(20),Ld=null,Pd=ie,Rd=ne,Ed=(Object.freeze||Object)({parse:Jt,lift:te,toHex:ee,fastLerp:ie,fastMapToColor:Pd,lerp:ne,mapToColor:Rd,modifyHSL:ae,modifyAlpha:re,stringify:oe}),Od=Array.prototype.slice,zd=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||se,this._setter=n||le,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};zd.prototype={when:function(t,e){var i=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var a=this._getter(this._target,n);if(null==a)continue;0!==t&&i[n].push({time:0,value:ve(a)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;e>i;i++)t[i].call(this)},start:function(t,e){var i,n=this,a=0,r=function(){a--,a||n._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=ye(this,t,r,this._tracks[o],o,e);s&&(this._clipList.push(s),a++,this.animation&&this.animation.addClip(s),i=s)}if(i){var l=i.onframe;i.onframe=function(t,e){l(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return a||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var a=e[n];t&&a.onframe(this._target,1),i&&i.removeClip(a)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var Fd=1;"undefined"!=typeof window&&(Fd=Math.max(window.devicePixelRatio||1,1));var Nd=0,Bd=Fd,Wd=function(){};1===Nd&&(Wd=t.error);var Hd=Wd,jd=function(){this.animators=[]};jd.prototype={constructor:jd,animate:function(t,e){var i,n=!1,a=this,r=this.__zr;if(t){var o=t.split("."),s=a;n="shape"===o[0];for(var l=0,c=o.length;c>l;l++)s&&(s=s[o[l]]);s&&(i=s)}else i=a;if(i){var u=a.animators,d=new zd(i,e);return d.during((function(){a.dirty(n)})).done((function(){u.splice(h(u,d),1)})),u.push(d),r&&r.animation.addAnimator(d),d}Hd('Property "'+t+'" is not existed in element '+a.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;i>n;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,a,r){be(this,t,e,i,n,a,r)},animateFrom:function(t,e,i,n,a,r){be(this,t,e,i,n,a,r,!0)}};var Vd=function(t){xd.call(this,t),id.call(this,t),jd.call(this,t),this.id=t.id||Pu()};Vd.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(S(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},d(Vd,jd),d(Vd,xd),d(Vd,id);var Gd=ot,Ud=Math.min,Xd=Math.max;ke.prototype={constructor:ke,union:function(t){var e=Ud(t.x,this.x),i=Ud(t.y,this.y);this.width=Xd(t.x+t.width,this.x+this.width)-e,this.height=Xd(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[],i=[],n=[];return function(a){if(a){t[0]=i[0]=this.x,t[1]=n[1]=this.y,e[0]=n[0]=this.x+this.width,e[1]=i[1]=this.y+this.height,Gd(t,t,a),Gd(e,e,a),Gd(i,i,a),Gd(n,n,a),this.x=Ud(t[0],e[0],i[0],n[0]),this.y=Ud(t[1],e[1],i[1],n[1]);var r=Xd(t[0],e[0],i[0],n[0]),o=Xd(t[1],e[1],i[1],n[1]);this.width=r-this.x,this.height=o-this.y}}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,a=It();return Et(a,a,[-e.x,-e.y]),zt(a,a,[i,n]),Et(a,a,[t.x,t.y]),a},intersect:function(t){if(!t)return!1;t instanceof ke||(t=ke.create(t));var e=this,i=e.x,n=e.x+e.width,a=e.y,r=e.y+e.height,o=t.x,s=t.x+t.width,l=t.y,c=t.y+t.height;return!(o>n||i>s||l>r||a>c)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new ke(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},ke.create=function(t){return new ke(t.x,t.y,t.width,t.height)};var Yd=function(t){for(var e in t=t||{},Vd.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Yd.prototype={constructor:Yd,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Yd&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,a=h(n,t);return 0>a||(n.splice(a,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof Yd&&t.delChildrenFromStorage(i)),e&&e.refresh()),this},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromStorage(t),t instanceof Yd&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var a=i[n];t.call(e,a,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof Yd&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof Yd&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new ke(0,0,0,0),n=t||this._children,a=[],r=0;r<n.length;r++){var o=n[r];if(!o.ignore&&!o.invisible){var s=o.getBoundingRect(),l=o.getLocalTransform(a);l?(i.copy(s),i.applyTransform(l),e=e||i.clone(),e.union(i)):(e=e||s.clone(),e.union(s))}}return e||i}},u(Yd,Vd);var $d=32,qd=7,Zd=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Zd.prototype={constructor:Zd,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,a=e.length;a>n;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,Eu.canvasSupported&&Le(i,Pe)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var a=n,r=t;a;)a.parent=r,a.updateTransform(),e.push(a),r=a,a=a.clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var l=o[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Yd&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof Yd&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var n=t.length;n>e;e++)this.delRoot(t[e])}else{var a=h(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof Yd&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Pe};var Jd={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Qd=function(t,e,i){return Jd.hasOwnProperty(e)?i*=t.dpr:i},Kd={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},tf=9,ef=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],nf=function(t){this.extendFrom(t,!1)};nf.prototype={constructor:nf,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){var n=this,a=i&&i.style,r=!a||t.__attrCachedBy!==Kd.STYLE_BIND;t.__attrCachedBy=Kd.STYLE_BIND;for(var o=0;o<ef.length;o++){var s=ef[o],l=s[0];(r||n[l]!==a[l])&&(t[l]=Qd(t,l,n[l]||s[1]))}if((r||n.fill!==a.fill)&&(t.fillStyle=n.fill),(r||n.stroke!==a.stroke)&&(t.strokeStyle=n.stroke),(r||n.opacity!==a.opacity)&&(t.globalAlpha=null==n.opacity?1:n.opacity),(r||n.blend!==a.blend)&&(t.globalCompositeOperation=n.blend||"source-over"),this.hasStroke()){var c=n.lineWidth;t.lineWidth=c/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n="radial"===e.type?Ee:Re,a=n(t,e,i),r=e.colorStops,o=0;o<r.length;o++)a.addColorStop(r[o].offset,r[o].color);return a}};for(var af=nf.prototype,rf=0;rf<ef.length;rf++){var of=ef[rf];of[0]in af||(af[of[0]]=of[1])}nf.getGradient=af.getGradient;var sf=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};sf.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var lf=function(t,e,i){var n;i=i||Bd,"string"==typeof t?n=ze(t,e,i):S(t)&&(n=t,t=n.id),this.id=t,this.dom=n;var a=n.style;a&&(n.onselectstart=Oe,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};lf.prototype={constructor:lf,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=ze("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,a=n.style,r=this.domBack;a&&(a.width=t+"px",a.height=e+"px"),n.width=t*i,n.height=e*i,r&&(r.width=t*i,r.height=e*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(t,e){var i,n=this.dom,a=this.ctx,r=n.width,o=n.height,s=(e=e||this.clearColor,this.motionBlur&&!t),l=this.lastFrameAlpha,c=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,r/c,o/c)),a.clearRect(0,0,r,o),e&&"transparent"!==e)&&(e.colorStops?(i=e.__canvasGradient||nf.getGradient(a,e,{x:0,y:0,width:r,height:o}),e.__canvasGradient=i):e.image&&(i=sf.prototype.getCanvasPattern.call(e,a)),a.save(),a.fillStyle=i||e,a.fillRect(0,0,r,o),a.restore());if(s){var h=this.domBack;a.save(),a.globalAlpha=l,a.drawImage(h,0,0,r,o),a.restore()}}};var cf="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},hf=new Cd(50),uf={},df=0,ff=5e3,pf=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,gf="12px sans-serif",vf={measureText:function(t,e){var i=c();return i.font=e||gf,i.measureText(t)}},mf=gf,xf={left:1,right:1,center:1},yf={top:1,bottom:1,middle:1},bf=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],_f={},wf={},kf=new ke,Sf=function(){};Sf.prototype={constructor:Sf,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&ri(i,!0);var n=i.text;if(null!=n&&(n+=""),wi(n,i)){t.save();var a=this.transform;i.transformText?this.setTransform(t):a&&(kf.copy(e),kf.applyTransform(a),e=kf),si(this,t,n,i,e,tf),t.restore()}}},ki.prototype={constructor:ki,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?Vd.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new nf(t,this),this.dirty(!1),this},calculateTextPosition:null},u(ki,Vd),d(ki,Sf),Si.prototype={constructor:Si,type:"image",brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var a=this._image=Ne(n,this._image,this,this.onload);if(a&&We(a)){var r=i.x||0,o=i.y||0,s=i.width,l=i.height,c=a.width/a.height;if(null==s&&null!=l?s=l*c:null==l&&null!=s?l=s/c:null==s&&null==l&&(s=a.width,l=a.height),this.setTransform(t),i.sWidth&&i.sHeight){var h=i.sx||0,u=i.sy||0;t.drawImage(a,h,u,i.sWidth,i.sHeight,r,o,s,l)}else if(i.sx&&i.sy){h=i.sx,u=i.sy;var d=s-h,f=l-u;t.drawImage(a,h,u,d,f,r,o,s,l)}else t.drawImage(a,r,o,s,l);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new ke(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},u(Si,ki);var Af=1e5,Tf=314159,Cf=.01,Mf=.001,Df=new ke(0,0,0,0),If=new ke(0,0,0,0),Lf=function(t,e,i){this.type="canvas";var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=s({},i||{}),this.dpr=i.devicePixelRatio||Bd,this._singleCanvas=n,this.root=t;var a=t.style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var r=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){var l=t.width,c=t.height;null!=i.width&&(l=i.width),null!=i.height&&(c=i.height),this.dpr=i.devicePixelRatio||1,t.width=l*this.dpr,t.height=c*this.dpr,this._width=l,this._height=c;var h=new lf(t,this,this.dpr);h.__builtin__=!0,h.initContext(),o[Tf]=h,h.zlevel=Tf,r.push(Tf),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var u=this._domRoot=Ii(this._width,this._height);t.appendChild(u)}this._hoverlayer=null,this._hoverElements=[]};Lf.prototype={constructor:Lf,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();return t?{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}:void 0},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<i.length;n++){var a=i[n],r=this._layers[a];if(!r.__builtin__&&r.refresh){var o=0===n?this._backgroundColor:null;r.refresh(o)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return i.__from=t,t.__hoverMir=i,e&&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,n=h(i,e);n>=0&&i.splice(n,1),t.__hoverMir=null},clearHover:function(){for(var t=this._hoverElements,e=0;e<t.length;e++){var i=t[e].__from;i&&(i.__hoverMir=null)}t.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){Le(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(Af));var n={};i.ctx.save();for(var a=0;e>a;){var r=t[a],o=r.__from;o&&o.__zr?(a++,o.invisible||(r.transform=o.transform,r.invTransform=o.invTransform,r.__clipPaths=o.__clipPaths,this._doPaintEl(r,i,!0,n))):(t.splice(a,1),o.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(Af)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var a=this;cf((function(){a._paintList(t,e,i)}))}}},_compositeManually:function(){var t=this.getLayer(Tf).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer((function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)}))},_doPaintList:function(e,i){for(var n=[],a=0;a<this._zlevelList.length;a++){var r=this._zlevelList[a],o=this._layers[r];o.__builtin__&&o!==this._hoverlayer&&(o.__dirty||i)&&n.push(o)}for(var s=!0,l=0;l<n.length;l++){o=n[l];var c=o.ctx,h={};c.save();var u=i?o.__startIndex:o.__drawIndex,d=!i&&o.incremental&&Date.now,f=d&&Date.now(),g=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,g);else if(u===o.__startIndex){var v=e[u];v.incremental&&v.notClear&&!i||o.clear(!1,g)}-1===u&&(t.error("For some unknown reason. drawIndex is -1"),u=o.__startIndex);for(var m=u;m<o.__endIndex;m++){var x=e[m];if(this._doPaintEl(x,o,i,h),x.__dirty=x.__dirtyText=!1,d){var y=Date.now()-f;if(y>15)break}}o.__drawIndex=m,o.__drawIndex<o.__endIndex&&(s=!1),h.prevElClipPaths&&c.restore(),c.restore()}return Eu.wxa&&p(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),s},_doPaintEl:function(t,e,i,n){var a=e.ctx,r=t.transform;if(!(!e.__dirty&&!i||t.invisible||0===t.style.opacity||r&&!r[0]&&!r[3]||t.culling&&Ci(t,this._width,this._height))){var o=t.__clipPaths,s=n.prevElClipPaths;(!s||Mi(o,s))&&(s&&(a.restore(),n.prevElClipPaths=null,n.prevEl=null),o&&(a.save(),Di(o,a),n.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(a),t.brush(a,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(a)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Tf);var i=this._layers[t];return i||(i=new lf("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&r(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,a=n.length,r=null,o=-1,s=this._domRoot;if(i[t])Hd("ZLevel "+t+" has been used already");else if(Ti(e)){if(a>0&&t>n[0]){for(o=0;a-1>o&&!(n[o]<t&&n[o+1]>t);o++);r=i[n[o]]}if(n.splice(o+1,0,t),i[t]=e,!e.virtual)if(r){var l=r.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else Hd("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,n,a=this._zlevelList;for(n=0;n<a.length;n++)i=a[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,n,a,r=this._zlevelList;for(a=0;a<r.length;a++)n=r[a],i=this._layers[n],i.__builtin__&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,a,r=this._zlevelList;for(a=0;a<r.length;a++)n=r[a],i=this._layers[n],i.__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){a&&(a.__endIndex!==t&&(a.__dirty=!0),a.__endIndex=t)}if(this.eachBuiltinLayer((function(t){t.__dirty=t.__used=!1})),this._singleCanvas)for(var i=1;i<t.length;i++){var n=t[i];if(n.zlevel!==t[i-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}var a=null,r=0;for(i=0;i<t.length;i++){n=t[i];var o,s=n.zlevel;n.incremental?(o=this.getLayer(s+Mf,this._needsManuallyCompositing),o.incremental=!0,r=1):o=this.getLayer(s+(r>0?Cf:0),this._needsManuallyCompositing),o.__builtin__||Hd("ZLevel "+s+" has been used by unkown layer "+o.id),o!==a&&(o.__used=!0,o.__startIndex!==i&&(o.__dirty=!0),o.__startIndex=i,o.__drawIndex=o.incremental?-1:i,e(i),a=o),n.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=i))}e(i),this.eachBuiltinLayer((function(t){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?r(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var a=this._zlevelList[n];if(a===t||a===t+Cf){var o=this._layers[a];r(o,i[t],!0)}}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(h(i,t),1))},resize:function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var a in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,e);p(this._progressiveLayers,(function(i){i.resize(t,e)})),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Tf).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Tf].dom;var e=new lf("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height,a=e.ctx;this.eachLayer((function(t){t.__builtin__?a.drawImage(t.dom,0,0,i,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var r={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var l=o[s];this._doPaintEl(l,e,!0,r)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[n]||Ai(s[i])||Ai(o.style[i]))-(Ai(s[a])||0)-(Ai(s[r])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),a=t.getBoundingRect(),r=t.style,o=r.shadowBlur*e,s=r.shadowOffsetX*e,l=r.shadowOffsetY*e,c=r.hasStroke()?r.lineWidth:0,h=Math.max(c/2,-s+o),u=Math.max(c/2,s+o),d=Math.max(c/2,-l+o),f=Math.max(c/2,l+o),p=a.width+h+u,g=a.height+d+f;i.width=p*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,p,g),n.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-a.x,d-a.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);var m=Si,x=new m({style:{x:0,y:0,image:i}});return null!=v.position&&(x.position=t.position=v.position),null!=v.rotation&&(x.rotation=t.rotation=v.rotation),null!=v.scale&&(x.scale=t.scale=v.scale),x}};var Pf=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,id.call(this)};Pf.prototype={constructor:Pf,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=h(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,a=[],r=[],o=0;n>o;o++){var s=i[o],l=s.step(t,e);l&&(a.push(l),r.push(s))}for(o=0;n>o;)i[o]._needsRemove?(i[o]=i[n-1],i.pop(),n--):o++;n=a.length;for(o=0;n>o;o++)r[o].fire(a[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(cf(t),!e._paused&&e._update())}var e=this;this._running=!0,cf(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){e=e||{};var i=new zd(t,e.loop,e.getter,e.setter);return this.addAnimator(i),i}},d(Pf,id);var Rf=300,Ef=Eu.domSupported,Of=function(){var t=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],i={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=g(t,(function(t){var e=t.replace("mouse","pointer");return i.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:n}}(),zf={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Ff=Fi.prototype;Ff.stopPropagation=Ff.stopImmediatePropagation=Ff.preventDefault=H;var Nf={mousedown:function(t){t=bt(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=bt(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||ji(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=bt(this.dom,t),ji(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=bt(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=zi(this,e),this.trigger("mouseout",t)},touchstart:function(t){t=bt(this.dom,t),Ei(t),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Nf.mousemove.call(this,t),Nf.mousedown.call(this,t)},touchmove:function(t){t=bt(this.dom,t),Ei(t),this.handler.processGesture(t,"change"),Nf.mousemove.call(this,t)},touchend:function(t){t=bt(this.dom,t),Ei(t),this.handler.processGesture(t,"end"),Nf.mouseup.call(this,t),+new Date-this._lastTouchMoment<Rf&&Nf.click.call(this,t)},pointerdown:function(t){Nf.mousedown.call(this,t)},pointermove:function(t){Pi(t)||Nf.mousemove.call(this,t)},pointerup:function(t){Nf.mouseup.call(this,t)},pointerout:function(t){Pi(t)||Nf.mouseout.call(this,t)}};p(["click","mousewheel","dblclick","contextmenu"],(function(t){Nf[t]=function(e){e=bt(this.dom,e),this.trigger(t,e)}}));var Bf={pointermove:function(t){Pi(t)||Bf.mousemove.call(this,t)},pointerup:function(t){Bf.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;ji(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}},Wf=Gi.prototype;Wf.dispose=function(){Hi(this._localHandlerScope),Ef&&Hi(this._globalHandlerScope)},Wf.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},d(Gi,id);var Hf=!Eu.canvasSupported,jf={canvas:Lf},Vf={},Gf="4.2.0",Uf=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,a=new Zd,r=i.renderer;if(Hf){if(!jf.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");r="vml"}else r&&jf[r]||(r="canvas");var o=new jf[r](e,a,i,t);this.storage=a,this.painter=o;var s=Eu.node||Eu.worker?null:new Gi(o.getViewportRoot(),o.root);this.handler=new fd(a,o,s,o.root),this.animation=new Pf({stage:{update:y(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=a.delFromStorage,c=a.addToStorage;a.delFromStorage=function(t){l.call(a,t),t&&t.removeSelfFromZr(n)},a.addToStorage=function(t){c.call(a,t),t.addSelfToZr(n)}};Uf.prototype={constructor:Uf,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var i=this.painter.addHover(t,e);return this.refreshHover(),i}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,qi(this.id)}};var Xf=(Object.freeze||Object)({version:Gf,init:Ui,dispose:Xi,getInstance:Yi,registerPainter:$i}),Yf=p,$f=S,qf=_,Zf="series\0",Jf=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],Qf=0,Kf=".",tp="___EC__COMPONENT__CONTAINER___",ep=0,ip=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,i,n){for(var a={},r=0;r<t.length;r++){var o=t[r][1];if(!(i&&h(i,o)>=0||n&&h(n,o)<0)){var s=e.getShallow(o);null!=s&&(a[t[r][0]]=s)}}return a}},np=ip([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),ap={getLineStyle:function(t){var e=np(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),i=Math.max(t,2),n=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[n,n]:[i,i])}},rp=ip([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),op={getAreaStyle:function(t,e){return rp(this,t,e)}},sp=Math.pow,lp=Math.sqrt,cp=1e-8,hp=1e-4,up=lp(3),dp=1/3,fp=j(),pp=j(),gp=j(),vp=Math.min,mp=Math.max,xp=Math.sin,yp=Math.cos,bp=2*Math.PI,_p=j(),wp=j(),kp=j(),Sp=[],Ap=[],Tp={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Cp=[],Mp=[],Dp=[],Ip=[],Lp=Math.min,Pp=Math.max,Rp=Math.cos,Ep=Math.sin,Op=Math.sqrt,zp=Math.abs,Fp="undefined"!=typeof Float32Array,Np=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};Np.prototype={constructor:Np,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,i){i=i||0,this._ux=zp(i/Bd/t)||0,this._uy=zp(i/Bd/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(Tp.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=zp(t-this._xi)>this._ux||zp(e-this._yi)>this._uy||this._len<5;return this.addData(Tp.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,a,r){return this.addData(Tp.C,t,e,i,n,a,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,a,r):this._ctx.bezierCurveTo(t,e,i,n,a,r)),this._xi=a,this._yi=r,this},quadraticCurveTo:function(t,e,i,n){return this.addData(Tp.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,a,r){return this.addData(Tp.A,t,e,i,i,n,a-n,0,r?0:1),this._ctx&&this._ctx.arc(t,e,i,n,a,r),this._xi=Rp(a)*i+t,this._yi=Ep(a)*i+e,this},arcTo:function(t,e,i,n,a){return this._ctx&&this._ctx.arcTo(t,e,i,n,a),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(Tp.R,t,e,i,n),this},closePath:function(){this.addData(Tp.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!Fp||(this.data=new Float32Array(e));for(var i=0;e>i;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,a=0;e>a;a++)i+=t[a].len();Fp&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(a=0;e>a;a++)for(var r=t[a].data,o=0;o<r.length;o++)this.data[n++]=r[o];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,a=this._dashSum,r=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,c=this._yi,h=t-l,u=e-c,d=Op(h*h+u*u),f=l,p=c,g=o.length;for(h/=d,u/=d,0>r&&(r=a+r),r%=a,f-=r*h,p-=r*u;h>0&&t>=f||0>h&&f>=t||0===h&&(u>0&&e>=p||0>u&&p>=e);)n=this._dashIdx,i=o[n],f+=h*i,p+=u*i,this._dashIdx=(n+1)%g,h>0&&l>f||0>h&&f>l||u>0&&c>p||0>u&&p>c||s[n%2?"moveTo":"lineTo"](h>=0?Lp(f,t):Pp(f,t),u>=0?Lp(p,e):Pp(p,e));h=f-t,u=p-e,this._dashOffset=-Op(h*h+u*u)},_dashedBezierTo:function(t,e,i,n,a,r){var o,s,l,c,h,u=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,v=this._yi,m=_n,x=0,y=this._dashIdx,b=f.length,_=0;for(0>d&&(d=u+d),d%=u,o=0;1>o;o+=.1)s=m(g,t,i,a,o+.1)-m(g,t,i,a,o),l=m(v,e,n,r,o+.1)-m(v,e,n,r,o),x+=Op(s*s+l*l);for(;b>y&&(_+=f[y],!(_>d));y++);for(o=(_-d)/x;1>=o;)c=m(g,t,i,a,o),h=m(v,e,n,r,o),y%2?p.moveTo(c,h):p.lineTo(c,h),o+=f[y]/x,y=(y+1)%b;y%2!==0&&p.lineTo(a,r),s=a-c,l=r-h,this._dashOffset=-Op(s*s+l*l)},_dashedQuadraticTo:function(t,e,i,n){var a=i,r=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,a,r)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Fp&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Cp[0]=Cp[1]=Dp[0]=Dp[1]=Number.MAX_VALUE,Mp[0]=Mp[1]=Ip[0]=Ip[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,a=0,r=0;r<t.length;){var o=t[r++];switch(1===r&&(e=t[r],i=t[r+1],n=e,a=i),o){case Tp.M:n=t[r++],a=t[r++],e=n,i=a,Dp[0]=n,Dp[1]=a,Ip[0]=n,Ip[1]=a;break;case Tp.L:En(e,i,t[r],t[r+1],Dp,Ip),e=t[r++],i=t[r++];break;case Tp.C:On(e,i,t[r++],t[r++],t[r++],t[r++],t[r],t[r+1],Dp,Ip),e=t[r++],i=t[r++];break;case Tp.Q:zn(e,i,t[r++],t[r++],t[r],t[r+1],Dp,Ip),e=t[r++],i=t[r++];break;case Tp.A:var s=t[r++],l=t[r++],c=t[r++],h=t[r++],u=t[r++],d=t[r++]+u;r+=1;var f=1-t[r++];1===r&&(n=Rp(u)*c+s,a=Ep(u)*h+l),Fn(s,l,c,h,u,d,f,Dp,Ip),e=Rp(d)*c+s,i=Ep(d)*h+l;break;case Tp.R:n=e=t[r++],a=i=t[r++];var p=t[r++],g=t[r++];En(n,a,n+p,a+g,Dp,Ip);break;case Tp.Z:e=n,i=a}st(Cp,Cp,Dp),lt(Mp,Mp,Ip)}return 0===r&&(Cp[0]=Cp[1]=Mp[0]=Mp[1]=0),new ke(Cp[0],Cp[1],Mp[0]-Cp[0],Mp[1]-Cp[1])},rebuildPath:function(t){for(var e,i,n,a,r,o,s=this.data,l=this._ux,c=this._uy,h=this._len,u=0;h>u;){var d=s[u++];switch(1===u&&(n=s[u],a=s[u+1],e=n,i=a),d){case Tp.M:e=n=s[u++],i=a=s[u++],t.moveTo(n,a);break;case Tp.L:r=s[u++],o=s[u++],(zp(r-n)>l||zp(o-a)>c||u===h-1)&&(t.lineTo(r,o),n=r,a=o);break;case Tp.C:t.bezierCurveTo(s[u++],s[u++],s[u++],s[u++],s[u++],s[u++]),n=s[u-2],a=s[u-1];break;case Tp.Q:t.quadraticCurveTo(s[u++],s[u++],s[u++],s[u++]),n=s[u-2],a=s[u-1];break;case Tp.A:var f=s[u++],p=s[u++],g=s[u++],v=s[u++],m=s[u++],x=s[u++],y=s[u++],b=s[u++],_=g>v?g:v,w=g>v?1:g/v,k=g>v?v/g:1,S=Math.abs(g-v)>.001,A=m+x;S?(t.translate(f,p),t.rotate(y),t.scale(w,k),t.arc(0,0,_,m,A,1-b),t.scale(1/w,1/k),t.rotate(-y),t.translate(-f,-p)):t.arc(f,p,_,m,A,1-b),1===u&&(e=Rp(m)*g+f,i=Ep(m)*v+p),n=Rp(A)*g+f,a=Ep(A)*v+p;break;case Tp.R:e=n=s[u],i=a=s[u+1],t.rect(s[u++],s[u++],s[u++],s[u++]);break;case Tp.Z:t.closePath(),n=e,a=i}}}},Np.CMD=Tp;var Bp=2*Math.PI,Wp=2*Math.PI,Hp=Np.CMD,jp=2*Math.PI,Vp=1e-4,Gp=[-1,-1,-1],Up=[-1,-1],Xp=sf.prototype.getCanvasPattern,Yp=Math.abs,$p=new Np(!0);Qn.prototype={constructor:Qn,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var i,n=this.style,a=this.path||$p,r=n.hasStroke(),o=n.hasFill(),s=n.fill,l=n.stroke,c=o&&!!s.colorStops,h=r&&!!l.colorStops,u=o&&!!s.image,d=r&&!!l.image;(n.bind(t,this,e),this.setTransform(t),this.__dirty)&&(c&&(i=i||this.getBoundingRect(),this._fillGradient=n.getGradient(t,s,i)),h&&(i=i||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,l,i)));c?t.fillStyle=this._fillGradient:u&&(t.fillStyle=Xp.call(s,t)),h?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=Xp.call(l,t));var f=n.lineDash,p=n.lineDashOffset,g=!!t.setLineDash,v=this.getGlobalScale();if(a.setScale(v[0],v[1],this.segmentIgnoreThreshold),this.__dirtyPath||f&&!g&&r?(a.beginPath(t),f&&!g&&(a.setLineDash(f),a.setLineDashOffset(p)),this.buildPath(a,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o)if(null!=n.fillOpacity){var m=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,a.fill(t),t.globalAlpha=m}else a.fill(t);if(f&&g&&(t.setLineDash(f),t.lineDashOffset=p),r)if(null!=n.strokeOpacity){m=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,a.stroke(t),t.globalAlpha=m}else a.stroke(t);f&&g&&t.setLineDash([]),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new Np},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n||(n=this.path=new Np),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var a=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){a.copy(t);var r=e.lineWidth,o=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(r=Math.max(r,this.strokeContainThreshold||4)),o>1e-10&&(a.width+=r/o,a.height+=r/o,a.x-=r/o/2,a.y-=r/o/2)}return a}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),a=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var r=this.path.data;if(a.hasStroke()){var o=a.lineWidth,s=a.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(a.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),Jn(r,o/s,t,e)))return!0}if(a.hasFill())return Zn(r,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):ki.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(S(t))for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&Yp(t[0]-1)>1e-10&&Yp(t[3]-1)>1e-10?Math.sqrt(Yp(t[0]*t[3]-t[2]*t[1])):1}},Qn.extend=function(t){var e=function(e){Qn.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var a in i)!n.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(n[a]=i[a])}t.init&&t.init.call(this,e)};for(var i in u(e,Qn),t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},u(Qn,ki);var qp=Np.CMD,Zp=[[],[],[]],Jp=Math.sqrt,Qp=Math.atan2,Kp=function(t,e){var i,n,a,r,o,s=t.data,l=qp.M,c=qp.C,h=qp.L,u=qp.R,d=qp.A,f=qp.Q;for(a=0,r=0;a<s.length;){switch(i=s[a++],r=a,n=0,i){case l:n=1;break;case h:n=1;break;case c:n=3;break;case f:n=2;break;case d:var p=e[4],g=e[5],v=Jp(e[0]*e[0]+e[1]*e[1]),m=Jp(e[2]*e[2]+e[3]*e[3]),x=Qp(-e[1]/m,e[0]/v);s[a]*=v,s[a++]+=p,s[a]*=m,s[a++]+=g,s[a++]*=v,s[a++]*=m,s[a++]+=x,s[a++]+=x,a+=2,r=a;break;case u:y[0]=s[a++],y[1]=s[a++],ot(y,y,e),s[r++]=y[0],s[r++]=y[1],y[0]+=s[a++],y[1]+=s[a++],ot(y,y,e),s[r++]=y[0],s[r++]=y[1]}for(o=0;n>o;o++){var y=Zp[o];y[0]=s[a++],y[1]=s[a++],ot(y,y,e),s[r++]=y[0],s[r++]=y[1]}}},tg=Math.sqrt,eg=Math.sin,ig=Math.cos,ng=Math.PI,ag=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},rg=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(ag(t)*ag(e))},og=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(rg(t,e))},sg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,lg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,cg=function(t){ki.call(this,t)};cg.prototype={constructor:cg,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&ri(i,!0),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;return null!=n&&(n+=""),wi(n,i)?(this.setTransform(t),si(this,t,n,i,null,e),void this.restoreTransform(t)):void(t.__attrCachedBy=Kd.NONE)},getBoundingRect:function(){var t=this.style;if(this.__dirty&&ri(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var i=je(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,xi(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},u(cg,ki);var hg=Qn.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),ug=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],dg=function(t){return Eu.browser.ie&&Eu.browser.version>=11?function(){var e,i=this.__clipPaths,n=this.style;if(i)for(var a=0;a<i.length;a++){var r=i[a],o=r&&r.shape,s=r&&r.type;if(o&&("sector"===s&&o.startAngle===o.endAngle||"rect"===s&&(!o.width||!o.height))){for(var l=0;l<ug.length;l++)ug[l][2]=n[ug[l][0]],n[ug[l][0]]=ug[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(l=0;l<ug.length;l++)n[ug[l][0]]=ug[l][2]}:t},fg=Qn.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:dg(Qn.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r0||0,0),r=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,l=e.clockwise,c=Math.cos(o),h=Math.sin(o);t.moveTo(c*a+i,h*a+n),t.lineTo(c*r+i,h*r+n),t.arc(i,n,r,o,s,!l),t.lineTo(Math.cos(s)*a+i,Math.sin(s)*a+n),0!==a&&t.arc(i,n,a,s,o,l),t.closePath()}}),pg=Qn.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,a,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,a,!0)}}),gg=function(t,e){for(var i=t.length,n=[],a=0,r=1;i>r;r++)a+=it(t[r-1],t[r]);var o=a/2;o=i>o?i:o;for(r=0;o>r;r++){var s,l,c,h=r/(o-1)*(e?i:i-1),u=Math.floor(h),d=h-u,f=t[u%i];e?(s=t[(u-1+i)%i],l=t[(u+1)%i],c=t[(u+2)%i]):(s=t[0===u?u:u-1],l=t[u>i-2?i-1:u+1],c=t[u>i-3?i-1:u+2]);var p=d*d,g=d*p;n.push([ra(s[0],f[0],l[0],c[0],d,p,g),ra(s[1],f[1],l[1],c[1],d,p,g)])}return n},vg=function(t,e,i,n){var a,r,o,s,l=[],c=[],h=[],u=[];if(n){o=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;f>d;d++)st(o,o,t[d]),lt(s,s,t[d]);st(o,o,n[0]),lt(s,s,n[1])}for(d=0,f=t.length;f>d;d++){var p=t[d];if(i)a=t[d?d-1:f-1],r=t[(d+1)%f];else{if(0===d||d===f-1){l.push(G(t[d]));continue}a=t[d-1],r=t[d+1]}$(c,r,a),tt(c,c,e);var g=it(p,a),v=it(p,r),m=g+v;0!==m&&(g/=m,v/=m),tt(h,c,-g),tt(u,c,v);var x=X([],p,h),y=X([],p,u);n&&(lt(x,x,o),st(x,x,s),lt(y,y,o),st(y,y,s)),l.push(x),l.push(y)}return i&&l.push(l.shift()),l},mg=Qn.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){oa(t,e,!0)}}),xg=Qn.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){oa(t,e,!1)}}),yg=Math.round,bg={},_g=Qn.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i,n,a,r;this.subPixelOptimize?(la(bg,e,this.style),i=bg.x,n=bg.y,a=bg.width,r=bg.height,bg.r=e.r,e=bg):(i=e.x,n=e.y,a=e.width,r=e.height),e.r?ai(t,e):t.rect(i,n,a,r),t.closePath()}}),wg={},kg=Qn.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,n,a,r;this.subPixelOptimize?(sa(wg,e,this.style),i=wg.x1,n=wg.y1,a=wg.x2,r=wg.y2):(i=e.x1,n=e.y1,a=e.x2,r=e.y2);var o=e.percent;0!==o&&(t.moveTo(i,n),1>o&&(a=i*(1-o)+a*o,r=n*(1-o)+r*o),t.lineTo(a,r))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Sg=[],Ag=Qn.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,a=e.x2,r=e.y2,o=e.cpx1,s=e.cpy1,l=e.cpx2,c=e.cpy2,h=e.percent;0!==h&&(t.moveTo(i,n),null==l||null==c?(1>h&&(Ln(i,o,a,h,Sg),o=Sg[1],a=Sg[2],Ln(n,s,r,h,Sg),s=Sg[1],r=Sg[2]),t.quadraticCurveTo(o,s,a,r)):(1>h&&(An(i,o,l,a,h,Sg),o=Sg[1],l=Sg[2],a=Sg[3],An(n,s,c,r,h,Sg),s=Sg[1],c=Sg[2],r=Sg[3]),t.bezierCurveTo(o,s,l,c,a,r)))},pointAt:function(t){return ha(this.shape,t,!1)},tangentAt:function(t){var e=ha(this.shape,t,!0);return et(e,e)}}),Tg=Qn.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r,0),r=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(r),c=Math.sin(r);t.moveTo(l*a+i,c*a+n),t.arc(i,n,a,r,o,!s)}}),Cg=Qn.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Qn.prototype.getBoundingRect.call(this)}}),Mg=function(t){this.colorStops=t||[]};Mg.prototype={constructor:Mg,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var Dg=function(t,e,i,n,a,r){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=r||!1,Mg.call(this,a)};Dg.prototype={constructor:Dg},u(Dg,Mg);var Ig=function(t,e,i,n,a){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=a||!1,Mg.call(this,n)};Ig.prototype={constructor:Ig},u(Ig,Mg),ua.prototype.incremental=!0,ua.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},ua.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},ua.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},ua.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},ua.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},ua.prototype.brush=function(t){for(var e=this._cursor;e<this._displayables.length;e++){var i=this._displayables[e];i.beforeBrush&&i.beforeBrush(t),i.brush(t,e===this._cursor?null:this._displayables[e-1]),i.afterBrush&&i.afterBrush(t)}this._cursor=e;for(e=0;e<this._temporaryDisplayables.length;e++){i=this._temporaryDisplayables[e];i.beforeBrush&&i.beforeBrush(t),i.brush(t,0===e?null:this._temporaryDisplayables[e-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var Lg=[];ua.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new ke(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(Lg)),t.union(n)}this._rect=t}return this._rect},ua.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();if(n.contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){var r=this._displayables[a];if(r.contain(t,e))return!0}return!1},u(ua,ki);var Pg=Math.max,Rg=Math.min,Eg={},Og=1,zg={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Fg="emphasis",Ng="normal",Bg=1,Wg={},Hg={},jg=aa,Vg=ca,Gg=B(),Ug=0;pa("circle",hg),pa("sector",fg),pa("ring",pg),pa("polygon",mg),pa("polyline",xg),pa("rect",_g),pa("line",kg),pa("bezierCurve",Ag),pa("arc",Tg);var Xg=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:Og,CACHED_LABEL_STYLE_PROPERTIES:zg,extendShape:da,extendPath:fa,registerShape:pa,getShapeClass:ga,makePath:va,makeImage:ma,mergePath:jg,resizePath:ya,subPixelOptimizeLine:ba,subPixelOptimizeRect:_a,subPixelOptimize:Vg,setElementHoverStyle:Da,setHoverStyle:Oa,setAsHighDownDispatcher:za,isHighDownDispatcher:Fa,getHighlightDigit:Na,setLabelStyle:Ba,modifyLabelStyle:Wa,setTextStyle:Ha,setText:ja,getFont:qa,updateProps:Ja,initProps:Qa,getTransform:Ka,applyTransform:tr,transformDirection:er,groupTransition:ir,clipPointsByRect:nr,clipRectByRect:ar,createIcon:rr,linePolygonIntersect:or,lineLineIntersect:sr,Group:Yd,Image:Si,Text:cg,Circle:hg,Sector:fg,Ring:pg,Polygon:mg,Polyline:xg,Rect:_g,Line:kg,BezierCurve:Ag,Arc:Tg,IncrementalDisplayable:ua,CompoundPath:Cg,LinearGradient:Dg,RadialGradient:Ig,BoundingRect:ke}),Yg=["textStyle","color"],$g={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Yg):null)},getFont:function(){return qa({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return je(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},qg=ip([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Zg={getItemStyle:function(t,e){var i=qg(this,t,e),n=this.getBorderLineDash();return n&&(i.lineDash=n),i},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},Jg=d,Qg=on();hr.prototype={constructor:hr,init:null,mergeOption:function(t){r(this.option,t,!0)},get:function(t,e){return null==t?this.option:ur(this.option,this.parsePath(t),!e&&dr(this,t))},getShallow:function(t,e){var i=this.option,n=null==i?i:i[t],a=!e&&dr(this,t);return null==n&&a&&(n=a.getShallow(t)),n},getModel:function(t,e){var i,n=null==t?this.option:ur(this.option,t=this.parsePath(t));return e=e||(i=dr(this,t))&&i.getModel(t),new hr(n,e,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var t=this.constructor;return new t(a(this.option))},setReadOnly:function(){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){Qg(this).getParent=t},isAnimationEnabled:function(){if(!Eu.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},pn(hr),gn(hr),Jg(hr,ap),Jg(hr,op),Jg(hr,$g),Jg(hr,Zg);var Kg=0,tv=1e-4,ev=9007199254740991,iv=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,nv=(Object.freeze||Object)({linearMap:mr,parsePercent:xr,round:yr,asc:br,getPrecision:_r,getPrecisionSafe:wr,getPixelPrecision:kr,getPercentWithPrecision:Sr,MAX_SAFE_INTEGER:ev,remRadian:Ar,isRadianAroundZero:Tr,parseDate:Cr,quantity:Mr,quantityExponent:Dr,nice:Ir,quantile:Lr,reformIntervals:Pr,isNumeric:Rr}),av=R,rv=/([&<>"'])/g,ov={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sv=["a","b","c","d","e","f","g"],lv=function(t,e){return"{"+t+(null==e?"":e)+"}"},cv=$e,hv=(Object.freeze||Object)({addCommas:Er,toCamelCase:Or,normalizeCssArray:av,encodeHTML:zr,formatTpl:Fr,formatTplSimple:Nr,getTooltipMarker:Br,formatTime:Hr,capitalFirst:jr,truncateText:cv,getTextBoundingRect:Vr,getTextRect:Gr}),uv=p,dv=["left","right","top","bottom","width","height"],fv=[["width","left","right"],["height","top","bottom"]],pv=Ur,gv=(b(Ur,"vertical"),b(Ur,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),vv=on(),mv=hr.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,n){hr.call(this,t,e,i,n),this.uid=fr("ec_cpt_model")},init:function(t,e,i){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?$r(t):{},a=e.getTheme();r(t,a.get(this.mainType)),r(t,this.getDefaultOption()),i&&Yr(t,n,i)},mergeOption:function(t){r(this.option,t,!0);var e=this.layoutMode;e&&Yr(this.option,t,e)},optionUpdated:function(){},getDefaultOption:function(){var t=vv(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var n=i.prototype.defaultOption;n&&e.push(n),i=i.superClass}for(var a={},o=e.length-1;o>=0;o--)a=r(a,e[o],!0);t.defaultOption=a}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});xn(mv,{registerWhenExtend:!0}),pr(mv),gr(mv,Zr),d(mv,gv);var xv="";"undefined"!=typeof navigator&&(xv=navigator.platform||"");var yv={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:xv.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},bv=on(),_v={clearColorPalette:function(){bv(this).colorIdx=0,bv(this).colorNameMap={}},getColorFromPalette:function(t,e,i){e=e||this;var n=bv(e),a=n.colorIdx||0,r=n.colorNameMap=n.colorNameMap||{};if(r.hasOwnProperty(t))return r[t];var o=Zi(this.get("color",!0)),s=this.get("colorLayer",!0),l=null!=i&&s?Jr(s,i):o;if(l=l||o,l&&l.length){var c=l[a];return t&&(r[t]=c),n.colorIdx=(a+1)%l.length,c}}},wv="original",kv="arrayRows",Sv="objectRows",Av="keyedColumns",Tv="unknown",Cv="typedArray",Mv="column",Dv="row";Qr.seriesDataToSource=function(t){return new Qr({data:t,sourceFormat:T(t)?Cv:wv,fromDataset:!1})},gn(Qr);var Iv={Must:1,Might:2,Not:3},Lv=on(),Pv="\0_ec_inner",Rv=hr.extend({init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new hr(i),this._optionManager=n},setOption:function(t,e){E(!(Pv in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):po.call(this,n),e=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=i.getTimelineOption(this);a&&(this.mergeOption(a),e=!0)}if(!t||"recreate"===t||"media"===t){var r=i.getMediaOption(this,this._api);r.length&&p(r,(function(t){this.mergeOption(t,e=!0)}),this)}return e},mergeOption:function(t){function e(e,a){var r=Zi(t[e]),o=tn(n.get(e),r);en(o),p(o,(function(t){var i=t.option;S(i)&&(t.keyInfo.mainType=e,t.keyInfo.subType=vo(e,i,t.exist))}));var l=go(n,a);i[e]=[],n.set(e,[]),p(o,(function(t,a){var r=t.exist,o=t.option;if(E(S(o)||r,"Empty component definition"),o){var c=mv.getClass(e,t.keyInfo.subType,!0);if(r&&r.constructor===c)r.name=t.keyInfo.name,r.mergeOption(o,this),r.optionUpdated(o,!1);else{var h=s({dependentModels:l,componentIndex:a},t.keyInfo);r=new c(o,this,this,h),s(r,h),r.init(o,this,this,h),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);n.get(e)[a]=r,i[e][a]=r.option}),this),"series"===e&&mo(this,n.get("series"))}var i=this.option,n=this._componentsMap,o=[];eo(this),p(t,(function(t,e){null!=t&&(mv.hasClass(e)?e&&o.push(e):i[e]=null==i[e]?a(t):r(i[e],t,!0))})),mv.topologicalTravel(o,mv.getAllClassMainTypes(),e,this),this._seriesIndicesMap=B(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=a(this.option);return p(t,(function(e,i){if(mv.hasClass(i)){e=Zi(e);for(var n=e.length-1;n>=0;n--)an(e[n])&&e.splice(n,1);t[i]=e}})),delete t[Pv],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);return i?i[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i,n=t.index,a=t.id,r=t.name,o=this._componentsMap.get(e);if(!o||!o.length)return[];if(null!=n)_(n)||(n=[n]),i=m(g(n,(function(t){return o[t]})),(function(t){return!!t}));else if(null!=a){var s=_(a);i=m(o,(function(t){return s&&h(a,t.id)>=0||!s&&t.id===a}))}else if(null!=r){var l=_(r);i=m(o,(function(t){return l&&h(r,t.name)>=0||!l&&t.name===r}))}else i=o.slice();return xo(i,t)},findComponents:function(t){function e(t){var e=a+"Index",i=a+"Id",n=a+"Name";return!t||null==t[e]&&null==t[i]&&null==t[n]?null:{mainType:a,index:t[e],id:t[i],name:t[n]}}function i(e){return t.filter?m(e,t.filter):e}var n=t.query,a=t.mainType,r=e(n),o=r?this.queryComponents(r):this._componentsMap.get(a);return i(xo(o,t))},eachComponent:function(t,e,i){var n=this._componentsMap;if("function"==typeof t)i=e,e=t,n.each((function(t,n){p(t,(function(t,a){e.call(i,n,t,a)}))}));else if(k(t))p(n.get(t),e,i);else if(S(t)){var a=this.findComponents(t);p(a,e,i)}},getSeriesByName:function(t){var e=this._componentsMap.get("series");return m(e,(function(e){return e.name===t}))},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){var e=this._componentsMap.get("series");return m(e,(function(e){return e.subType===t}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){p(this._seriesIndices,(function(i){var n=this._componentsMap.get("series")[i];t.call(e,n,i)}),this)},eachRawSeries:function(t,e){p(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,i){p(this._seriesIndices,(function(n){var a=this._componentsMap.get("series")[n];a.subType===t&&e.call(i,a,n)}),this)},eachRawSeriesByType:function(t,e,i){return p(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){var i=m(this._componentsMap.get("series"),t,e);mo(this,i)},restoreData:function(t){var e=this._componentsMap;mo(this,e.get("series"));var i=[];e.each((function(t,e){i.push(e)})),mv.topologicalTravel(i,mv.getAllClassMainTypes(),(function(i){p(e.get(i),(function(e){("series"!==i||!uo(e,t))&&e.restoreData()}))}))}});d(Rv,_v);var Ev=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],Ov={};bo.prototype={constructor:bo,create:function(t,e){var i=[];p(Ov,(function(n){var a=n.create(t,e);i=i.concat(a||[])})),this._coordinateSystems=i},update:function(t,e){p(this._coordinateSystems,(function(i){i.update&&i.update(t,e)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},bo.register=function(t,e){Ov[t]=e},bo.get=function(t){return Ov[t]};var zv=p,Fv=a,Nv=g,Bv=r,Wv=/^(min|max)?(.+)$/;_o.prototype={constructor:_o,setOption:function(t,e){t&&p(Zi(t.series),(function(t){t&&t.data&&T(t.data)&&z(t.data)})),t=Fv(t);var i=this._optionBackup,n=wo.call(this,t,e,!i);this._newBaseOption=n.baseOption,i?(To(i.baseOption,n.baseOption),n.timelineOptions.length&&(i.timelineOptions=n.timelineOptions),n.mediaList.length&&(i.mediaList=n.mediaList),n.mediaDefault&&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=Nv(e.timelineOptions,Fv),this._mediaList=Nv(e.mediaList,Fv),this._mediaDefault=Fv(e.mediaDefault),this._currentMediaIndices=[],Fv(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=Fv(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(){var t=this._api.getWidth(),e=this._api.getHeight(),i=this._mediaList,n=this._mediaDefault,a=[],r=[];if(!i.length&&!n)return r;for(var o=0,s=i.length;s>o;o++)ko(i[o].query,t,e)&&a.push(o);return!a.length&&n&&(a=[-1]),a.length&&!Ao(a,this._currentMediaIndices)&&(r=Nv(a,(function(t){return Fv(-1===t?n.option:i[t].option)}))),this._currentMediaIndices=a,r}};var Hv=p,jv=S,Vv=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],Gv=function(t,e){Hv(Ro(t.series),(function(t){jv(t)&&Po(t)}));var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),Hv(i,(function(e){Hv(Ro(t[e]),(function(t){t&&(Io(t,"axisLabel"),Io(t.axisPointer,"label"))}))})),Hv(Ro(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;Io(e,"axisLabel"),Io(e&&e.axisPointer,"label")})),Hv(Ro(t.calendar),(function(t){Mo(t,"itemStyle"),Io(t,"dayLabel"),Io(t,"monthLabel"),Io(t,"yearLabel")})),Hv(Ro(t.radar),(function(t){Io(t,"name")})),Hv(Ro(t.geo),(function(t){jv(t)&&(Lo(t),Hv(Ro(t.regions),(function(t){Lo(t)})))})),Hv(Ro(t.timeline),(function(t){Lo(t),Mo(t,"label"),Mo(t,"itemStyle"),Mo(t,"controlStyle",!0);var e=t.data;_(e)&&p(e,(function(t){S(t)&&(Mo(t,"label"),Mo(t,"itemStyle"))}))})),Hv(Ro(t.toolbox),(function(t){Mo(t,"iconStyle"),Hv(t.feature,(function(t){Mo(t,"iconStyle")}))})),Io(Eo(t.axisPointer),"label"),Io(Eo(t.tooltip).axisPointer,"label")},Uv=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Xv=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Yv=function(t,e){Gv(t,e),t.series=Zi(t.series),p(t.series,(function(t){if(S(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var i=Oo(t,"pointer.color");null!=i&&zo(t,"itemStyle.color",i)}Fo(t)}})),t.dataRange&&(t.visualMap=t.dataRange),p(Xv,(function(e){var i=t[e];i&&(_(i)||(i=[i]),p(i,(function(t){Fo(t)})))}))},$v=function(t){var e=B();t.eachSeries((function(t){var i=t.get("stack");if(i){var n=e.get(i)||e.set(i,[]),a=t.getData(),r={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;n.length&&a.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(r)}})),e.each(No)},qv=Bo.prototype;qv.pure=!1,qv.persistent=!0,qv.getSource=function(){return this._source};var Zv={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:jo},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,n=0;n<i.length;n++){var a=i[n];e.push(a?a[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Wo,getItem:Ho,appendData:jo},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var a=this._data[i[n].name];e.push(a?a[t]:null)}return e},appendData:function(t){var e=this._data;p(t,(function(t,i){for(var n=e[i]||(e[i]=[]),a=0;a<(t||[]).length;a++)n.push(t[a])}))}},original:{count:Wo,getItem:Ho,appendData:jo},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var i=this._dimSize*t,n=0;n<this._dimSize;n++)e[n]=this._data[i+n];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},Jv={arrayRows:Vo,objectRows:function(t,e,i,n){return null!=i?t[n]:t},keyedColumns:Vo,original:function(t,e,i){var n=Qi(t);return null!=i&&n instanceof Array?n[i]:n},typedArray:Vo},Qv={arrayRows:Go,objectRows:function(t,e){return Uo(t[e],this._dimensionInfos[e])},keyedColumns:Go,original:function(t,e,i,n){var a=t&&(null==t.value?t:t.value);return!this._rawData.pure&&Ki(t)&&(this.hasItemOption=!0),Uo(a instanceof Array?a[n]:a,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}},Kv=/\{@(.+?)\}/g,tm={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),a=i.getRawIndex(t),r=i.getName(t),o=i.getRawDataItem(t),s=i.getItemVisual(t,"color"),l=i.getItemVisual(t,"borderColor"),c=this.ecModel.getComponent("tooltip"),h=c&&c.get("renderMode"),u=un(h),d=this.mainType,f="series"===d,p=i.userOutput;return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:r,dataIndex:a,data:o,dataType:e,value:n,color:s,borderColor:l,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,marker:Br({color:s,renderMode:u}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,i,n,a){e=e||"normal";var r=this.getData(i),o=r.getItemModel(t),s=this.getDataParams(t,i);null!=n&&s.value instanceof Array&&(s.value=s.value[n]);var l=o.get("normal"===e?[a||"label","formatter"]:[e,a||"label","formatter"]);if("function"==typeof l)return s.status=e,s.dimensionIndex=n,l(s);if("string"==typeof l){var c=Fr(l,s);return c.replace(Kv,(function(e,i){var n=i.length;return"["===i.charAt(0)&&"]"===i.charAt(n-1)&&(i=+i.slice(1,n-1)),Xo(r,t,i)}))}},getRawValue:function(t,e){return Xo(this.getData(e),t)},formatTooltip:function(){}},em=$o.prototype;em.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var i,n=this._upstream,a=t&&t.skip;if(this._dirty&&n){var r=this.context;r.data=r.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!a&&(i=this._plan(this.context));var o,s=e(this._modBy),l=this._modDataCount||0,c=e(t&&t.modBy),h=t&&t.modDataCount||0;(s!==c||l!==h)&&(i="reset"),(this._dirty||"reset"===i)&&(this._dirty=!1,o=Zo(this,a)),this._modBy=c,this._modDataCount=h;var u=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=u?this._dueIndex+u:1/0,this._dueEnd);if(!a&&(o||f>d)){var p=this._progress;if(_(p))for(var g=0;g<p.length;g++)qo(this,p[g],d,f,c,h);else qo(this,p,d,f,c,h)}this._dueIndex=f;var v=null!=this._settedOutputEnd?this._settedOutputEnd:f;this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var im=function(){function t(){return i>n?n++:null}function e(){var t=n%o*a+Math.ceil(n/o),e=n>=i?null:r>t?t:n;return n++,e}var i,n,a,r,o,s={reset:function(l,c,h,u){n=l,i=c,a=h,r=u,o=Math.ceil(r/a),s.next=a>1&&r>0?e:t}};return s}();em.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},em.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},em.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},em.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},em.getUpstream=function(){return this._upstream},em.getDownstream=function(){return this._downstream},em.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var nm=on(),am=mv.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,i){this.seriesIndex=this.componentIndex,this.dataTask=Yo({count:Ko,reset:ts}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),io(this);var n=this.getInitialData(t,i);is(n,this),this.dataTask.context.data=n,nm(this).dataBeforeProcessed=n,Jo(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?$r(t):{},a=this.subType;mv.hasClass(a)&&(a+="Series"),r(t,e.getTheme().get(this.subType)),r(t,this.getDefaultOption()),Ji(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&Yr(t,n,i)},mergeOption:function(t,e){t=r(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&Yr(this.option,t,i),io(this);var n=this.getInitialData(t,e);is(n,this),this.dataTask.dirty(),this.dataTask.context.data=n,nm(this).dataBeforeProcessed=n,Jo(this)},fillDataTextStyle:function(t){if(t&&!T(t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Ji(t[i],"label",e)},getInitialData:function(){},appendData:function(t){var e=this.getRawData();e.appendData(t.data)},getData:function(t){var e=as(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return nm(this).data},setData:function(t){var e=as(this);if(e){var i=e.context;i.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),i.outputData=t,e!==this.dataTask&&(i.data=t)}nm(this).data=t},getSource:function(){return to(this)},getRawData:function(){return nm(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,i,n){function a(i){function a(t,i){var a=u.getDimensionInfo(i);if(a&&!1!==a.otherDims.tooltip){var d=a.type,f="sub"+o.seriesIndex+"at"+h,p=Br({color:x,type:"subItem",renderMode:n,markerId:f}),g="string"==typeof p?p:p.content,v=(r?g+zr(a.displayName||"-")+": ":"")+zr("ordinal"===d?t+"":"time"===d?e?"":Hr("yyyy/MM/dd hh:mm:ss",t):Er(t));v&&s.push(v),l&&(c[f]=x,++h)}}var r=v(i,(function(t,e,i){var n=u.getDimensionInfo(i);return t|(n&&!1!==n.tooltip&&null!=n.displayName)}),0),s=[];d.length?p(d,(function(e){a(Xo(u,t,e),e)})):p(i,a);var f=r?l?"\n":"<br/>":"",g=f+s.join(f||", ");return{renderMode:n,content:g,style:c}}function r(t){return{renderMode:n,content:zr(Er(t)),style:c}}var o=this;n=n||"html";var s="html"===n?"<br/>":"\n",l="richText"===n,c={},h=0,u=this.getData(),d=u.mapDimension("defaultedTooltip",!0),f=d.length,g=this.getRawValue(t),m=_(g),x=u.getItemVisual(t,"color");S(x)&&x.colorStops&&(x=(x.colorStops[0]||{}).color),x=x||"transparent";var y=f>1||m&&!f?a(g):r(f?Xo(u,t,d[0]):m?g[0]:g),b=y.content,w=o.seriesIndex+"at"+h,k=Br({color:x,type:"item",renderMode:n,markerId:w});c[w]=x,++h;var A=u.getName(t),T=this.name;nn(this)||(T=""),T=T?zr(T)+(e?": ":s):"";var C="string"==typeof k?k:k.content,M=e?C+T+b:T+C+(A?zr(A)+": "+b:b);return{html:M,markers:c}},isAnimationEnabled:function(){if(Eu.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var n=this.ecModel,a=_v.getColorFromPalette.call(this,t,e,i);return a||(a=n.getColorFromPalette(t,e,i)),a},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});d(am,tm),d(am,_v);var rm=function(){this.group=new Yd,this.uid=fr("viewComponent")};rm.prototype={constructor:rm,init:function(){},render:function(){},dispose:function(){},filterForExposedEvent:null};var om=rm.prototype;om.updateView=om.updateLayout=om.updateVisual=function(){},pn(rm),xn(rm,{registerWhenExtend:!0});var sm=function(){var t=on();return function(e){var i=t(e),n=e.pipelineContext,a=i.large,r=i.progressiveRender,o=i.large=n.large,s=i.progressiveRender=n.progressiveRender;return!!(a^o||r^s)&&"reset"}},lm=on(),cm=sm();rs.prototype={type:"chart",init:function(){},render:function(){},highlight:function(t,e,i,n){ss(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){ss(t.getData(),n,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var hm=rs.prototype;hm.updateView=hm.updateLayout=hm.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},pn(rs,["dispose"]),xn(rs,{registerWhenExtend:!0}),rs.markUpdateMethod=function(t,e){lm(t).updateMethod=e};var um={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},dm={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),n=(t.visualColorAccessPath||"itemStyle.color").split("."),a=t.get(n),r=!w(a)||a instanceof Mg?null:a;(!a||r)&&(a=t.getColorFromPalette(t.name,null,e.getSeriesCount())),i.setVisual("color",a);var o=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),s=t.get(o);if(i.setVisual("borderColor",s),!e.isSeriesFiltered(t)){r&&i.each((function(e){i.setItemVisual(e,"color",r(t.getDataParams(e)))}));var l=function(t,e){var i=t.getItemModel(e),a=i.get(n,!0),r=i.get(o,!0);null!=a&&t.setItemVisual(e,"color",a),null!=r&&t.setItemVisual(e,"borderColor",r)};return{dataEach:i.hasItemOption?l:null}}}},fm={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},pm=function(t,e){function i(t,e){if("string"!=typeof t)return t;var i=t;return p(e,(function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),i}function n(t){var e=o.get(t);if(null==e){for(var i=t.split("."),n=fm.aria,a=0;a<i.length;++a)n=n[i[a]];return n}return e}function a(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}function r(t){return fm.series.typeNames[t]||"自定义图"}var o=e.getModel("aria");if(o.get("show")){if(o.get("description"))return void t.setAttribute("aria-label",o.get("description"));var s=0;e.eachSeries((function(){++s}),this);var l,c=o.get("data.maxCount")||10,h=o.get("series.maxCount")||10,u=Math.min(s,h);if(!(1>s)){var d=a();l=d?i(n("general.withTitle"),{title:d}):n("general.withoutTitle");var f=[],g=s>1?"series.multiple.prefix":"series.single.prefix";l+=i(n(g),{seriesCount:s}),e.eachSeries((function(t,e){if(u>e){var a,o=t.get("name"),l="series."+(s>1?"multiple":"single")+".";a=n(o?l+"withName":l+"withoutName"),a=i(a,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:r(t.subType)});var h=t.getData();window.data=h,a+=h.count()>c?i(n("data.partialData"),{displayCnt:c}):n("data.allData");for(var d=[],p=0;p<h.count();p++)if(c>p){var g=h.getName(p),v=Xo(h,p);d.push(i(n(g?"data.withName":"data.withoutName"),{name:g,value:v}))}a+=d.join(n("data.separator.middle"))+n("data.separator.end"),f.push(a)}})),l+=f.join(n("series.multiple.separator.middle"))+n("series.multiple.separator.end"),t.setAttribute("aria-label",l)}}},gm=Math.PI,vm=function(t,e){e=e||{},l(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new _g({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),n=new Tg({shape:{startAngle:-gm/2,endAngle:-gm/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),a=new _g({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});n.animateShape(!0).when(1e3,{endAngle:3*gm/2}).start("circularInOut"),n.animateShape(!0).when(1e3,{startAngle:3*gm/2}).delay(300).start("circularInOut");var r=new Yd;return r.add(n),r.add(a),r.add(i),r.resize=function(){var e=t.getWidth()/2,r=t.getHeight()/2;n.setShape({cx:e,cy:r});var o=n.shape.r;a.setShape({x:e-o,y:r-o,width:2*o,height:2*o}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r},mm=us.prototype;mm.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},mm.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,a=!e&&i.progressiveEnabled&&(!n||n.progressiveRender)&&t.__idxInPipeline>i.blockIndex,r=a?i.step:null,o=n&&n.modDataCount,s=null!=o?Math.ceil(o/r):null;return{step:r,modBy:s,modDataCount:o}}},mm.getPipeline=function(t){return this._pipelineMap.get(t)},mm.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData(),a=n.count(),r=i.progressiveEnabled&&e.incrementalPrepareRender&&a>=i.threshold,o=t.get("large")&&a>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?a:null;t.pipelineContext=i.context={progressiveRender:r,modDataCount:s,large:o}},mm.restorePipelines=function(t){var e=this,i=e._pipelineMap=B();t.eachSeries((function(t){var n=t.getProgressive(),a=t.uid;i.set(a,{id:a,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:n&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0}),ks(e,t,t.dataTask)}))},mm.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),i=this.api;p(this._allHandlers,(function(n){var a=t.get(n.uid)||t.set(n.uid,[]);n.reset&&fs(this,n,a,e,i),n.overallReset&&ps(this,n,a,e,i)}),this)},mm.prepareView=function(t,e,i,n){var a=t.renderTask,r=a.context;r.model=e,r.ecModel=i,r.api=n,a.__block=!t.incrementalPrepareRender,ks(this,e,a)},mm.performDataProcessorTasks=function(t,e){ds(this,this._dataProcessorHandlers,t,e,{block:!0})},mm.performVisualTasks=function(t,e,i){ds(this,this._visualHandlers,t,e,i)},mm.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e|=t.dataTask.perform()})),this.unfinished|=e},mm.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))};var xm=mm.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},ym=_s(0);us.wrapStageHandler=function(t,e){return w(t)&&(t={overallReset:t,seriesType:Ss(t)}),t.uid=fr("stageHandler"),e&&(t.visualType=e),t};var bm,_m={},wm={};As(_m,Rv),As(wm,yo),_m.eachSeriesByType=_m.eachRawSeriesByType=function(t){bm=t},_m.eachComponent=function(t){"series"===t.mainType&&t.subType&&(bm=t.subType)};var km=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Sm={color:km,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],km]},Am="#eee",Tm=function(){return{axisLine:{lineStyle:{color:Am}},axisTick:{lineStyle:{color:Am}},axisLabel:{textStyle:{color:Am}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:Am}}}},Cm=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Mm={color:Cm,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:Am},crossStyle:{color:Am},label:{color:"#000"}}},legend:{textStyle:{color:Am}},textStyle:{color:Am},title:{textStyle:{color:Am}},toolbox:{iconStyle:{normal:{borderColor:Am}}},dataZoom:{textStyle:{color:Am}},visualMap:{textStyle:{color:Am}},timeline:{lineStyle:{color:Am},itemStyle:{normal:{color:Cm[1]}},label:{normal:{textStyle:{color:Am}}},controlStyle:{normal:{color:Am,borderColor:Am}}},timeAxis:Tm(),logAxis:Tm(),valueAxis:Tm(),categoryAxis:Tm(),line:{symbol:"circle"},graph:{color:Cm},gauge:{title:{textStyle:{color:Am}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};Mm.categoryAxis.splitLine.show=!1,mv.extend({type:"dataset",defaultOption:{seriesLayoutBy:Mv,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){Kr(this)}}),rm.extend({type:"dataset"});var Dm=Qn.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var i=.5522848,n=e.cx,a=e.cy,r=e.rx,o=e.ry,s=r*i,l=o*i;t.moveTo(n-r,a),t.bezierCurveTo(n-r,a-l,n-s,a-o,n,a-o),t.bezierCurveTo(n+s,a-o,n+r,a-l,n+r,a),t.bezierCurveTo(n+r,a+l,n+s,a+o,n,a+o),t.bezierCurveTo(n-s,a+o,n-r,a+l,n-r,a),t.closePath()}}),Im=/[\s,]+/;Cs.prototype.parse=function(t,e){e=e||{};var i=Ts(t);if(!i)throw new Error("Illegal svg");var n=new Yd;this._root=n;var a,r,o=i.getAttribute("viewBox")||"",s=parseFloat(i.getAttribute("width")||e.width),l=parseFloat(i.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Ls(i,n,null,!0);for(var c=i.firstChild;c;)this._parseNode(c,n),c=c.nextSibling;if(o){var h=O(o).split(Im);h.length>=4&&(a={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(a&&null!=s&&null!=l&&(r=Os(a,s,l),!e.ignoreViewBox)){var u=n;n=new Yd,n.add(u),u.scale=r.scale.slice(),u.position=r.position.slice()}return e.ignoreRootClip||null==s||null==l||n.setClipPath(new _g({shape:{x:0,y:0,width:s,height:l}})),{root:n,width:s,height:l,viewBoxRect:a,viewBoxTransform:r}},Cs.prototype._parseNode=function(t,e){var i,n=t.nodeName.toLowerCase();if("defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0),this._isDefine){var a=Pm[n];if(a){var r=a.call(this,t),o=t.getAttribute("id");o&&(this._defs[o]=r)}}else{a=Lm[n];a&&(i=a.call(this,t,e),e.add(i))}for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,i),3===s.nodeType&&this._isText&&this._parseText(s,i),s=s.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},Cs.prototype._parseText=function(t,e){if(1===t.nodeType){var i=t.getAttribute("dx")||0,n=t.getAttribute("dy")||0;this._textX+=parseFloat(i),this._textY+=parseFloat(n)}var a=new cg({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Ds(e,a),Ls(t,a,this._defs);var r=a.style.fontSize;r&&9>r&&(a.style.fontSize=9,a.scale=a.scale||[1,1],a.scale[0]*=r/9,a.scale[1]*=r/9);var o=a.getBoundingRect();return this._textX+=o.width,e.add(a),a};var Lm={g:function(t,e){var i=new Yd;return Ds(e,i),Ls(t,i,this._defs),i},rect:function(t,e){var i=new _g;return Ds(e,i),Ls(t,i,this._defs),i.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),i},circle:function(t,e){var i=new hg;return Ds(e,i),Ls(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),i},line:function(t,e){var i=new kg;return Ds(e,i),Ls(t,i,this._defs),i.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),i},ellipse:function(t,e){var i=new Dm;return Ds(e,i),Ls(t,i,this._defs),i.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),i},polygon:function(t,e){var i=t.getAttribute("points");i&&(i=Is(i));var n=new mg({shape:{points:i||[]}});return Ds(e,n),Ls(t,n,this._defs),n},polyline:function(t,e){var i=new Qn;Ds(e,i),Ls(t,i,this._defs);var n=t.getAttribute("points");n&&(n=Is(n));var a=new xg({shape:{points:n||[]}});return a},image:function(t,e){var i=new Si;return Ds(e,i),Ls(t,i,this._defs),i.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),i},text:function(t,e){var i=t.getAttribute("x")||0,n=t.getAttribute("y")||0,a=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX=parseFloat(i)+parseFloat(a),this._textY=parseFloat(n)+parseFloat(r);var o=new Yd;return Ds(e,o),Ls(t,o,this._defs),o},tspan:function(t,e){var i=t.getAttribute("x"),n=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var a=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0,o=new Yd;return Ds(e,o),Ls(t,o,this._defs),this._textX+=a,this._textY+=r,o},path:function(t,e){var i=t.getAttribute("d")||"",n=ia(i);return Ds(e,n),Ls(t,n,this._defs),n}},Pm={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),i=parseInt(t.getAttribute("y1")||0,10),n=parseInt(t.getAttribute("x2")||10,10),a=parseInt(t.getAttribute("y2")||0,10),r=new Dg(e,i,n,a);return Ms(t,r),r},radialgradient:function(){}},Rm={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},Em=/url\(\s*#(.*?)\)/,Om=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,zm=/([^\s:;]+)\s*:\s*([^:;]+)/g,Fm=B(),Nm={registerMap:function(t,e,i){var n;return _(e)?n=e:e.svg?n=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),n=[{type:"geoJSON",source:e,specialAreas:i}]),p(n,(function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON");var i=Bm[e];i(t)})),Fm.set(t,n)},retrieveMap:function(t){return Fm.get(t)}},Bm={geoJSON:function(t){var e=t.source;t.geoJSON=k(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=Ts(t.source)}},Wm=E,Hm=p,jm=w,Vm=S,Gm=mv.parseClassType,Um="4.6.0",Xm={zrender:"4.2.0"},Ym=1,$m=1e3,qm=800,Zm=900,Jm=5e3,Qm=1e3,Km=1100,tx=2e3,ex=3e3,ix=3500,nx=4e3,ax=5e3,rx={PROCESSOR:{FILTER:$m,SERIES_FILTER:qm,STATISTIC:Jm},VISUAL:{LAYOUT:Qm,PROGRESSIVE_LAYOUT:Km,GLOBAL:tx,CHART:ex,POST_CHART_LAYOUT:ix,COMPONENT:nx,BRUSH:ax}},ox="__flagInMainProcess",sx="__optionUpdated",lx=/^[a-zA-Z0-9_]+$/;Fs.prototype.on=zs("on",!0),Fs.prototype.off=zs("off",!0),Fs.prototype.one=zs("one",!0),d(Fs,id);var cx=Ns.prototype;cx._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[sx]){var e=this[sx].silent;this[ox]=!0,Ws(this),hx.update.call(this),this[ox]=!1,this[sx]=!1,Gs.call(this,e),Us.call(this,e)}else if(t.unfinished){var i=Ym,n=this._model,a=this._api;t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(n),js(this,n),t.performVisualTasks(n),Js(this,this._model,a,"remain"),i-=+new Date-r}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},cx.getDom=function(){return this._dom},cx.getZr=function(){return this._zr},cx.setOption=function(t,e,i){if(!this._disposed){var n;if(Vm(e)&&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[ox]=!0,!this._model||e){var a=new _o(this._api),r=this._theme,o=this._model=new Rv;o.scheduler=this._scheduler,o.init(null,null,r,a)}this._model.setOption(t,gx),i?(this[sx]={silent:n},this[ox]=!1):(Ws(this),hx.update.call(this),this._zr.flush(),this[sx]=!1,this[ox]=!1,Gs.call(this,n),Us.call(this,n))}},cx.setTheme=function(){t.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},cx.getModel=function(){return this._model},cx.getOption=function(){return this._model&&this._model.getOption()},cx.getWidth=function(){return this._zr.getWidth()},cx.getHeight=function(){return this._zr.getHeight()},cx.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},cx.getRenderedCanvas=function(t){if(Eu.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr;return e.painter.getRenderedCanvas(t)}},cx.getSvgDataUrl=function(){if(Eu.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return p(e,(function(t){t.stopAnimation(!0)})),t.painter.pathToDataUrl()}},cx.getDataURL=function(t){if(!this._disposed){t=t||{};var e=t.excludeComponents,i=this._model,n=[],a=this;Hm(e,(function(t){i.eachComponent({mainType:t},(function(t){var e=a._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return Hm(n,(function(t){t.group.ignore=!1})),r}},cx.getConnectedDataURL=function(t){if(!this._disposed&&Eu.canvasSupported){var e=this.group,i=Math.min,n=Math.max,r=1/0;if(_x[e]){var o=r,s=r,l=-r,c=-r,h=[],u=t&&t.pixelRatio||1;p(bx,(function(r){if(r.group===e){var u=r.getRenderedCanvas(a(t)),d=r.getDom().getBoundingClientRect();o=i(d.left,o),s=i(d.top,s),l=n(d.right,l),c=n(d.bottom,c),h.push({dom:u,left:d.left,top:d.top})}})),o*=u,s*=u,l*=u,c*=u;var d=l-o,f=c-s,g=Uu();g.width=d,g.height=f;var v=Ui(g);return t.connectedBackgroundColor&&v.add(new _g({shape:{x:0,y:0,width:d,height:f},style:{fill:t.connectedBackgroundColor}})),Hm(h,(function(t){var e=new Si({style:{x:t.left*u-o,y:t.top*u-s,image:t.dom}});v.add(e)})),v.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},cx.convertToPixel=b(Bs,"convertToPixel"),cx.convertFromPixel=b(Bs,"convertFromPixel"),cx.containPixel=function(t,e){if(!this._disposed){var i,n=this._model;return t=sn(n,t),p(t,(function(t,n){n.indexOf("Models")>=0&&p(t,(function(t){var a=t.coordinateSystem;if(a&&a.containPoint)i|=!!a.containPoint(e);else if("seriesModels"===n){var r=this._chartsMap[t.__viewId];r&&r.containPoint&&(i|=r.containPoint(e,t))}}),this)}),this),!!i}},cx.getVisual=function(t,e){var i=this._model;t=sn(i,t,{defaultMainType:"series"});var n=t.seriesModel,a=n.getData(),r=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?a.indexOfRawIndex(t.dataIndex):null;return null!=r?a.getItemVisual(r,e):a.getVisual(e)},cx.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},cx.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var hx={prepareAndUpdate:function(t){Ws(this),hx.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,a=this._coordSysMgr,r=this._scheduler;if(e){r.restoreData(e,t),r.performSeriesTasks(e),a.create(e,i),r.performDataProcessorTasks(e,t),js(this,e),a.update(e,i),$s(e),r.performVisualTasks(e,t),qs(this,e,i,t);var o=e.get("backgroundColor")||"transparent";if(Eu.canvasSupported)n.setBackgroundColor(o);else{var s=Jt(o);o=oe(s,"rgb"),0===s[3]&&(o="transparent")}Qs(e,i)}},updateTransform:function(t){var e=this._model,i=this,n=this._api;if(e){var a=[];e.eachComponent((function(r,o){var s=i.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,e,n,t);l&&l.update&&a.push(s)}else a.push(s)}));var r=B();e.eachSeries((function(a){var o=i._chartsMap[a.__viewId];if(o.updateTransform){var s=o.updateTransform(a,e,n,t);s&&s.update&&r.set(a.uid,1)}else r.set(a.uid,1)})),$s(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:r}),Js(i,e,n,t,r),Qs(e,this._api)}},updateView:function(t){var e=this._model;e&&(rs.markUpdateMethod(t,"updateView"),$s(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),qs(this,this._model,this._api,t),Qs(e,this._api))},updateVisual:function(t){hx.update.call(this,t)},updateLayout:function(t){hx.update.call(this,t)}};cx.resize=function(t){if(!this._disposed){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i=e.resetOption("media"),n=t&&t.silent;this[ox]=!0,i&&Ws(this),hx.update.call(this),this[ox]=!1,Gs.call(this,n),Us.call(this,n)}}},cx.showLoading=function(t,e){if(!this._disposed&&(Vm(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),yx[t])){var i=yx[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},cx.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},cx.makeActionFromEvent=function(t){var e=s({},t);return e.type=fx[t.type],e},cx.dispatchAction=function(t,e){if(!this._disposed&&(Vm(e)||(e={silent:!!e}),dx[t.type]&&this._model)){if(this[ox])return void this._pendingActions.push(t);Vs.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Eu.browser.weChat&&this._throttledZrFlush(),Gs.call(this,e.silent),Us.call(this,e.silent)}},cx.appendData=function(t){if(!this._disposed){var e=t.seriesIndex,i=this.getModel(),n=i.getSeriesByIndex(e);n.appendData(t),this._scheduler.unfinished=!0}},cx.on=zs("on",!1),cx.off=zs("off",!1),cx.one=zs("one",!1);var ux=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];cx._initEvents=function(){Hm(ux,(function(t){var e=function(e){var i,n=this.getModel(),a=e.target,r="globalout"===t;if(r)i={};else if(a&&null!=a.dataIndex){var o=a.dataModel||n.getSeriesByIndex(a.seriesIndex);i=o&&o.getDataParams(a.dataIndex,a.dataType,a)||{}}else a&&a.eventData&&(i=s({},a.eventData));if(i){var l=i.componentType,c=i.componentIndex;("markLine"===l||"markPoint"===l||"markArea"===l)&&(l="series",c=i.seriesIndex);var h=l&&null!=c&&n.getComponent(l,c),u=h&&this["series"===h.mainType?"_chartsMap":"_componentsMap"][h.__viewId];i.event=e,i.type=t,this._ecEventProcessor.eventInfo={targetEl:a,packedEvent:i,model:h,view:u},this.trigger(t,i)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)}),this),Hm(fx,(function(t,e){this._messageCenter.on(e,(function(t){this.trigger(e,t)}),this)}),this)},cx.isDisposed=function(){return this._disposed},cx.clear=function(){this._disposed||this.setOption({series:[]},!0)},cx.dispose=function(){if(!this._disposed){this._disposed=!0,cn(this.getDom(),Ax,"");var t=this._api,e=this._model;Hm(this._componentsViews,(function(i){i.dispose(e,t)})),Hm(this._chartsViews,(function(i){i.dispose(e,t)})),this._zr.dispose(),delete bx[this.id]}},d(Ns,id),nl.prototype={constructor:nl,normalizeQuery:function(t){var e={},i={},n={};if(k(t)){var a=Gm(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var r=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};p(t,(function(t,a){for(var s=!1,l=0;l<r.length;l++){var c=r[l],h=a.lastIndexOf(c);if(h>0&&h===a.length-c.length){var u=a.slice(0,h);"data"!==u&&(e.mainType=u,e[c.toLowerCase()]=t,s=!0)}}o.hasOwnProperty(a)&&(i[a]=t,s=!0),s||(n[a]=t)}))}return{cptQuery:e,dataQuery:i,otherQuery:n}},filter:function(t,e){function i(t,e,i,n){return null==t[i]||e[n||i]===t[i]}var n=this.eventInfo;if(!n)return!0;var a=n.targetEl,r=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=e.cptQuery,c=e.dataQuery;return i(l,o,"mainType")&&i(l,o,"subType")&&i(l,o,"index","componentIndex")&&i(l,o,"name")&&i(l,o,"id")&&i(c,r,"name")&&i(c,r,"dataIndex")&&i(c,r,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,a,r))},afterTrigger:function(){this.eventInfo=null}};var dx={},fx={},px=[],gx=[],vx=[],mx=[],xx={},yx={},bx={},_x={},kx=new Date-0,Sx=new Date-0,Ax="_echarts_instance_",Tx=sl;yl(tx,dm),dl(Yv),fl(Zm,$v),_l("default",vm),gl({type:"highlight",event:"highlight",update:"highlight"},H),gl({type:"downplay",event:"downplay",update:"downplay"},H),ul("light",Sm),ul("dark",Mm);var Cx={};Il.prototype={constructor:Il,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},n={},a=[],r=[];for(Ll(t,i,a,"_oldKeyGetter",this),Ll(e,n,r,"_newKeyGetter",this),c=0;c<t.length;c++){var o=a[c],s=n[o];if(null!=s){var l=s.length;l?(1===l&&(n[o]=null),s=s.shift()):n[o]=null,this._update&&this._update(s,c)}else this._remove&&this._remove(c)}for(var c=0;c<r.length;c++){o=r[c];if(n.hasOwnProperty(o)){s=n[o];if(null==s)continue;if(s.length){var h=0;for(l=s.length;l>h;h++)this._add&&this._add(s[h])}else this._add&&this._add(s)}}}};var Mx=B(["tooltip","label","itemName","itemId","seriesName"]),Dx=S,Ix="undefined",Lx=-1,Px="e\0\0",Rx={float:typeof Float64Array===Ix?Array:Float64Array,int:typeof Int32Array===Ix?Array:Int32Array,ordinal:Array,number:Array,time:Array},Ex=typeof Uint32Array===Ix?Array:Uint32Array,Ox=typeof Int32Array===Ix?Array:Int32Array,zx=typeof Uint16Array===Ix?Array:Uint16Array,Fx=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Nx=["_extent","_approximateExtent","_rawExtent"],Bx=function(t,e){t=t||["x","y"];for(var i={},n=[],a={},r=0;r<t.length;r++){var o=t[r];k(o)?o=new zl({name:o}):o instanceof zl||(o=new zl(o));var s=o.name;o.type=o.type||"float",o.coordDim||(o.coordDim=s,o.coordDimIndex=0),o.otherDims=o.otherDims||{},n.push(s),i[s]=o,o.index=r,o.createInvertedIndices&&(a[s]=[])}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Pl(this),this._invertedIndicesMap=a,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},Wx=Bx.prototype;Wx.type="list",Wx.hasItemOption=!0,Wx.getDimension=function(t){return("number"==typeof t||!isNaN(t)&&!this._dimensionInfos.hasOwnProperty(t))&&(t=this.dimensions[t]),t},Wx.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Wx.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Wx.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return!0===e?(n||[]).slice():n&&n[e]},Wx.initData=function(t,e,i){var n=Qr.isInstance(t)||f(t);n&&(t=new Bo(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=Qv[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._dimValueGetterArrayRows=Qv.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Wx.getProvider=function(){return this._rawData},Wx.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n)},Wx.appendValues=function(t,e){for(var i=this._chunkSize,n=this._storage,a=this.dimensions,r=a.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),c=this._chunkCount,h=0;r>h;h++){var u=a[h];o[u]||(o[u]=ql()),n[u]||(n[u]=[]),Wl(n,this._dimensionInfos[u],i,c,l),this._chunkCount=n[u].length}for(var d=new Array(r),f=s;l>f;f++){for(var p=f-s,g=Math.floor(f/i),v=f%i,m=0;r>m;m++){u=a[m];var x=this._dimValueGetterArrayRows(t[p]||d,u,p,m);n[u][g][v]=x;var y=o[u];x<y[0]&&(y[0]=x),x>y[1]&&(y[1]=x)}e&&(this._nameList[f]=e[p])}this._rawCount=this._count=l,this._extent={},Hl(this)},Wx._initDataFromProvider=function(t,e){if(!(t>=e)){for(var i,n=this._chunkSize,a=this._rawData,r=this._storage,o=this.dimensions,s=o.length,l=this._dimensionInfos,c=this._nameList,h=this._idList,u=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=0;s>p;p++){var g=o[p];u[g]||(u[g]=ql());var v=l[g];0===v.otherDims.itemName&&(i=this._nameDimIdx=p),0===v.otherDims.itemId&&(this._idDimIdx=p),r[g]||(r[g]=[]),Wl(r,v,n,f,e),this._chunkCount=r[g].length}for(var m=new Array(s),x=t;e>x;x++){m=a.getItem(x,m);for(var y=Math.floor(x/n),b=x%n,_=0;s>_;_++){g=o[_];var w=r[g][y],k=this._dimValueGetter(m,g,x,_);w[b]=k;var S=u[g];k<S[0]&&(S[0]=k),k>S[1]&&(S[1]=k)}if(!a.pure){var A=c[x];if(m&&null==A)if(null!=m.name)c[x]=A=m.name;else if(null!=i){var T=o[i],C=r[T][y];if(C){A=C[b];var M=l[T].ordinalMeta;M&&M.categories.length&&(A=M.categories[A])}}var D=null==m?null:m.id;null==D&&null!=A&&(d[A]=d[A]||0,D=A,d[A]>0&&(D+="__ec__"+d[A]),d[A]++),null!=D&&(h[x]=D)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=e,this._extent={},Hl(this)}},Wx.count=function(){return this._count},Wx.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,i=this._count;if(e===Array){a=new e(i);for(var n=0;i>n;n++)a[n]=t[n]}else a=new e(t.buffer,0,i)}else{e=Fl(this);var a=new e(this.count());for(n=0;n<a.length;n++)a[n]=n}return a},Wx.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._storage;if(!i[t])return NaN;e=this.getRawIndex(e);var n=Math.floor(e/this._chunkSize),a=e%this._chunkSize,r=i[t][n],o=r[a];return o},Wx.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._storage[t];if(!i)return NaN;var n=Math.floor(e/this._chunkSize),a=e%this._chunkSize,r=i[n];return r[a]},Wx._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize,a=this._storage[t][i];return a[n]},Wx.getValues=function(t,e){var i=[];_(t)||(e=t,t=this.dimensions);for(var n=0,a=t.length;a>n;n++)i.push(this.get(t[n],e));return i},Wx.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=0,n=e.length;n>i;i++)if(isNaN(this.get(e[i],t)))return!1;return!0},Wx.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],i=ql();if(!e)return i;var n,a=this.count(),r=!this._indices;if(r)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();n=i;for(var o=n[0],s=n[1],l=0;a>l;l++){var c=this._getFast(t,this.getRawIndex(l));o>c&&(o=c),c>s&&(s=c)}return n=[o,s],this._extent[t]=n,n},Wx.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Wx.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Wx.getCalculationInfo=function(t){return this._calculationInfo[t]},Wx.setCalculationInfo=function(t,e){Dx(t)?s(this._calculationInfo,t):this._calculationInfo[t]=e},Wx.getSum=function(t){var e=this._storage[t],i=0;if(e)for(var n=0,a=this.count();a>n;n++){var r=this.get(t,n);isNaN(r)||(i+=r)}return i},Wx.getMedian=function(t){var e=[];this.each(t,(function(t){isNaN(t)||e.push(t)}));var i=[].concat(e).sort((function(t,e){return t-e})),n=this.count();return 0===n?0:n%2===1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2},Wx.rawIndexOf=function(t,e){var i=t&&this._invertedIndicesMap[t],n=i[e];return null==n||isNaN(n)?Lx:n},Wx.indexOfName=function(t){for(var e=0,i=this.count();i>e;e++)if(this.getName(e)===t)return e;return-1},Wx.indexOfRawIndex=function(t){if(t>=this._rawCount||0>t)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var n=0,a=this._count-1;a>=n;){var r=(n+a)/2|0;if(e[r]<t)n=r+1;else{if(!(e[r]>t))return r;a=r-1}}return-1},Wx.indicesOfNearest=function(t,e,i){var n=this._storage,a=n[t],r=[];if(!a)return r;null==i&&(i=1/0);for(var o=1/0,s=-1,l=0,c=0,h=this.count();h>c;c++){var u=e-this.get(t,c),d=Math.abs(u);i>=d&&((o>d||d===o&&u>=0&&0>s)&&(o=d,s=u,l=0),u===s&&(r[l++]=c))}return r.length=l,r},Wx.getRawIndex=Vl,Wx.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},Wx.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||jl(this,this._nameDimIdx,e)||""},Wx.getId=function(t){return Ul(this,this.getRawIndex(t))},Wx.each=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this,t=g(Xl(t),this.getDimension,this);for(var a=t.length,r=0;r<this.count();r++)switch(a){case 0:e.call(i,r);break;case 1:e.call(i,this.get(t[0],r),r);break;case 2:e.call(i,this.get(t[0],r),this.get(t[1],r),r);break;default:for(var o=0,s=[];a>o;o++)s[o]=this.get(t[o],r);s[o]=r,e.apply(i,s)}}},Wx.filterSelf=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this,t=g(Xl(t),this.getDimension,this);for(var a=this.count(),r=Fl(this),o=new r(a),s=[],l=t.length,c=0,h=t[0],u=0;a>u;u++){var d,f=this.getRawIndex(u);if(0===l)d=e.call(i,u);else if(1===l){var p=this._getFast(h,f);d=e.call(i,p,u)}else{for(var v=0;l>v;v++)s[v]=this._getFast(h,f);s[v]=u,d=e.apply(i,s)}d&&(o[c++]=f)}return a>c&&(this._indices=o),this._count=c,this._extent={},this.getRawIndex=this._indices?Gl:Vl,this}},Wx.selectRange=function(t){if(this._count){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);var n=e.length;if(n){var a=this.count(),r=Fl(this),o=new r(a),s=0,l=e[0],c=t[l][0],h=t[l][1],u=!1;if(!this._indices){var d=0;if(1===n){for(var f=this._storage[e[0]],p=0;p<this._chunkCount;p++)for(var g=f[p],v=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;v>m;m++){var x=g[m];(x>=c&&h>=x||isNaN(x))&&(o[s++]=d),d++}u=!0}else if(2===n){f=this._storage[l];var y=this._storage[e[1]],b=t[e[1]][0],_=t[e[1]][1];for(p=0;p<this._chunkCount;p++){g=f[p];var w=y[p];for(v=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;v>m;m++){x=g[m];var k=w[m];(x>=c&&h>=x||isNaN(x))&&(k>=b&&_>=k||isNaN(k))&&(o[s++]=d),d++}}u=!0}}if(!u)if(1===n)for(m=0;a>m;m++){var S=this.getRawIndex(m);x=this._getFast(l,S);(x>=c&&h>=x||isNaN(x))&&(o[s++]=S)}else for(m=0;a>m;m++){var A=!0;for(S=this.getRawIndex(m),p=0;n>p;p++){var T=e[p];x=this._getFast(i,S);(x<t[T][0]||x>t[T][1])&&(A=!1)}A&&(o[s++]=this.getRawIndex(m))}return a>s&&(this._indices=o),this._count=s,this._extent={},this.getRawIndex=this._indices?Gl:Vl,this}}},Wx.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;var a=[];return this.each(t,(function(){a.push(e&&e.apply(this,arguments))}),i),a},Wx.map=function(t,e,i,n){i=i||n||this,t=g(Xl(t),this.getDimension,this);var a=Yl(this,t);a._indices=this._indices,a.getRawIndex=a._indices?Gl:Vl;for(var r=a._storage,o=[],s=this._chunkSize,l=t.length,c=this.count(),h=[],u=a._rawExtent,d=0;c>d;d++){for(var f=0;l>f;f++)h[f]=this.get(t[f],d);h[l]=d;var p=e&&e.apply(i,h);if(null!=p){"object"!=typeof p&&(o[0]=p,p=o);for(var v=this.getRawIndex(d),m=Math.floor(v/s),x=v%s,y=0;y<p.length;y++){var b=t[y],_=p[y],w=u[b],k=r[b];k&&(k[m][x]=_),_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}}}return a},Wx.downSample=function(t,e,i,n){for(var a=Yl(this,[t]),r=a._storage,o=[],s=Math.floor(1/e),l=r[t],c=this.count(),h=this._chunkSize,u=a._rawExtent[t],d=new(Fl(this))(c),f=0,p=0;c>p;p+=s){s>c-p&&(s=c-p,o.length=s);for(var g=0;s>g;g++){var v=this.getRawIndex(p+g),m=Math.floor(v/h),x=v%h;o[g]=l[m][x]}var y=i(o),b=this.getRawIndex(Math.min(p+n(o,y)||0,c-1)),_=Math.floor(b/h),w=b%h;l[_][w]=y,y<u[0]&&(u[0]=y),y>u[1]&&(u[1]=y),d[f++]=b}return a._count=f,a._indices=d,a.getRawIndex=Gl,a},Wx.getItemModel=function(t){var e=this.hostModel;return new hr(this.getRawDataItem(t),e,e&&e.ecModel)},Wx.diff=function(t){var e=this;return new Il(t?t.getIndices():[],this.getIndices(),(function(e){return Ul(t,e)}),(function(t){return Ul(e,t)}))},Wx.getVisual=function(t){var e=this._visual;return e&&e[t]},Wx.setVisual=function(t,e){if(Dx(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},Wx.setLayout=function(t,e){if(Dx(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},Wx.getLayout=function(t){return this._layout[t]},Wx.getItemLayout=function(t){return this._itemLayouts[t]},Wx.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?s(this._itemLayouts[t]||{},e):e},Wx.clearItemLayouts=function(){this._itemLayouts.length=0},Wx.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],a=n&&n[e];return null!=a||i?a:this.getVisual(e)},Wx.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{},a=this.hasItemVisual;if(this._itemVisuals[t]=n,Dx(e))for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r],a[r]=!0);else n[e]=i,a[e]=!0},Wx.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Hx=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};Wx.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(Hx,e)),this._graphicEls[t]=e},Wx.getItemGraphicEl=function(t){return this._graphicEls[t]},Wx.eachItemGraphicEl=function(t,e){p(this._graphicEls,(function(i,n){i&&t&&t.call(e,i,n)}))},Wx.cloneShallow=function(t){if(!t){var e=g(this.dimensions,this.getDimensionInfo,this);t=new Bx(e,this.hostModel)}if(t._storage=this._storage,Bl(t,this),this._indices){var i=this._indices.constructor;t._indices=new i(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?Gl:Vl,t},Wx.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(P(arguments)))})},Wx.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Wx.CHANGABLE_METHODS=["filterSelf","selectRange"];var jx=function(t,e){return e=e||{},Zl(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})},Vx={cartesian2d:function(t,e,i,n){var a=t.getReferringComponents("xAxis")[0],r=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],i.set("x",a),i.set("y",r),ec(a)&&(n.set("x",a),e.firstCategoryDimIndex=0),ec(r)&&(n.set("y",r),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,n){var a=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],i.set("single",a),ec(a)&&(n.set("single",a),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var a=t.getReferringComponents("polar")[0],r=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",o),ec(r)&&(n.set("radius",r),e.firstCategoryDimIndex=0),ec(o)&&(n.set("angle",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e){e.coordSysDims=["lng","lat"]},parallel:function(t,e,i,n){var a=t.ecModel,r=a.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=r.dimensions.slice();p(r.parallelAxisIndex,(function(t,r){var s=a.getComponent("parallelAxis",t),l=o[r];i.set(l,s),ec(s)&&null==e.firstCategoryDimIndex&&(n.set(l,s),e.firstCategoryDimIndex=r)}))}};lc.prototype.parse=function(t){return t},lc.prototype.getSetting=function(t){return this._setting[t]},lc.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},lc.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},lc.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},lc.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},lc.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},lc.prototype.getExtent=function(){return this._extent.slice()},lc.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},lc.prototype.isBlank=function(){return this._isBlank},lc.prototype.setBlank=function(t){this._isBlank=t},lc.prototype.getLabel=null,pn(lc),xn(lc,{registerWhenExtend:!0}),cc.createByAxisModel=function(t){var e=t.option,i=e.data,n=i&&g(i,uc);return new cc({categories:n,needCollect:!n,deduplication:!1!==e.dedplication})};var Gx=cc.prototype;Gx.getOrdinal=function(t){return hc(this).get(t)},Gx.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=hc(this);return e=n.get(t),null==e&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e};var Ux=lc.prototype,Xx=lc.extend({type:"ordinal",init:function(t,e){(!t||_(t))&&(t=new cc({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),Ux.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return Ux.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(Ux.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){return this.isBlank()?void 0:this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:H,niceExtent:H});Xx.create=function(){return new Xx};var Yx=yr,$x=yr,qx=lc.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),qx.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=fc(t)},getTicks:function(t){var e=this._interval,i=this._extent,n=this._niceExtent,a=this._intervalPrecision,r=[];if(!e)return r;var o=1e4;i[0]<n[0]&&r.push(t?$x(n[0]-e):i[0]);for(var s=n[0];s<=n[1]&&(r.push(s),s=$x(s+e,a),s!==r[r.length-1]);)if(r.length>o)return[];var l=r.length?r[r.length-1]:n[1];return i[1]>l&&r.push(t?l+e:i[1]),r},getMinorTicks:function(t){for(var e=this.getTicks(!0),i=[],n=this.getExtent(),a=1;a<e.length;a++){for(var r=e[a],o=e[a-1],s=0,l=[],c=r-o,h=c/t;t-1>s;){var u=yr(o+(s+1)*h);u>n[0]&&u<n[1]&&l.push(u),s++}i.push(l)}return i},getLabel:function(t,e){if(null==t)return"";var i=e&&e.precision;return null==i?i=wr(t)||0:"auto"===i&&(i=this._intervalPrecision),t=$x(t,i,!0),Er(t)},niceTicks:function(t,e,i){t=t||5;var n=this._extent,a=n[1]-n[0];if(isFinite(a)){0>a&&(a=-a,n.reverse());var r=dc(n,t,e,i);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(e[0]=$x(Math.floor(e[0]/a)*a)),t.fixMax||(e[1]=$x(Math.ceil(e[1]/a)*a))}});qx.create=function(){return new qx};var Zx="__ec_stack_",Jx=.5,Qx="undefined"!=typeof Float32Array?Float32Array:Array,Kx={seriesType:"bar",plan:sm(),reset:function(t){function e(t,e){for(var i,u=t.count,d=new Qx(2*u),f=new Qx(u),p=[],g=[],v=0,m=0;null!=(i=t.next());)g[c]=e.get(o,i),g[1-c]=e.get(s,i),p=n.dataToPoint(g,null,p),d[v++]=p[0],d[v++]=p[1],f[m++]=i;e.setLayout({largePoints:d,largeDataIndices:f,barWidth:h,valueAxisStart:Tc(a,r,!1),valueAxisHorizontal:l})}if(Sc(t)&&Ac(t)){var i=t.getData(),n=t.coordinateSystem,a=n.getBaseAxis(),r=n.getOtherAxis(a),o=i.mapDimension(r.dim),s=i.mapDimension(a.dim),l=r.isHorizontal(),c=l?0:1,h=wc(bc([t]),a,t).width;return h>Jx||(h=Jx),{progress:e}}}},ty=qx.prototype,ey=Math.ceil,iy=Math.floor,ny=1e3,ay=60*ny,ry=60*ay,oy=24*ry,sy=function(t,e,i,n){for(;n>i;){var a=i+n>>>1;t[a][1]<e?i=a+1:n=a}return i},ly=qx.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return Hr(e[0],i,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=oy,e[1]+=oy),e[1]===-1/0&&1/0===e[0]){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-oy}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=yr(iy(e[0]/n)*n)),t.fixMax||(e[1]=yr(ey(e[1]/n)*n))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,a=n[1]-n[0],r=a/t;null!=e&&e>r&&(r=e),null!=i&&r>i&&(r=i);var o=cy.length,s=sy(cy,r,0,o),l=cy[Math.min(s,o-1)],c=l[1];if("year"===l[0]){var h=a/c,u=Ir(h/t,!0);c*=u}var d=this.getSetting("useUTC")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,f=[Math.round(ey((n[0]-d)/c)*c+d),Math.round(iy((n[1]-d)/c)*c+d)];gc(f,n),this._stepLvl=l,this._interval=c,this._niceExtent=f},parse:function(t){return+Cr(t)}});p(["contain","normalize"],(function(t){ly.prototype[t]=function(e){return ty[t].call(this,this.parse(e))}}));var cy=[["hh:mm:ss",ny],["hh:mm:ss",5*ny],["hh:mm:ss",10*ny],["hh:mm:ss",15*ny],["hh:mm:ss",30*ny],["hh:mm\nMM-dd",ay],["hh:mm\nMM-dd",5*ay],["hh:mm\nMM-dd",10*ay],["hh:mm\nMM-dd",15*ay],["hh:mm\nMM-dd",30*ay],["hh:mm\nMM-dd",ry],["hh:mm\nMM-dd",2*ry],["hh:mm\nMM-dd",6*ry],["hh:mm\nMM-dd",12*ry],["MM-dd\nyyyy",oy],["MM-dd\nyyyy",2*oy],["MM-dd\nyyyy",3*oy],["MM-dd\nyyyy",4*oy],["MM-dd\nyyyy",5*oy],["MM-dd\nyyyy",6*oy],["week",7*oy],["MM-dd\nyyyy",10*oy],["week",14*oy],["week",21*oy],["month",31*oy],["week",42*oy],["month",62*oy],["week",70*oy],["quarter",95*oy],["month",31*oy*4],["month",31*oy*5],["half-year",380*oy/2],["month",31*oy*8],["month",31*oy*10],["year",380*oy]];ly.create=function(t){return new ly({useUTC:t.ecModel.get("useUTC")})};var hy=lc.prototype,uy=qx.prototype,dy=wr,fy=yr,py=Math.floor,gy=Math.ceil,vy=Math.pow,my=Math.log,xy=lc.extend({type:"log",base:10,$constructor:function(){lc.apply(this,arguments),this._originalScale=new qx},getTicks:function(t){var e=this._originalScale,i=this._extent,n=e.getExtent();return g(uy.getTicks.call(this,t),(function(t){var a=yr(vy(this.base,t));return a=t===i[0]&&e.__fixMin?Cc(a,n[0]):a,t===i[1]&&e.__fixMax?Cc(a,n[1]):a}),this)},getMinorTicks:uy.getMinorTicks,getLabel:uy.getLabel,scale:function(t){return t=hy.scale.call(this,t),vy(this.base,t)},setExtent:function(t,e){var i=this.base;t=my(t)/my(i),e=my(e)/my(i),uy.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=hy.getExtent.call(this);e[0]=vy(t,e[0]),e[1]=vy(t,e[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin&&(e[0]=Cc(e[0],n[0])),i.__fixMax&&(e[1]=Cc(e[1],n[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=my(t[0])/my(e),t[1]=my(t[1])/my(e),hy.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(1/0===i||0>=i)){var n=Mr(i),a=t/i*n;for(.5>=a&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var r=[yr(gy(e[0]/n)*n),yr(py(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},niceExtent:function(t){uy.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});p(["contain","normalize"],(function(t){xy.prototype[t]=function(e){return e=my(e)/my(this.base),hy[t].call(this,e)}})),xy.create=function(){return new xy};var yy={getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&"function"!=typeof i&&!M(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&"function"!=typeof i&&!M(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:H,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},by=da({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+a,n+r),t.lineTo(i-a,n+r),t.closePath()}}),_y=da({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+a,n),t.lineTo(i,n+r),t.lineTo(i-a,n),t.closePath()}}),wy=da({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,a=e.width/5*3,r=Math.max(a,e.height),o=a/2,s=o*o/(r-o),l=n-r+o+s,c=Math.asin(s/o),h=Math.cos(c)*o,u=Math.sin(c),d=Math.cos(c),f=.6*o,p=.7*o;t.moveTo(i-h,l+s),t.arc(i,l,o,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(i+h-u*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-h+u*f,l+s+d*f,i-h,l+s),t.closePath()}}),ky=da({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,a=e.x,r=e.y,o=n/3*2;t.moveTo(a,r),t.lineTo(a+o,r+i),t.lineTo(a,r+i/4*3),t.lineTo(a-o,r+i),t.lineTo(a,r),t.closePath()}}),Sy={line:kg,rect:_g,roundRect:_g,square:_g,circle:hg,diamond:_y,pin:wy,arrow:ky,triangle:by},Ay={line:function(t,e,i,n,a){a.x1=t,a.y1=e+n/2,a.x2=t+i,a.y2=e+n/2},rect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n},roundRect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n,a.r=Math.min(i,n)/4},square:function(t,e,i,n,a){var r=Math.min(i,n);a.x=t,a.y=e,a.width=r,a.height=r},circle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.r=Math.min(i,n)/2},diamond:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n},pin:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},arrow:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},triangle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n}},Ty={};p(Sy,(function(t,e){Ty[e]=new t}));var Cy=da({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,i){var n=Ye(t,e,i),a=this.shape;return a&&"pin"===a.symbolType&&"inside"===e.textPosition&&(n.y=i.y+.4*i.height),n},buildPath:function(t,e,i){var n=e.symbolType;if("none"!==n){var a=Ty[n];a||(n="rect",a=Ty[n]),Ay[n](e.x,e.y,e.width,e.height,a.shape),a.buildPath(t,a.shape,i)}}}),My={isDimensionStacked:nc,enableDataStack:ic,getStackedDimension:ac},Dy=(Object.freeze||Object)({createList:Hc,getLayoutRect:Xr,dataStack:My,createScale:jc,mixinAxisModelCommonMethods:Vc,completeDimensions:Zl,createDimensions:jx,createSymbol:Wc}),Iy=1e-8;Xc.prototype={constructor:Xc,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],a=[],r=[],o=this.geometries,s=0;s<o.length;s++)if("polygon"===o[s].type){var l=o[s].exterior;Rn(l,a,r),st(i,i,a),lt(n,n,r)}return 0===s&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new ke(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,a=i.length;a>n;n++)if("polygon"===i[n].type){var r=i[n].exterior,o=i[n].interiors;if(Uc(r,t[0],t[1])){for(var s=0;s<(o?o.length:0);s++)if(Uc(o[s]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var a=this.getBoundingRect(),r=a.width/a.height;i?n||(n=i/r):i=r*n;for(var o=new ke(t,e,i,n),s=a.calculateTransform(o),l=this.geometries,c=0;c<l.length;c++)if("polygon"===l[c].type){for(var h=l[c].exterior,u=l[c].interiors,d=0;d<h.length;d++)ot(h[d],h[d],s);for(var f=0;f<(u?u.length:0);f++)for(d=0;d<u[f].length;d++)ot(u[f][d],u[f][d],s)}a=this._rect,a.copy(o),this.center=[a.x+a.width/2,a.y+a.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new Xc(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var Ly=function(t){return Yc(t),g(m(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var e=t.properties,i=t.geometry,n=i.coordinates,a=[];"Polygon"===i.type&&a.push({type:"polygon",exterior:n[0],interiors:n.slice(1)}),"MultiPolygon"===i.type&&p(n,(function(t){t[0]&&a.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}));var r=new Xc(e.name,a,e.cp);return r.properties=e,r}))},Py=on(),Ry=[0,1],Ey=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};Ey.prototype={constructor:Ey,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&n>=t},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return kr(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&(i=i.slice(),ch(i,n.count())),mr(t,Ry,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&(i=i.slice(),ch(i,n.count()));var a=mr(t,i,Ry,e);return this.scale.scale(a)},pointToData:function(){},getTicksCoords:function(t){t=t||{};var e=t.tickModel||this.getTickModel(),i=Zc(this,e),n=i.ticks,a=g(n,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this),r=e.get("alignWithLabel");return hh(this,a,r,t.clamp),a},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&100>e||(e=5);var i=this.scale.getMinorTicks(e),n=g(i,(function(t){return g(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return n},getViewLabels:function(){return qc(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return rh(this)}};var Oy=Ly,zy={};p(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(t){zy[t]=$u[t]}));var Fy={};p(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(t){Fy[t]=Xg[t]}));var Ny=function(t){this._axes={},this._dimList=[],this.name=t||""};Ny.prototype={constructor:Ny,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return g(this._dimList,uh,this)},getAxesByScale:function(t){return t=t.toLowerCase(),m(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},a=0;a<i.length;a++){var r=i[a],o=this._axes[r];n[r]=o[e](t[r])}return n}},dh.prototype={constructor:dh,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,i){var n=this.getAxis("x"),a=this.getAxis("y");return i=i||[],i[0]=n.toGlobalCoord(n.dataToCoord(t[0])),i[1]=a.toGlobalCoord(a.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,a=i.getExtent(),r=n.getExtent(),o=i.parse(t[0]),s=n.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(a[0],a[1]),o),Math.max(a[0],a[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return e=e||[],e[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),n=Math.min(e[0],e[1]),a=Math.max(t[0],t[1])-i,r=Math.max(e[0],e[1])-n,o=new ke(i,n,a,r);return o}},u(dh,Ny);var By=function(t,e,i,n,a){Ey.call(this,t,e,i),this.type=n||"value",this.position=a||"bottom"};By.prototype={constructor:By,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},u(By,Ey);var Wy={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Hy={};Hy.categoryAxis=r({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Wy),Hy.valueAxis=r({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Wy),Hy.timeAxis=l({scale:!0,min:"dataMin",max:"dataMax"},Hy.valueAxis),Hy.logAxis=l({scale:!0,logBase:10},Hy.valueAxis);var jy=["value","category","time","log"],Vy=function(t,e,i,n){p(jy,(function(a){e.extend({type:t+"Axis."+a,mergeDefaultAndTheme:function(e,n){var o=this.layoutMode,s=o?$r(e):{},l=n.getTheme();r(e,l.get(a+"Axis")),r(e,this.getDefaultOption()),e.type=i(t,e),o&&Yr(e,s,o)},optionUpdated:function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=cc.createByAxisModel(this))},getCategories:function(t){var e=this.option;return"category"===e.type?t?e.data:this.__ordinalMeta.categories:void 0},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:o([{},Hy[a+"Axis"],n],!0)})})),mv.registerSubTypeDefaulter(t+"Axis",b(i,t))},Gy=mv.extend({type:"cartesian2dAxis",axis:null,init:function(){Gy.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Gy.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Gy.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});r(Gy.prototype,yy);var Uy={offset:0};Vy("x",Gy,fh,Uy),Vy("y",Gy,fh,Uy),mv.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var Xy=gh.prototype;Xy.type="grid",Xy.axisPointerEnabled=!0,Xy.getRect=function(){return this._rect},Xy.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),p(i.x,(function(t){Ic(t.scale,t.model)})),p(i.y,(function(t){Ic(t.scale,t.model)}));var n={};p(i.x,(function(t){vh(i,"y",t,n)})),p(i.y,(function(t){vh(i,"x",t,n)})),this.resize(this.model,e)},Xy.resize=function(t,e,i){function n(){p(r,(function(t){var e=t.isHorizontal(),i=e?[0,a.width]:[0,a.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),xh(t,e?a.x:a.y)}))}var a=Xr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=a;var r=this._axesList;n(),!i&&t.get("containLabel")&&(p(r,(function(t){if(!t.model.get("axisLabel.inside")){var e=Oc(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get("axisLabel.margin");a[i]-=e[i]+n,"top"===t.position?a.y+=e.height+n:"left"===t.position&&(a.x+=e.width+n)}}})),n())},Xy.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},Xy.getAxes=function(){return this._axesList.slice()},Xy.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}S(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,a=this._coordsList;n<a.length;n++)if(a[n].getAxis("x").index===t||a[n].getAxis("y").index===e)return a[n]},Xy.getCartesians=function(){return this._coordsList.slice()},Xy.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},Xy.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},Xy._findConvertTarget=function(t,e){var i,n,a=e.seriesModel,r=e.xAxisModel||a&&a.getReferringComponents("xAxis")[0],o=e.yAxisModel||a&&a.getReferringComponents("yAxis")[0],s=e.gridModel,l=this._coordsList;if(a)i=a.coordinateSystem,h(l,i)<0&&(i=null);else if(r&&o)i=this.getCartesian(r.componentIndex,o.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(o)n=this.getAxis("y",o.componentIndex);else if(s){var c=s.coordinateSystem;c===this&&(i=this._coordsList[0])}return{cartesian:i,axis:n}},Xy.containPoint=function(t){var e=this._coordsList[0];return e?e.containPoint(t):void 0},Xy._initCartesian=function(t,e){function i(i){return function(o,s){if(ph(o,t,e)){var l=o.get("position");"x"===i?"top"!==l&&"bottom"!==l&&(l=n.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=n.left?"right":"left"),n[l]=!0;var c=new By(i,Lc(o),[0,0],o.get("type"),l),h="category"===c.type;c.onBand=h&&o.get("boundaryGap"),c.inverse=o.get("inverse"),o.axis=c,c.model=o,c.grid=this,c.index=s,this._axesList.push(c),a[i][s]=c,r[i]++}}}var n={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},r={x:0,y:0};return e.eachComponent("xAxis",i("x"),this),e.eachComponent("yAxis",i("y"),this),r.x&&r.y?(this._axesMap=a,void p(a.x,(function(e,i){p(a.y,(function(n,a){var r="x"+i+"y"+a,o=new dh(r);o.grid=this,o.model=t,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(e),o.addAxis(n)}),this)}),this)):(this._axesMap={},void(this._axesList=[]))},Xy._updateScale=function(t,e){function i(t,e){p(t.mapDimension(e.dim,!0),(function(i){e.scale.unionExtentFromData(t,ac(t,i))}))}p(this._axesList,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeries((function(n){if(bh(n)){var a=yh(n,t),r=a[0],o=a[1];if(!ph(r,e,t)||!ph(o,e,t))return;var s=this.getCartesian(r.componentIndex,o.componentIndex),l=n.getData(),c=s.getAxis("x"),h=s.getAxis("y");"list"===l.type&&(i(l,c,n),i(l,h,n))}}),this)},Xy.getTooltipAxes=function(t){var e=[],i=[];return p(this.getCartesians(),(function(n){var a=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),r=n.getOtherAxis(a);h(e,a)<0&&e.push(a),h(i,r)<0&&i.push(r)})),{baseAxes:e,otherAxes:i}};var Yy=["xAxis","yAxis"];gh.create=function(t,e){var i=[];return t.eachComponent("grid",(function(n,a){var r=new gh(n,t,e);r.name="grid_"+a,r.resize(n,e,!0),n.coordinateSystem=r,i.push(r)})),t.eachSeries((function(e){if(bh(e)){var i=yh(e,t),n=i[0],a=i[1],r=n.getCoordSysModel(),o=r.coordinateSystem;e.coordinateSystem=o.getCartesian(n.componentIndex,a.componentIndex)}})),i},gh.dimensions=gh.prototype.dimensions=dh.prototype.dimensions,bo.register("cartesian2d",gh);var $y=am.extend({type:"series.__base_bar__",getInitialData:function(){return rc(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),a=n.getLayout("offset"),r=n.getLayout("size"),o=e.getBaseAxis().isHorizontal()?0:1;return i[o]+=a+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});$y.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},defaultOption:{clip:!0,roundCap:!1}});var qy=ip([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Zy={getBarItemStyle:function(t){var e=qy(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(e.lineDash=i)}return e}},Jy=da({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r0||0,0),r=Math.max(e.r,0),o=.5*(r-a),s=a+o,l=e.startAngle,c=e.endAngle,h=e.clockwise,u=Math.cos(l),d=Math.sin(l),f=Math.cos(c),p=Math.sin(c),g=h?c-l<2*Math.PI:l-c<2*Math.PI;g&&(t.moveTo(u*a+i,d*a+n),t.arc(u*s+i,d*s+n,o,-Math.PI+l,l,!h)),t.arc(i,n,r,l,c,!h),t.moveTo(f*r+i,p*r+n),t.arc(f*s+i,p*s+n,o,c-2*Math.PI,c-Math.PI,!h),0!==a&&(t.arc(i,n,a,c,l,h),t.moveTo(u*a+i,p*a+n)),t.closePath()}}),Qy=["itemStyle","barBorderWidth"],Ky=[0,0];s(hr.prototype,Zy),Al({type:"bar",render:function(t,e,i){this._updateDrawMode(t);var n=t.get("coordinateSystem");return("cartesian2d"===n||"polar"===n)&&(this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i)),this.group},incrementalPrepareRender:function(t){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e,i=this.group,n=t.getData(),a=this._data,r=t.coordinateSystem,o=r.getBaseAxis();"cartesian2d"===r.type?e=o.isHorizontal():"polar"===r.type&&(e="angle"===o.dim);var s=t.isAnimationEnabled()?t:null,l=t.get("clip",!0),c=Ch(r,n);i.removeClipPath();var h=t.get("roundCap",!0);n.diff(a).add((function(a){if(n.hasValue(a)){var o=n.getItemModel(a),u=ab[r.type](n,a,o);if(l){var d=ib[r.type](c,u);if(d)return void i.remove(f)}var f=nb[r.type](a,u,e,s,!1,h);n.setItemGraphicEl(a,f),i.add(f),Lh(f,n,a,o,u,t,e,"polar"===r.type)}})).update((function(o,u){var d=a.getItemGraphicEl(u);if(n.hasValue(o)){var f=n.getItemModel(o),p=ab[r.type](n,o,f);if(l){var g=ib[r.type](c,p);if(g)return void i.remove(d)}d?Ja(d,{shape:p},s,o):d=nb[r.type](o,p,e,s,!0,h),n.setItemGraphicEl(o,d),i.add(d),Lh(d,n,o,f,p,t,e,"polar"===r.type)}else i.remove(d)})).remove((function(t){var e=a.getItemGraphicEl(t);"cartesian2d"===r.type?e&&Mh(t,s,e):e&&Dh(t,s,e)})).execute(),this._data=n},_renderLarge:function(t){this._clear(),Rh(t,this.group);var e=t.get("clip",!0)?Th(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){Rh(e,this.group,!0)},dispose:H,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,i=this._data;t&&t.get("animation")&&i&&!this._isLargeDraw?i.eachItemGraphicEl((function(e){"sector"===e.type?Dh(e.dataIndex,t,e):Mh(e.dataIndex,t,e)})):e.removeAll(),this._data=null}});var tb=Math.max,eb=Math.min,ib={cartesian2d:function(t,e){var i=e.width<0?-1:1,n=e.height<0?-1:1;0>i&&(e.x+=e.width,e.width=-e.width),0>n&&(e.y+=e.height,e.height=-e.height);var a=tb(e.x,t.x),r=eb(e.x+e.width,t.x+t.width),o=tb(e.y,t.y),s=eb(e.y+e.height,t.y+t.height);e.x=a,e.y=o,e.width=r-a,e.height=s-o;var l=e.width<0||e.height<0;return 0>i&&(e.x+=e.width,e.width=-e.width),0>n&&(e.y+=e.height,e.height=-e.height),l},polar:function(){return!1}},nb={cartesian2d:function(t,e,i,n,a){var r=new _g({shape:s({},e)});if(n){var o=r.shape,l=i?"height":"width",c={};o[l]=0,c[l]=e[l],Xg[a?"updateProps":"initProps"](r,{shape:c},n,t)}return r},polar:function(t,e,i,n,a,r){var o=e.startAngle<e.endAngle,s=!i&&r?Jy:fg,c=new s({shape:l({clockwise:o},e)});if(n){var h=c.shape,u=i?"r":"endAngle",d={};h[u]=i?0:e.startAngle,d[u]=e[u],Xg[a?"updateProps":"initProps"](c,{shape:d},n,t)}return c}},ab={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),a=Ph(i,n),r=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+r*a/2,y:n.y+o*a/2,width:n.width-r*a,height:n.height-o*a}},polar:function(t,e){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}},rb=Qn.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var i=e.points,n=this.__startPoint,a=this.__baseDimIdx,r=0;r<i.length;r+=2)n[a]=i[r+a],t.moveTo(n[0],n[1]),t.lineTo(i[r],i[r+1])}}),ob=hs((function(t){var e=this,i=Eh(e,t.offsetX,t.offsetY);e.dataIndex=i>=0?i:null}),30,!1),sb=Math.PI,lb=function(t,e){this.opt=e,this.axisModel=t,l(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Yd;var i=new Yd({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};lb.prototype={constructor:lb,hasBuilder:function(t){return!!cb[t]},add:function(t){cb[t].call(this)},getGroup:function(){return this.group}};var cb={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),n=this._transform,a=[i[0],0],r=[i[1],0];n&&(ot(a,a,n),ot(r,r,n));var o=s({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new kg({anid:"line",subPixelOptimize:!0,shape:{x1:a[0],y1:a[1],x2:r[0],y2:r[1]},style:o,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var l=e.get("axisLine.symbol"),c=e.get("axisLine.symbolSize"),h=e.get("axisLine.symbolOffset")||0;if("number"==typeof h&&(h=[h,h]),null!=l){"string"==typeof l&&(l=[l,l]),("string"==typeof c||"number"==typeof c)&&(c=[c,c]);var u=c[0],d=c[1];p([{rotate:t.rotation+Math.PI/2,offset:h[0],r:0},{rotate:t.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((a[0]-r[0])*(a[0]-r[0])+(a[1]-r[1])*(a[1]-r[1]))}],(function(e,i){if("none"!==l[i]&&null!=l[i]){var n=Wc(l[i],-u/2,-d/2,u,d,o.stroke,!0),r=e.r+e.offset,s=[a[0]+r*Math.cos(t.rotation),a[1]-r*Math.sin(t.rotation)];n.attr({rotation:e.rotate,position:s,silent:!0,z2:11}),this.group.add(n)}}),this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=jh(this,t,e),n=Gh(this,t,e);Fh(t,n,i),Vh(this,t,e)},axisName:function(){var t=this.opt,e=this.axisModel,i=D(t.axisName,e.get("name"));if(i){var n,a,r=e.get("nameLocation"),o=t.nameDirection,l=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,h=this.axisModel.axis.getExtent(),u=h[0]>h[1]?-1:1,d=["start"===r?h[0]-u*c:"end"===r?h[1]+u*c:(h[0]+h[1])/2,Wh(r)?t.labelOffset+o*c:0],f=e.get("nameRotate");null!=f&&(f=f*sb/180),Wh(r)?n=ub(t.rotation,null!=f?f:t.rotation,o):(n=zh(t,r,f||0,h),a=t.axisNameAvailableWidth,null!=a&&(a=Math.abs(a/Math.sin(n.rotation)),!isFinite(a)&&(a=null)));var p=l.getFont(),g=e.get("nameTruncate",!0)||{},v=g.ellipsis,m=D(t.nameTruncateMaxWidth,g.maxWidth,a),x=null!=v&&null!=m?cv(i,m,p,v,{minChar:2,placeholder:g.placeholder}):i,y=e.get("tooltip",!0),b=e.mainType,_={componentType:b,name:i,$vars:["name"]};_[b+"Index"]=e.componentIndex;var w=new cg({anid:"name",__fullText:i,__truncatedText:x,position:d,rotation:n.rotation,silent:db(e),z2:1,tooltip:y&&y.show?s({content:i,formatter:function(){return i},formatterParams:_},y):null});Ha(w.style,l,{text:x,textFont:p,textFill:l.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:l.get("align")||n.textAlign,textVerticalAlign:l.get("verticalAlign")||n.textVerticalAlign}),e.get("triggerEvent")&&(w.eventData=hb(e),w.eventData.targetType="axisName",w.eventData.name=i),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},hb=lb.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},ub=lb.innerTextLayout=function(t,e,i){var n,a,r=Ar(e-t);return Tr(r)?(a=i>0?"top":"bottom",n="center"):Tr(r-sb)?(a=i>0?"bottom":"top",n="center"):(a="middle",n=r>0&&sb>r?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:a}},db=lb.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},fb=kl({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){this.axisPointerClass&&Uh(t),fb.superApply(this,"render",arguments),Zh(this,t,e,i,n,!0)},updateAxisPointer:function(t,e,i,n){Zh(this,t,e,i,n,!1)},remove:function(t,e){var i=this._axisPointer;i&&i.remove(e),fb.superApply(this,"remove",arguments)},dispose:function(t,e){Jh(this,e),fb.superApply(this,"dispose",arguments)}}),pb=[];fb.registerAxisPointerClass=function(t,e){pb[t]=e},fb.getAxisPointerClass=function(t){return t&&pb[t]};var gb=["axisLine","axisTickLabel","axisName"],vb=["splitArea","splitLine","minorSplitLine"],mb=fb.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,i,n){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new Yd,this.group.add(this._axisGroup),t.get("show")){var r=t.getCoordSysModel(),o=Qh(r,t),s=new lb(t,o);p(gb,s.add,s),this._axisGroup.add(s.getGroup()),p(vb,(function(e){t.get(e+".show")&&this["_"+e](t,r)}),this),ir(a,this._axisGroup,t),mb.superCall(this,"render",t,e,i,n)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),a=n.getModel("lineStyle"),r=a.get("color");r=_(r)?r:[r];for(var o=e.coordinateSystem.getRect(),s=i.isHorizontal(),c=0,h=i.getTicksCoords({tickModel:n}),u=[],d=[],f=a.getLineStyle(),p=0;p<h.length;p++){var g=i.toGlobalCoord(h[p].coord);s?(u[0]=g,u[1]=o.y,d[0]=g,d[1]=o.y+o.height):(u[0]=o.x,u[1]=g,d[0]=o.x+o.width,d[1]=g);var v=c++%r.length,m=h[p].tickValue;this._axisGroup.add(new kg({anid:null!=m?"line_"+h[p].tickValue:null,subPixelOptimize:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:l({stroke:r[v]},f),silent:!0}))}}},_minorSplitLine:function(t,e){var i=t.axis,n=t.getModel("minorSplitLine"),a=n.getModel("lineStyle"),r=e.coordinateSystem.getRect(),o=i.isHorizontal(),s=i.getMinorTicksCoords();if(s.length)for(var l=[],c=[],h=a.getLineStyle(),u=0;u<s.length;u++)for(var d=0;d<s[u].length;d++){var f=i.toGlobalCoord(s[u][d].coord);o?(l[0]=f,l[1]=r.y,c[0]=f,c[1]=r.y+r.height):(l[0]=r.x,l[1]=f,c[0]=r.x+r.width,c[1]=f),this._axisGroup.add(new kg({anid:"minor_line_"+s[u][d].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:c[0],y2:c[1]},style:h,silent:!0}))}},_splitArea:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitArea"),a=n.getModel("areaStyle"),r=a.get("color"),o=e.coordinateSystem.getRect(),s=i.getTicksCoords({tickModel:n,clamp:!0});if(s.length){var c=r.length,h=this._splitAreaColors,u=B(),d=0;if(h)for(var f=0;f<s.length;f++){var p=h.get(s[f].tickValue);if(null!=p){d=(p+(c-1)*f)%c;break}}var g=i.toGlobalCoord(s[0].coord),v=a.getAreaStyle();r=_(r)?r:[r];for(f=1;f<s.length;f++){var m,x,y,b,w=i.toGlobalCoord(s[f].coord);i.isHorizontal()?(m=g,x=o.y,y=w-m,b=o.height,g=m+y):(m=o.x,x=g,y=o.width,b=w-x,g=x+b);var k=s[f-1].tickValue;null!=k&&u.set(k,d),this._axisGroup.add(new _g({anid:null!=k?"area_"+k:null,shape:{x:m,y:x,width:y,height:b},style:l({fill:r[d]},v),silent:!0})),d=(d+1)%c}this._splitAreaColors=u}}}});mb.extend({type:"xAxis"}),mb.extend({type:"yAxis"}),kl({type:"grid",render:function(t){this.group.removeAll(),t.get("show")&&this.group.add(new _g({shape:t.coordinateSystem.getRect(),style:l({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),dl((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})),xl(rx.VISUAL.LAYOUT,b(kc,"bar")),xl(rx.VISUAL.PROGRESSIVE_LAYOUT,Kx),yl({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}}),am.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(){return rc(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var xb=Kh.prototype,yb=Kh.getSymbolSize=function(t,e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};xb._createSymbol=function(t,e,i,n,a){this.removeAll();var r=e.getItemVisual(i,"color"),o=Wc(t,-1,-1,2,2,r,a);o.attr({z2:100,culling:!0,scale:tu(n)}),o.drift=eu,this._symbolType=t,this.add(o)},xb.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},xb.getSymbolPath=function(){return this.childAt(0)},xb.getScale=function(){return this.childAt(0).scale},xb.highlight=function(){this.childAt(0).trigger("emphasis")},xb.downplay=function(){this.childAt(0).trigger("normal")},xb.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},xb.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},xb.updateData=function(t,e,i){this.silent=!1;var n=t.getItemVisual(e,"symbol")||"circle",a=t.hostModel,r=yb(t,e),o=n!==this._symbolType;if(o){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(n,t,e,r,s)}else{var l=this.childAt(0);l.silent=!1,Ja(l,{scale:tu(r)},a,e)}if(this._updateCommon(t,e,r,i),o){l=this.childAt(0);var c=i&&i.fadeIn,h={scale:l.scale.slice()};c&&(h.style={opacity:l.style.opacity}),l.scale=[0,0],c&&(l.style.opacity=0),Qa(l,h,a,e)}this._seriesModel=a};var bb=["itemStyle"],_b=["emphasis","itemStyle"],wb=["label"],kb=["emphasis","label"];xb._updateCommon=function(t,e,i,n){function a(e){return w?t.getName(e):_h(t,e)}var r=this.childAt(0),o=t.hostModel,l=t.getItemVisual(e,"color");"image"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:null,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var c=n&&n.itemStyle,h=n&&n.hoverItemStyle,u=n&&n.symbolRotate,d=n&&n.symbolOffset,f=n&&n.labelModel,p=n&&n.hoverLabelModel,g=n&&n.hoverAnimation,v=n&&n.cursorStyle;if(!n||t.hasItemOption){var m=n&&n.itemModel?n.itemModel:t.getItemModel(e);c=m.getModel(bb).getItemStyle(["color"]),h=m.getModel(_b).getItemStyle(),u=m.getShallow("symbolRotate"),d=m.getShallow("symbolOffset"),f=m.getModel(wb),p=m.getModel(kb),g=m.getShallow("hoverAnimation"),v=m.getShallow("cursor")}else h=s({},h);var x=r.style;r.attr("rotation",(u||0)*Math.PI/180||0),d&&r.attr("position",[xr(d[0],i[0]),xr(d[1],i[1])]),v&&r.attr("cursor",v),r.setColor(l,n&&n.symbolInnerColor),r.setStyle(c);var y=t.getItemVisual(e,"opacity");null!=y&&(x.opacity=y);var b=t.getItemVisual(e,"liftZ"),_=r.__z2Origin;null!=b?null==_&&(r.__z2Origin=r.z2,r.z2+=b):null!=_&&(r.z2=_,r.__z2Origin=null);var w=n&&n.useNameLabel;Ba(x,h,f,p,{labelFetcher:o,labelDataIndex:e,defaultText:a,isRectText:!0,autoColor:l}),r.__symbolOriginalScale=tu(i),r.hoverStyle=h,r.highDownOnUpdate=g&&o.isAnimationEnabled()?iu:null,Oa(r)},xb.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,!(e&&e.keepLabel)&&(i.style.text=null),Ja(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},u(Kh,Yd);var Sb=nu.prototype;Sb.updateData=function(t,e){e=ru(e);var i=this.group,n=t.hostModel,a=this._data,r=this._symbolCtor,o=ou(t);a||i.removeAll(),t.diff(a).add((function(n){var a=t.getItemLayout(n);if(au(t,a,n,e)){var s=new r(t,n,o);s.attr("position",a),t.setItemGraphicEl(n,s),i.add(s)}})).update((function(s,l){var c=a.getItemGraphicEl(l),h=t.getItemLayout(s);return au(t,h,s,e)?(c?(c.updateData(t,s,o),Ja(c,{position:h},n)):(c=new r(t,s),c.attr("position",h)),i.add(c),void t.setItemGraphicEl(s,c)):void i.remove(c)})).remove((function(t){var e=a.getItemGraphicEl(t);e&&e.fadeOut((function(){i.remove(e)}))})).execute(),this._data=t},Sb.isPersistent=function(){return!0},Sb.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl((function(e,i){var n=t.getItemLayout(i);e.attr("position",n)}))},Sb.incrementalPrepareUpdate=function(t){this._seriesScope=ou(t),this._data=null,this.group.removeAll()},Sb.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}i=ru(i);for(var a=t.start;a<t.end;a++){var r=e.getItemLayout(a);if(au(e,r,a,i)){var o=new this._symbolCtor(e,a,this._seriesScope);o.traverse(n),o.attr("position",r),this.group.add(o),e.setItemGraphicEl(a,o)}}},Sb.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()};var Ab=function(t,e,i,n,a,r,o,s){for(var l=hu(t,e),c=[],h=[],u=[],d=[],f=[],p=[],g=[],v=su(a,e,o),m=su(r,t,s),x=0;x<l.length;x++){var y=l[x],b=!0;switch(y.cmd){case"=":var _=t.getItemLayout(y.idx),w=e.getItemLayout(y.idx1);(isNaN(_[0])||isNaN(_[1]))&&(_=w.slice()),c.push(_),h.push(w),u.push(i[y.idx]),d.push(n[y.idx1]),g.push(e.getRawIndex(y.idx1));break;case"+":var k=y.idx;c.push(a.dataToPoint([e.get(v.dataDimsForPoint[0],k),e.get(v.dataDimsForPoint[1],k)])),h.push(e.getItemLayout(k).slice()),u.push(cu(v,a,e,k)),d.push(n[k]),g.push(e.getRawIndex(k));break;case"-":k=y.idx;var S=t.getRawIndex(k);S!==k?(c.push(t.getItemLayout(k)),h.push(r.dataToPoint([t.get(m.dataDimsForPoint[0],k),t.get(m.dataDimsForPoint[1],k)])),u.push(i[k]),d.push(cu(m,r,t,k)),g.push(S)):b=!1}b&&(f.push(y),p.push(p.length))}p.sort((function(t,e){return g[t]-g[e]}));var A=[],T=[],C=[],M=[],D=[];for(x=0;x<p.length;x++){k=p[x];A[x]=c[k],T[x]=h[k],C[x]=u[k],M[x]=d[k],D[x]=f[k]}return{current:A,next:T,stackedOnCurrent:C,stackedOnNext:M,status:D}},Tb=st,Cb=lt,Mb=Y,Db=V,Ib=[],Lb=[],Pb=[],Rb=Qn.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:dg(Qn.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,a=i.length,r=gu(i,e.smoothConstraint);if(e.connectNulls){for(;a>0&&uu(i[a-1]);a--);for(;a>n&&uu(i[n]);n++);}for(;a>n;)n+=du(t,i,n,a,a,1,r.min,r.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Eb=Qn.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:dg(Qn.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,a=0,r=i.length,o=e.smoothMonotone,s=gu(i,e.smoothConstraint),l=gu(n,e.smoothConstraint);if(e.connectNulls){for(;r>0&&uu(i[r-1]);r--);for(;r>a&&uu(i[a]);a++);}for(;r>a;){var c=du(t,i,a,r,r,1,s.min,s.max,e.smooth,o,e.connectNulls);du(t,n,a+c-1,c,r,-1,l.min,l.max,e.stackedOnSmooth,o,e.connectNulls),a+=c+1,t.closePath()}}});rs.extend({type:"line",init:function(){var t=new Yd,e=new nu;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,a=this.group,r=t.getData(),o=t.getModel("lineStyle"),s=t.getModel("areaStyle"),c=r.mapArray(r.getItemLayout),h="polar"===n.type,u=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,v=t.get("animation"),m=!s.isEmpty(),x=s.get("origin"),y=su(n,r,x),b=xu(n,r,y),_=t.get("showSymbol"),w=_&&!h&&_u(t,r,n),k=this._data;k&&k.eachItemGraphicEl((function(t,e){t.__temp&&(a.remove(t),k.setItemGraphicEl(e,null))})),_||d.remove(),a.add(g);var S,A=!h&&t.get("step");n&&n.getArea&&t.get("clip",!0)&&(S=n.getArea(),null!=S.width?(S.x-=.1,S.y-=.1,S.width+=.2,S.height+=.2):S.r0&&(S.r0-=.5,S.r1+=.5)),this._clipShapeForSymbol=S,f&&u.type===n.type&&A===this._step?(m&&!p?p=this._newPolygon(c,b,n,v):p&&!m&&(g.remove(p),p=this._polygon=null),g.setClipPath(ku(n,!1,t)),_&&d.updateData(r,{isIgnore:w,clipShape:S}),r.eachItemGraphicEl((function(t){t.stopAnimation(!0)})),vu(this._stackedOnPoints,b)&&vu(this._points,c)||(v?this._updateAnimation(r,b,n,i,A,x):(A&&(c=yu(c,n,A),b=yu(b,n,A)),f.setShape({points:c}),p&&p.setShape({points:c,stackedOnPoints:b})))):(_&&d.updateData(r,{isIgnore:w,clipShape:S}),A&&(c=yu(c,n,A),b=yu(b,n,A)),f=this._newPolyline(c,n,v),m&&(p=this._newPolygon(c,b,n,v)),g.setClipPath(ku(n,!0,t)));var T=bu(r,n)||r.getVisual("color");f.useStyle(l(o.getLineStyle(),{fill:"none",stroke:T,lineJoin:"bevel"}));var C=t.get("smooth");if(C=mu(t.get("smooth")),f.setShape({smooth:C,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),p){var M=r.getCalculationInfo("stackedOnSeries"),D=0;p.useStyle(l(s.getAreaStyle(),{fill:T,opacity:.7,lineJoin:"bevel"})),M&&(D=mu(M.get("smooth"))),p.setShape({smooth:C,stackedOnSmooth:D,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=r,this._coordSys=n,this._stackedOnPoints=b,this._points=c,this._step=A,this._valueOrigin=x},dispose:function(){},highlight:function(t,e,i,n){var a=t.getData(),r=rn(a,n);if(!(r instanceof Array)&&null!=r&&r>=0){var o=a.getItemGraphicEl(r);if(!o){var s=a.getItemLayout(r);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;o=new Kh(a,r),o.position=s,o.setZ(t.get("zlevel"),t.get("z")),o.ignore=isNaN(s[0])||isNaN(s[1]),o.__temp=!0,a.setItemGraphicEl(r,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else rs.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var a=t.getData(),r=rn(a,n);if(null!=r&&r>=0){var o=a.getItemGraphicEl(r);o&&(o.__temp?(a.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay())}else rs.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Rb({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Eb({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_updateAnimation:function(t,e,i,n,a,r){var o=this._polyline,s=this._polygon,l=t.hostModel,c=Ab(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,r),h=c.current,u=c.stackedOnCurrent,d=c.next,f=c.stackedOnNext;a&&(h=yu(c.current,i,a),u=yu(c.stackedOnCurrent,i,a),d=yu(c.next,i,a),f=yu(c.stackedOnNext,i,a)),o.shape.__points=c.current,o.shape.points=h,Ja(o,{shape:{points:d}},l),s&&(s.setShape({points:h,stackedOnPoints:u}),Ja(s,{shape:{points:d,stackedOnPoints:f}},l));for(var p=[],g=c.status,v=0;v<g.length;v++){var m=g[v].cmd;if("="===m){var x=t.getItemGraphicEl(g[v].idx1);x&&p.push({el:x,ptIdx:v})}}o.animators&&o.animators.length&&o.animators[0].during((function(){for(var t=0;t<p.length;t++){var e=p[t].el;e.attr("position",o.shape.__points[p[t].ptIdx])}}))},remove:function(){var t=this.group,e=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),e&&e.eachItemGraphicEl((function(i,n){i.__temp&&(t.remove(i),e.setItemGraphicEl(n,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Ob=function(t,e,i){return{seriesType:t,performRawSeries:!0,reset:function(t,n){function a(e,i){if(u){var n=t.getRawValue(i),a=t.getDataParams(i);c&&e.setItemVisual(i,"symbol",o(n,a)),h&&e.setItemVisual(i,"symbolSize",s(n,a))}if(e.hasItemOption){var r=e.getItemModel(i),l=r.getShallow("symbol",!0),d=r.getShallow("symbolSize",!0),f=r.getShallow("symbolKeepAspect",!0);null!=l&&e.setItemVisual(i,"symbol",l),null!=d&&e.setItemVisual(i,"symbolSize",d),null!=f&&e.setItemVisual(i,"symbolKeepAspect",f)}}var r=t.getData(),o=t.get("symbol"),s=t.get("symbolSize"),l=t.get("symbolKeepAspect"),c=w(o),h=w(s),u=c||h,d=!c&&o?o:e,f=h?null:s;return r.setVisual({legendSymbol:i||d,symbol:d,symbolSize:f,symbolKeepAspect:l}),n.isSeriesFiltered(t)?void 0:{dataEach:r.hasItemOption||u?a:null}}}},zb=function(t){return{seriesType:t,plan:sm(),reset:function(t){function e(t,e){for(var i=t.end-t.start,a=r&&new Float32Array(i*s),l=t.start,c=0,h=[],u=[];l<t.end;l++){var d;if(1===s){var f=e.get(o[0],l);d=!isNaN(f)&&n.dataToPoint(f,null,u)}else{f=h[0]=e.get(o[0],l);var p=h[1]=e.get(o[1],l);d=!isNaN(f)&&!isNaN(p)&&n.dataToPoint(h,null,u)}r?(a[c++]=d?d[0]:NaN,a[c++]=d?d[1]:NaN):e.setItemLayout(l,d&&d.slice()||[NaN,NaN])}r&&e.setLayout("symbolPoints",a)}var i=t.getData(),n=t.coordinateSystem,a=t.pipelineContext,r=a.large;if(n){var o=g(n.dimensions,(function(t){return i.mapDimension(t)})).slice(0,2),s=o.length,l=i.getCalculationInfo("stackResultDimension");return nc(i,o[0])&&(o[0]=l),nc(i,o[1])&&(o[1]=l),s&&{progress:e}}}}},Fb={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Nb=function(t){return Math.round(t.length/2)},Bb=function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t){var e=t.getData(),i=t.get("sampling"),n=t.coordinateSystem;if("cartesian2d"===n.type&&i){var a,r=n.getBaseAxis(),o=n.getOtherAxis(r),s=r.getExtent(),l=s[1]-s[0],c=Math.round(e.count()/l);if(c>1)"string"==typeof i?a=Fb[i]:"function"==typeof i&&(a=i),a&&t.setData(e.downSample(e.mapDimension(o.dim),1/c,a,Nb))}}}};yl(Ob("line","circle","line")),xl(zb("line")),fl(rx.PROCESSOR.STATISTIC,Bb("line"));var Wb=fm.legend.selector,Hb={all:{type:"all",title:a(Wb.all)},inverse:{type:"inverse",title:a(Wb.inverse)}},jb=wl({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){jb.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var e=t.selector;!0===e&&(e=t.selector=["all","inverse"]),_(e)&&p(e,(function(t,i){k(t)&&(t={type:t}),e[i]=r(t,Hb[t.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],i=[];t.eachRawSeries((function(n){var a,r=n.name;if(i.push(r),n.legendVisualProvider){var o=n.legendVisualProvider,s=o.getAllNames();t.isSeriesFiltered(n)||(i=i.concat(s)),s.length?e=e.concat(s):a=!0}else a=!0;a&&nn(n)&&e.push(n.name)})),this._availableNames=i;var n=this.get("data")||e,a=g(n,(function(t){return("string"==typeof t||"number"==typeof t)&&(t={name:t}),new hr(t,this,this.ecModel)}),this);this._data=a},getData:function(){return this._data},select:function(t){var e=this.option.selected,i=this.get("selectedMode");if("single"===i){var n=this._data;p(n,(function(t){e[t.get("name")]=!1}))}e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;p(t,(function(t){e[t.get("name",!0)]=!0}))},inverseSelect:function(){var t=this._data,e=this.option.selected;p(t,(function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]}))},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&h(this._availableNames,t)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});gl("legendToggleSelect","legendselectchanged",b(Su,"toggleSelected")),gl("legendAllSelect","legendselectall",b(Su,"allSelect")),gl("legendInverseSelect","legendinverseselect",b(Su,"inverseSelect")),gl("legendSelect","legendselected",b(Su,"select")),gl("legendUnSelect","legendunselected",b(Su,"unSelect"));var Vb=b,Gb=p,Ub=Yd,Xb=kl({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Ub),this._backgroundEl,this.group.add(this._selectorGroup=new Ub),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var a=t.get("align"),r=t.get("orient");a&&"auto"!==a||(a="right"===t.get("left")&&"vertical"===r?"right":"left");var o=t.get("selector",!0),s=t.get("selectorPosition",!0);!o||s&&"auto"!==s||(s="horizontal"===r?"end":"start"),this.renderInner(a,t,e,i,o,r,s);var c=t.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},u=t.get("padding"),d=Xr(c,h,u),f=this.layoutInner(t,a,d,n,o,s),p=Xr(l({width:f.width,height:f.height},c),h,u);this.group.attr("position",[p.x-f.x,p.y-f.y]),this.group.add(this._backgroundEl=Au(f,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,i,n,a,r,o){var s=this.getContentGroup(),l=B(),c=e.get("selectedMode"),h=[];i.eachRawSeries((function(t){!t.get("legendHoverLink")&&h.push(t.id)})),Gb(e.getData(),(function(a,r){var o=a.get("name");if(this.newlineDisabled||""!==o&&"\n"!==o){var u=i.getSeriesByName(o)[0];if(!l.get(o))if(u){var d=u.getData(),f=d.getVisual("color"),p=d.getVisual("borderColor");"function"==typeof f&&(f=f(u.getDataParams(0))),"function"==typeof p&&(p=p(u.getDataParams(0)));var g=d.getVisual("legendSymbol")||"roundRect",v=d.getVisual("symbol"),m=this._createItem(o,r,a,e,g,v,t,f,p,c);m.on("click",Vb(Cu,o,null,n,h)).on("mouseover",Vb(Mu,u.name,null,n,h)).on("mouseout",Vb(Du,u.name,null,n,h)),l.set(o,!0)}else i.eachRawSeries((function(i){if(!l.get(o)&&i.legendVisualProvider){var s=i.legendVisualProvider;if(!s.containName(o))return;var u=s.indexOfName(o),d=s.getItemVisual(u,"color"),f=s.getItemVisual(u,"borderColor"),p="roundRect",g=this._createItem(o,r,a,e,p,null,t,d,f,c);g.on("click",Vb(Cu,null,o,n,h)).on("mouseover",Vb(Mu,null,o,n,h)).on("mouseout",Vb(Du,null,o,n,h)),l.set(o,!0)}}),this)}else s.add(new Ub({newline:!0}))}),this),a&&this._createSelector(a,e,n,r,o)},_createSelector:function(t,e,i){function n(t){var n=t.type,r=new cg({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});a.add(r);var o=e.getModel("selectorLabel"),s=e.getModel("emphasis.selectorLabel");Ba(r.style,r.hoverStyle={},o,s,{defaultText:t.title,isRectText:!1}),Oa(r)}var a=this.getSelectorGroup();Gb(t,(function(t){n(t)}))},_createItem:function(t,e,i,n,a,r,o,l,c,h){var u=n.get("itemWidth"),d=n.get("itemHeight"),f=n.get("inactiveColor"),p=n.get("inactiveBorderColor"),g=n.get("symbolKeepAspect"),v=n.getModel("itemStyle"),m=n.isSelected(t),x=new Ub,y=i.getModel("textStyle"),b=i.get("icon"),_=i.getModel("tooltip"),w=_.parentModel;a=b||a;var k=Wc(a,0,0,u,d,m?l:f,null==g||g);if(x.add(Tu(k,a,v,c,p,m)),!b&&r&&(r!==a||"none"===r)){var S=.8*d;"none"===r&&(r="circle");var A=Wc(r,(u-S)/2,(d-S)/2,S,S,m?l:f,null==g||g);x.add(Tu(A,r,v,c,p,m))}var T="left"===o?u+5:-5,C=o,M=n.get("formatter"),D=t;"string"==typeof M&&M?D=M.replace("{name}",null!=t?t:""):"function"==typeof M&&(D=M(t)),x.add(new cg({style:Ha({},y,{text:D,x:T,y:d/2,textFill:m?y.getTextColor():f,textAlign:C,textVerticalAlign:"middle"})}));var I=new _g({shape:x.getBoundingRect(),invisible:!0,tooltip:_.get("show")?s({content:t,formatter:w.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},_.option):null});return x.add(I),x.eachChild((function(t){t.silent=!0})),I.silent=!h,this.getContentGroup().add(x),Oa(x),x.__legendDataIndex=e,x},layoutInner:function(t,e,i,n,a,r){var o=this.getContentGroup(),s=this.getSelectorGroup();pv(t.get("orient"),o,t.get("itemGap"),i.width,i.height);var l=o.getBoundingRect(),c=[-l.x,-l.y];if(a){pv("horizontal",s,t.get("selectorItemGap",!0));var h=s.getBoundingRect(),u=[-h.x,-h.y],d=t.get("selectorButtonGap",!0),f=t.getOrient().index,p=0===f?"width":"height",g=0===f?"height":"width",v=0===f?"y":"x";"end"===r?u[f]+=l[p]+d:c[f]+=h[p]+d,u[1-f]+=l[g]/2-h[g]/2,s.attr("position",u),o.attr("position",c);var m={x:0,y:0};return m[p]=l[p]+d+h[p],m[g]=Math.max(l[g],h[g]),m[v]=Math.min(0,h[v]+u[1-f]),m}return o.attr("position",c),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}}),Yb=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0}))};fl(rx.PROCESSOR.SERIES_FILTER,Yb),mv.registerSubTypeDefaulter("legend",(function(){return"plain"}));var $b=jb.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,i,n){var a=$r(t);$b.superCall(this,"init",t,e,i,n),Iu(this,t,a)},mergeOption:function(t,e){$b.superCall(this,"mergeOption",t,e),Iu(this,this.option,t)}}),qb=Yd,Zb=["width","height"],Jb=["x","y"],Qb=Xb.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Qb.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new qb),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new qb),this._showController},resetInner:function(){Qb.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,i,n,a,r,o){function s(t,i){var a=t+"DataIndex",r=rr(e.get("pageIcons",!0)[e.getOrient().name][i],{onclick:y(l._pageGo,l,a,e,n)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});r.name=t,c.add(r)}var l=this;Qb.superCall(this,"renderInner",t,e,i,n,a,r,o);var c=this._controllerGroup,h=e.get("pageIconSize",!0);_(h)||(h=[h,h]),s("pagePrev",0);var u=e.getModel("pageTextStyle");c.add(new cg({name:"pageText",style:{textFill:u.getTextColor(),font:u.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),s("pageNext",1)},layoutInner:function(t,e,i,n,r,o){var s=this.getSelectorGroup(),l=t.getOrient().index,c=Zb[l],h=Jb[l],u=Zb[1-l],d=Jb[1-l];r&&pv("horizontal",s,t.get("selectorItemGap",!0));var f=t.get("selectorButtonGap",!0),p=s.getBoundingRect(),g=[-p.x,-p.y],v=a(i);r&&(v[c]=i[c]-p[c]-f);var m=this._layoutContentAndController(t,n,v,l,c,u,d);if(r){if("end"===o)g[l]+=m[c]+f;else{var x=p[c]+f;g[l]-=x,m[h]-=x}m[c]+=p[c]+f,g[1-l]+=m[d]+m[u]/2-p[u]/2,m[u]=Math.max(m[u],p[u]),m[d]=Math.min(m[d],p[d]+g[1-l]),s.attr("position",g)}return m},_layoutContentAndController:function(t,e,i,n,a,r,o){var s=this.getContentGroup(),l=this._containerGroup,c=this._controllerGroup;pv(t.get("orient"),s,t.get("itemGap"),n?i.width:null,n?null:i.height),pv("horizontal",c,t.get("pageButtonItemGap",!0));var h=s.getBoundingRect(),u=c.getBoundingRect(),d=this._showController=h[a]>i[a],f=[-h.x,-h.y];e||(f[n]=s.position[n]);var p=[0,0],g=[-u.x,-u.y],v=I(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(d){var m=t.get("pageButtonPosition",!0);"end"===m?g[n]+=i[a]-u[a]:p[n]+=u[a]+v}g[1-n]+=h[r]/2-u[r]/2,s.attr("position",f),l.attr("position",p),c.attr("position",g);var x={x:0,y:0};if(x[a]=d?i[a]:h[a],x[r]=Math.max(h[r],u[r]),x[o]=Math.min(0,u[o]+g[1-n]),l.__rectSize=i[a],d){var y={x:0,y:0};y[a]=Math.max(i[a]-u[a]-v,0),y[r]=x[r],l.setClipPath(new _g({shape:y})),l.__rectSize=y[a]}else c.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var b=this._getPageInfo(t);return null!=b.pageIndex&&Ja(s,{position:b.contentPosition},!!d&&t),this._updatePageInfoView(t,b),x},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(t,e){var i=this._controllerGroup;p(["pagePrev","pageNext"],(function(n){var a=null!=e[n+"DataIndex"],r=i.childOfName(n);r&&(r.setStyle("fill",a?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=a?"pointer":"default")}));var n=i.childOfName("pageText"),a=t.get("pageFormatter"),r=e.pageIndex,o=null!=r?r+1:0,s=e.pageCount;n&&a&&n.setStyle("text",k(a)?a.replace("{current}",o).replace("{total}",s):a({current:o,total:s}))},_getPageInfo:function(t){function e(t){if(t){var e=t.getBoundingRect(),i=e[l]+t.position[o];return{s:i,e:i+e[s],i:t.__legendDataIndex}}}function i(t,e){return t.e>=e&&t.s<=e+r}var n=t.get("scrollDataIndex",!0),a=this.getContentGroup(),r=this._containerGroup.__rectSize,o=t.getOrient().index,s=Zb[o],l=Jb[o],c=this._findTargetItemIndex(n),h=a.children(),u=h[c],d=h.length,f=d?1:0,p={contentPosition:a.position.slice(),pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return p;var g=e(u);p.contentPosition[o]=-g.s;for(var v=c+1,m=g,x=g,y=null;d>=v;++v)y=e(h[v]),(!y&&x.e>m.s+r||y&&!i(y,m.s))&&(m=x.i>m.i?x:y,m&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=m.i),++p.pageCount)),x=y;for(v=c-1,m=g,x=g,y=null;v>=-1;--v)y=e(h[v]),y&&i(x,y.s)||!(m.i<x.i)||(x=m,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=y;return p},_findTargetItemIndex:function(t){var e,i,n=this.getContentGroup();return this._showController&&n.eachChild((function(n,a){var r=n.__legendDataIndex;null==i&&null!=r&&(i=a),r===t&&(e=a)})),null!=e?e:i}});gl("legendScroll","legendscroll",(function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(i)}))})),e.version=Um,e.dependencies=Xm,e.PRIORITY=rx,e.init=rl,e.connect=ol,e.disConnect=sl,e.disconnect=Tx,e.dispose=ll,e.getInstanceByDom=cl,e.getInstanceById=hl,e.registerTheme=ul,e.registerPreprocessor=dl,e.registerProcessor=fl,e.registerPostUpdate=pl,e.registerAction=gl,e.registerCoordinateSystem=vl,e.getCoordinateSystemDimensions=ml,e.registerLayout=xl,e.registerVisual=yl,e.registerLoading=_l,e.extendComponentModel=wl,e.extendComponentView=kl,e.extendSeriesModel=Sl,e.extendChartView=Al,e.setCanvasCreator=Tl,e.registerMap=Cl,e.getMap=Ml,e.dataTool=Cx,e.zrender=Xf,e.number=nv,e.format=hv,e.throttle=hs,e.helper=Dy,e.matrix=gd,e.vector=td,e.color=Ed,e.parseGeoJSON=Ly,e.parseGeoJson=Oy,e.util=zy,e.graphic=Fy,e.List=Bx,e.Model=hr,e.Axis=Ey,e.env=Eu}))}).call(this,i("5a52")["default"])},ab06:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"qiun-charts"},[i("v-uni-canvas",{staticClass:"charts",attrs:{"canvas-id":t.canvasId,id:t.canvasId}})],1)},r=[]},b430:function(t,e,i){"use strict";i.r(e);var n=i("5672"),a=i("9c97");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("e0e8");var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"e30036f8",null,!1,n["a"],o);e["default"]=l.exports},b686:function(t,e,i){var n=i("ead0");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("014aa7e2",n,!0,{sourceMap:!1,shadowMode:!1})},b77b:function(t,e,i){var n=i("d247");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("2878994c",n,!0,{sourceMap:!1,shadowMode:!1})},b9ca:function(t,e,i){"use strict";var n=i("ec8b"),a=i.n(n);a.a},c028:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.canvasId?i("v-uni-canvas",{staticClass:"ec-canvas",attrs:{id:t.canvasId,canvasId:t.canvasId},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.error.apply(void 0,arguments)}}}):t._e()},r=[]},c2e3:function(t,e,i){var n=i("92af");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("4a31d2ae",n,!0,{sourceMap:!1,shadowMode:!1})},cb29:function(t,e,i){var n=i("23e7"),a=i("81d5"),r=i("44d2");n({target:"Array",proto:!0},{fill:a}),r("fill")},cf73:function(t,e,i){"use strict";i.r(e);var n=i("2120"),a=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},cfc3:function(t,e,i){var n=i("74e8");n("Float32",(function(t){return function(e,i,n){return t(this,e,i,n)}}))},d216:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"show-box",class:{disabled:t.disabled,active:t.isShowList},style:t.style_Container},[t.showInput?i("v-uni-input",{staticClass:"input",attrs:{"placeholder-style":"color: #bbb;",type:"text",placeholder:t.placeholder},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onBlur.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("confirm",e)}},model:{value:t.selectText,callback:function(e){t.selectText=e},expression:"selectText"}}):i("div",{staticClass:"input",class:{placeholder:t.selectText===t.placeholder},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onUpperClick.apply(void 0,arguments)}}},[t._v(t._s(t.selectText))]),i("span",{staticClass:"iconfont iconarrowBottom-fill right-arrow",class:{isRotate:t.isRotate},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onUpperClick.apply(void 0,arguments)}}}),t.clearable&&t.selectText&&t.selectText!=t.placeholder?i("span",{staticClass:"right-arrow",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClear.apply(void 0,arguments)}}},[i("span",{staticClass:"iconfont iconshanchu1 clear"})]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowList,expression:"isShowList"}],staticClass:"list-container",style:"top:"+t.listTop__+"px;",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.onListClick.apply(void 0,arguments)}}},[i("span",{staticClass:"popper__arrow"}),i("v-uni-scroll-view",{staticClass:"list",staticStyle:{"background-color":"#fff"},style:"max-height: "+t.listBoxHeight__+"em;",attrs:{"scroll-y":"true","scroll-x":"true"}},[t._l(t.innerList,(function(e,n){return i("div",{key:n,staticClass:"item",class:{active:t.activeIndex==n,disabled:e.disabled},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.onClickItem(n,e.value)}}},[i("div",[t._v(t._s(e.value))])])})),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.innerList.length,expression:"innerList.length==0"}],staticClass:"data-state item"},[t._v("无数据")])],2)],1)],1)},r=[]},d247:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 引入uview样式 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.balanced-diet[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:calc(100%);margin:0 auto;padding-bottom:%?220?%;overflow-y:auto;-webkit-box-sizing:border-box;box-sizing:border-box;height:100vh;background-color:#f1f1f1\r\n  /* 提示窗口 */}.balanced-diet .over-view[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.balanced-diet .over-view .view-item[data-v-e8915acc]{height:%?150?%;-webkit-border-radius:%?5?%;border-radius:%?5?%;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;color:#666;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;margin-top:%?20?%}.balanced-diet .over-view .view-item[data-v-e8915acc]:nth-child(2){margin-right:%?20?%}.balanced-diet .over-view .view-item[data-v-e8915acc]:nth-child(2), .balanced-diet .over-view .view-item[data-v-e8915acc]:nth-child(3){width:calc(50% - %?30?%)}.balanced-diet .over-view .view-item[data-v-e8915acc]:nth-child(1), .balanced-diet .over-view .view-item[data-v-e8915acc]:nth-child(4){width:calc(100% - %?40?%)}.balanced-diet .over-view .view-item .number[data-v-e8915acc]{font-size:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.balanced-diet .over-view .view-item .number .units[data-v-e8915acc]{margin-left:%?10?%;font-size:%?24?%}.balanced-diet .over-view .view-item .number .label[data-v-e8915acc]{width:100%;font-size:%?24?%;color:#333;text-align:center}.balanced-diet .over-view .view-item[data-v-e8915acc]:nth-child(4){-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:space-around;justify-content:space-around}.balanced-diet .over-view .view-item:nth-child(4) .number[data-v-e8915acc]{font-size:%?50?%;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.balanced-diet .over-view .view-item:nth-child(4) .number .units[data-v-e8915acc]{line-height:%?30?%}.balanced-diet .headline[data-v-e8915acc]{font-size:%?40?%;height:%?80?%;font-weight:600;text-align:center}.balanced-diet .top[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;width:95%;margin:0 auto}.balanced-diet .top .top-item[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;height:%?150?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.balanced-diet .top .top-item[data-v-e8915acc]:first-child{width:%?150?%;height:%?150?%}.balanced-diet .top .top-item:first-child .head-img[data-v-e8915acc]{width:100%;height:100%;-webkit-border-radius:%?10?%;border-radius:%?10?%}.balanced-diet .top .top-item[data-v-e8915acc]:nth-child(2){-webkit-box-flex:1;-webkit-flex:1;flex:1;margin:0 %?20?%}.balanced-diet .top .top-item[data-v-e8915acc]:last-child{width:%?200?%;-webkit-justify-content:space-around;justify-content:space-around}.balanced-diet .top .top-item .info[data-v-e8915acc]{width:45%;text-align:center;height:%?50?%;line-height:%?50?%}.balanced-diet .top .top-item .top-item-bottom[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.balanced-diet .top .top-item .top-item-bottom .the-date[data-v-e8915acc]{padding:0 %?10?%}.balanced-diet .main-box-plus[data-v-e8915acc]{background-color:#fff;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-bottom:%?20?%;-webkit-transition:height .6s ease;transition:height .6s ease;height:auto}.balanced-diet .main-box-plus .title[data-v-e8915acc]{width:100%;padding:%?10?%;min-height:%?100?%;font-weight:700;font-size:%?34?%;font-weight:700;display:-webkit-box;display:-webkit-flex;display:flex;text-align:left;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.balanced-diet .main-box[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;border-top:1px dashed #f1f1f1;padding:%?10?% 0}.balanced-diet .main-box.symptom[data-v-e8915acc]{background-color:#fff;margin:%?20?% 0;width:calc(100%);overflow:hidden}.balanced-diet .main-box.symptom[data-v-e8915acc]:first-child{margin-bottom:0;-webkit-box-shadow:none;box-shadow:none;padding:%?10?% 0;background-color:#f1f1f1}.balanced-diet .main-box.symptom .title[data-v-e8915acc]{padding:%?10?%;font-weight:700;font-size:%?34?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.balanced-diet .main-box.symptom .title .cuIcon-add[data-v-e8915acc]:active{-webkit-transform:scale(1.5);transform:scale(1.5);font-weight:700}.balanced-diet .main-box.symptom .title .num[data-v-e8915acc]{font-weight:300;color:#999;line-height:%?34?%}.balanced-diet .main-box.symptom .record-box[data-v-e8915acc]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex}.balanced-diet .main-box.symptom .record-box.readmore[data-v-e8915acc]{-webkit-transition:all 1s;transition:all 1s;height:200px;overflow:hidden;position:relative}.balanced-diet .main-box.symptom .record-box.readmore[data-v-e8915acc]::before{color:#409eff;height:60px;line-height:60px;width:100%;text-align:center;background-image:-webkit-gradient(linear,left top,left bottom,from(hsla(0,0%,100%,0)),color-stop(60%,#fff));background-image:-webkit-linear-gradient(top,hsla(0,0%,100%,0),#fff 60%);background-image:linear-gradient(-180deg,hsla(0,0%,100%,0),#fff 60%);content:"点击展开全部记录";bottom:0;position:absolute;z-index:90}.balanced-diet .main-box.symptom .record-box.readmore.showall[data-v-e8915acc]{min-height:200px;height:auto;padding-bottom:40px}.balanced-diet .main-box.symptom .record-box.readmore.showall[data-v-e8915acc]::before{content:"点击收起"}.balanced-diet .main-box.symptom .record-box .record-item[data-v-e8915acc]{-webkit-box-flex:1;-webkit-flex:1;flex:1;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 %?10?%;background-color:#fff;-webkit-border-radius:%?10?%;border-radius:%?10?%;font-weight:700;font-size:%?30?%;letter-spacing:2px;-webkit-box-shadow:2px 2px 2px 1px rgba(0,0,0,.2);box-shadow:2px 2px 2px 1px rgba(0,0,0,.2)}.balanced-diet .main-box.symptom .record-box .record-item[data-v-e8915acc]:active{-webkit-transform:translate(1px,2px);transform:translate(1px,2px)}.balanced-diet .main-box.symptom .record-box .table[data-v-e8915acc]{width:100%;padding:%?10?% 0}.balanced-diet .main-box.symptom .record-box .table .no-data[data-v-e8915acc]{width:100%;height:%?60?%;padding-bottom:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;color:#999}.balanced-diet .main-box.symptom .record-box .table .row[data-v-e8915acc]{padding:0 %?20?%}.balanced-diet .main-box.symptom .record-box .table .row .readonly[data-v-e8915acc]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;min-height:%?120?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.balanced-diet .main-box.symptom .record-box .table .row .readonly[data-v-e8915acc]:active{background-color:#f1f1f1;-webkit-box-shadow:0 0 20px 8px #f1f1f1;box-shadow:0 0 20px 8px #f1f1f1}.balanced-diet .main-box.symptom .record-box .table .row .readonly .img[data-v-e8915acc]{width:%?110?%;height:%?110?%;padding:1px;-webkit-border-radius:%?10?%;border-radius:%?10?%;overflow:hidden;border:1px solid #f1f1f1;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04)}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;min-height:%?80?%;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column.time[data-v-e8915acc]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0 %?10?%;color:#999}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column.center[data-v-e8915acc]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding-left:%?50?%;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;height:%?120?%;min-width:%?140?%}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column.center .name[data-v-e8915acc]{font-weight:700;font-size:15px;line-height:%?70?%}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column.center .number[data-v-e8915acc]{font-size:12px;color:#999}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column .heat[data-v-e8915acc]{color:#999;margin-right:%?10?%;font-size:12px}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column .heat .text[data-v-e8915acc]{font-size:16px;padding-right:2px}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column .cuIcon-right[data-v-e8915acc]{color:#999}.balanced-diet .main-box.symptom .record-box .table .row .readonly .column[data-v-e8915acc]:last-child{-webkit-box-flex:1;-webkit-flex:1;flex:1}.balanced-diet .main-box.symptom .symptom-box[data-v-e8915acc]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;padding:%?10?%;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.balanced-diet .main-box.symptom .symptom-box .symptom-item[data-v-e8915acc]{min-height:%?110?%;min-width:%?140?%;background-color:#ff8383;color:#fff;padding:%?10?% %?20?%;-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-border-radius:%?10?%;border-radius:%?10?%;max-width:%?170?%;margin-right:%?10?%;margin-bottom:%?20?%;letter-spacing:2px}.balanced-diet .main-box.symptom .symptom-box .symptom-item.symptom-add[data-v-e8915acc]{background-color:#f1f1f1;font-size:40px;color:#999;font-weight:100}.balanced-diet .main-box .main-top[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#fff}.balanced-diet .main-box .main-title[data-v-e8915acc]{font-size:16px;font-weight:700;text-indent:%?10?%;letter-spacing:1px}.balanced-diet .main-box .main-content[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-flex-wrap:wrap;flex-wrap:wrap;background-color:#fff}.balanced-diet .main-box .main-content .main-box-title[data-v-e8915acc]{width:100%;text-align:center;font-size:14px;color:#666}.balanced-diet .main-box .main-content .energy-item[data-v-e8915acc]{min-height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:space-around;justify-content:space-around}.balanced-diet .main-box .main-content .energy-item .text[data-v-e8915acc]{font-size:%?20?%}.balanced-diet .main-box .main-content .energy-item .number[data-v-e8915acc]{font-size:%?30?%;text-align:center}.balanced-diet .main-box .main-content .energy-item .text-red[data-v-e8915acc]{color:#red;text-align:right}.balanced-diet .main-box .main-content .energy-item .units[data-v-e8915acc]{min-width:%?65?%;padding-left:%?10?%;font-size:%?20?%;color:#000}.balanced-diet .main-box .main-content .operate[data-v-e8915acc]{font-size:%?60?%;font-weight:600;width:%?60?%;text-align:center}.balanced-diet .main-box .main-content .table[data-v-e8915acc]{width:100%}.balanced-diet .main-box .main-content .table .row .readonly[data-v-e8915acc]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;min-height:%?60?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.balanced-diet .main-box .main-content .table .row .readonly .column[data-v-e8915acc]{-webkit-box-flex:1;-webkit-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:flex}.balanced-diet .main-box .main-content .table .row .readonly .column .units[data-v-e8915acc]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.balanced-diet .main-box .main-content .table .row .readonly .column[data-v-e8915acc]:nth-child(3){-webkit-box-flex:0.7;-webkit-flex:0.7;flex:0.7;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.balanced-diet .main-box .main-content .table .row .readonly .column[data-v-e8915acc]:nth-child(4){-webkit-box-flex:0.7;-webkit-flex:0.7;flex:0.7;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.balanced-diet .main-box .main-content .table .row .readonly .column[data-v-e8915acc]:nth-child(5){-webkit-box-flex:0.3;-webkit-flex:0.3;flex:0.3}.balanced-diet .main-box .main-content .ele-item[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:50%;margin-top:%?30?%}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap[data-v-e8915acc]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap .probar[data-v-e8915acc]{padding:0 %?10?%;position:relative;-webkit-box-flex:1;-webkit-flex:1;flex:1}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap .probar .pointer[data-v-e8915acc]{position:absolute;width:%?8?%;height:%?30?%;background-color:rgba(250,65,65,.6);z-index:20;top:0;-webkit-border-radius:%?20?%;border-radius:%?20?%;-webkit-transition:left 1s;transition:left 1s}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap .probar .pointer[data-v-e8915acc]::after{position:absolute;content:attr(text);font-size:14px;top:%?-30?%;color:red}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap .probar .progress-bar[data-v-e8915acc]{height:%?30?%;width:%?240?%;position:relative}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap .ele-item-name[data-v-e8915acc]{font-size:14px;font-weight:700;min-width:30px;text-align:right}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap .ele-item-num[data-v-e8915acc]{text-align:center;background:#39b54a;padding:4px 5px;-webkit-border-radius:4px;border-radius:4px;font-size:12px;min-width:75px}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap .ele-item-num[data-v-e8915acc] :nth-child(2){font-size:14px;font-weight:700}.balanced-diet .main-box .main-content .ele-item .ele-item-wrap .max[data-v-e8915acc]{background-color:#e54d42}.balanced-diet .main-box .main-content-t[data-v-e8915acc]{background:#fff;color:#333;padding:%?20?%;font-size:17px;font-weight:700;margin:%?20?% 0}.balanced-diet .main-box .main-content-t .number .units[data-v-e8915acc]{color:#000;font-weight:100;padding-left:0}.balanced-diet .main-box .ele-content[data-v-e8915acc]{-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:end;-webkit-justify-content:end;justify-content:end}.balanced-diet .uni-tip[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;padding:15px;width:300px;background-color:#fff;-webkit-border-radius:10px;border-radius:10px}.balanced-diet .uni-tip .number-box[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:%?20?%}.balanced-diet .uni-tip .number-box uni-text[data-v-e8915acc]{background:#f2f3f5;color:#323233;width:30px;height:27px;line-height:27px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-content:center;align-content:center;font-size:20px}.balanced-diet .uni-tip .number-box uni-input[data-v-e8915acc]{width:%?100?%;color:#323233;font-size:14px;background:#f2f3f5;height:27px;width:43px;text-align:center;position:relative;padding:0;margin:0 3px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.balanced-diet .uni-tip .title[data-v-e8915acc]{width:auto}.balanced-diet .uni-tip .cu-form-group + .cu-form-group[data-v-e8915acc]{border-top:none}.balanced-diet .uni-tip-title[data-v-e8915acc]{margin-bottom:10px;text-align:center;font-weight:700;font-size:16px;color:#333}.balanced-diet .uni-tip-content[data-v-e8915acc]{font-size:14px;color:#666}.balanced-diet .uni-tip-group-button[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;margin-top:20px;background-color:#fff}.balanced-diet .uni-tip-button[data-v-e8915acc]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:14px;color:#3b4144}.balanced-diet .cu-form-group[data-v-e8915acc]{background-color:#fff;width:100%;height:%?150?%}.radioModal[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.radioModal .cu-dialog[data-v-e8915acc]{height:15vh}.radioModal[data-v-e8915acc] uni-radio::before,\r\nuni-checkbox[data-v-e8915acc]::before{right:9px}.pro-rad[data-v-e8915acc]{overflow:inherit;height:10px;background-color:transparent}.tootio-item-wrap[data-v-e8915acc]{position:absolute;width:%?80?%;top:%?-50?%;right:%?104?%}.tootio-item-wrap .tootio-item[data-v-e8915acc]{background-color:#8dc63f;border-color:#8dc63f;color:#fff}.tootio-item-wrap .tootio-item[data-v-e8915acc]::before{border-color:#8dc63f transparent transparent}.regular[data-v-e8915acc]{position:relative}.max-risk[data-v-e8915acc]{right:8%}.max-risk .tootio-item[data-v-e8915acc]{background-color:#ffb347;border-color:#ffb347;color:#fff}.max-risk .tootio-item[data-v-e8915acc]::before{border-color:#ffb347 transparent transparent}.min-low[data-v-e8915acc]{left:%?30?%}.min-low .tootio-item[data-v-e8915acc]{background-color:#00c2ff;border-color:#00c2ff;color:#fff}.min-low .tootio-item[data-v-e8915acc]::before{border-color:#00c2ff transparent transparent}.EAR[data-v-e8915acc],\r\n.risk[data-v-e8915acc]{position:relative;background-color:#cfcfcf;-webkit-border-top-left-radius:5px;border-top-left-radius:5px;-webkit-border-bottom-left-radius:5px;border-bottom-left-radius:5px}.EAR[data-v-e8915acc]::after,\r\n.risk[data-v-e8915acc]::after{position:absolute;content:attr(num);right:-8px;color:#333;z-index:2}.risk[data-v-e8915acc]{-webkit-border-radius:0;border-radius:0;border:none;-webkit-border-top-right-radius:5px;border-top-right-radius:5px;-webkit-border-bottom-right-radius:5px;border-bottom-right-radius:5px;background-color:#ffb347}.risk[data-v-e8915acc]::after{position:absolute;content:attr(num);left:-10px;color:#333;z-index:2}.risk[data-v-e8915acc]::before{position:absolute;content:attr(status);right:-26px;color:#333;font-size:10px;z-index:2}.risk.lack[data-v-e8915acc]::before{color:#333}.risk.normal[data-v-e8915acc]::before{color:#8dc63f}.risk.over[data-v-e8915acc]::before{color:#ffb347}.indicator[data-v-e8915acc]{background-color:#fff;text-align:center;font-size:15px;width:100%;padding:%?10?% 0}.indicator .cu-btn[data-v-e8915acc]{margin-right:%?10?%;padding:0 10px;font-size:12px}.indicator .cu-btn[data-v-e8915acc]:last-child{margin-right:%?0?%}.indicator .cu-btn.active-btn[data-v-e8915acc]{letter-spacing:2px;font-size:14px;padding:0 20px;margin:0 10px}.indicator .tips[data-v-e8915acc]{color:#999;font-size:12px;padding-top:%?20?%}.indicator .cu-item .content[data-v-e8915acc]{font-weight:700;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.indicator .cu-item .content .content_left[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex}.indicator .cu-item .content .content_left .content_left_legend[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-left:%?20?%}.indicator .cu-item .content .content_left .content_left_legend .content_left_legend_leg[data-v-e8915acc]{width:12px;height:12px;background-color:#999;-webkit-border-radius:3px;border-radius:3px}.cu-modal.show[data-v-e8915acc]{z-index:999}.cu-dialog[data-v-e8915acc]{width:100vw}.cu-dialog .title-bar[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;min-height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.cu-dialog .title-bar .btn[data-v-e8915acc]{padding:%?30?%;color:#0081ff;font-size:%?28?%}.cu-dialog .diet-info[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;padding:%?20?%;-webkit-justify-content:space-around;justify-content:space-around}.cu-dialog .diet-info .img[data-v-e8915acc]{width:%?200?%;height:%?200?%;-webkit-border-radius:%?10?%;border-radius:%?10?%;overflow:hidden;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04);box-shadow:0 2px 4px rgba(0,0,0,.12),0 0 6px rgba(0,0,0,.04)}.cu-dialog .diet-info .info[data-v-e8915acc]{min-width:%?400?%;padding-left:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.cu-dialog .diet-info .info .name[data-v-e8915acc]{font-weight:700;font-size:16px}.cu-dialog .diet-info .info .element[data-v-e8915acc]{color:#8dc63f}.cu-dialog .diet-info .info .weight[data-v-e8915acc]{padding:%?10?% 0;color:#ffb347}.cu-dialog .diet-info .info .weight .heat[data-v-e8915acc]{color:#ffb347;font-size:16px}.cu-dialog .diet-info .info .weight .unit[data-v-e8915acc]{font-size:12px}.cu-dialog .diet-info .info .amount[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.cu-dialog .diet-info .info .amount .number-box[data-v-e8915acc]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:%?20?%}.cu-dialog .diet-info .info .amount .number-box uni-text[data-v-e8915acc]{background:#f2f3f5;color:#323233;width:30px;height:27px;line-height:27px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-content:center;align-content:center;font-size:20px}.cu-dialog .diet-info .info .amount .number-box uni-input[data-v-e8915acc]{width:%?100?%;color:#323233;font-size:14px;background:#f2f3f5;height:27px;width:43px;text-align:center;position:relative;padding:0;margin:0 3px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.cu-dialog .diet-info .info .amount .number-box .symbol[data-v-e8915acc]:active{-webkit-transform:scale(1.5);transform:scale(1.5)}.cu-dialog .delete-bar[data-v-e8915acc]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:%?10?% %?20?%;color:#999;border-top:1px solid #f1f1f1;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?50?%;height:%?150?%}.cu-dialog .delete-bar .cuIcon-delete[data-v-e8915acc]{display:inline-block;height:%?80?%;line-height:%?80?%;text-align:center;width:%?80?%;-webkit-border-radius:100%;border-radius:100%;border:#666 1px solid;color:#666}.cu-dialog .delete-bar .cuIcon-delete[data-v-e8915acc]:active{-webkit-box-shadow:0 0 20px rgba(0,0,0,.5);box-shadow:0 0 20px rgba(0,0,0,.5);-webkit-transform:scale(1.1);transform:scale(1.1)}.tootio-item[data-v-e8915acc]{position:relative;width:100%;height:25px;border:2px solid #37a;top:0;-webkit-border-radius:%?12?%;border-radius:%?12?%;color:#000;font-size:12px}.tootio-item[data-v-e8915acc]::before{position:absolute;content:"";width:0;height:0;border-width:5px 5px;border-style:solid;border-color:#37a transparent transparent;bottom:-12px;left:12px}.add-button[data-v-e8915acc]{position:fixed;bottom:%?20?%;left:calc(50% - %?50?%);width:%?100?%;height:%?100?%;-webkit-border-radius:50%;border-radius:50%;background-color:#0081ff;z-index:100;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:24px;color:#fff}',""]),t.exports=e},d473:function(t,e,i){"use strict";i.r(e);var n=i("d216"),a=i("85a5");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("9a4e");var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"01cb6762",null,!1,n["a"],o);e["default"]=l.exports},dca8:function(t,e,i){var n=i("23e7"),a=i("bb2f"),r=i("d039"),o=i("861d"),s=i("f183").onFreeze,l=Object.freeze,c=r((function(){l(1)}));n({target:"Object",stat:!0,forced:c,sham:!a},{freeze:function(t){return l&&o(t)?l(s(t)):t}})},e0e8:function(t,e,i){"use strict";var n=i("27e6"),a=i.n(n);a.a},e80d:function(t,e,i){"use strict";i.r(e);var n=i("c028"),a=i("cf73");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("1ea3");var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"7c0a131a",null,!1,n["a"],o);e["default"]=l.exports},ead0:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".ec-canvas[data-v-7c0a131a]{width:100%;height:100%;-webkit-box-flex:1;-webkit-flex:1;flex:1}",""]),t.exports=e},ec8b:function(t,e,i){var n=i("717f");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("72f43a7e",n,!0,{sourceMap:!1,shadowMode:!1})},f170:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("4160"),i("fb6a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("d4ec")),r=n(i("bee2")),o=function(){function t(e,i){(0,a.default)(this,t),this.ctx=e,this.canvasId=i,this.chart=null,t.initStyle(e),this.initEvent()}return(0,r.default)(t,[{key:"getContext",value:function(t){return"2d"===t?this.ctx:null}},{key:"setChart",value:function(t){this.chart=t}},{key:"attachEvent",value:function(){}},{key:"detachEvent",value:function(){}},{key:"initEvent",value:function(){var t=this;this.event={};var e=[{wxName:"touchStart",ecName:"mousedown"},{wxName:"touchMove",ecName:"mousemove"},{wxName:"touchEnd",ecName:"mouseup"},{wxName:"touchEnd",ecName:"click"}];e.forEach((function(e){t.event[e.wxName]=function(i){var n=i.mp.touches[0];t.chart._zr.handler.dispatch(e.ecName,{zrX:"tap"===e.wxName?n.clientX:n.x,zrY:"tap"===e.wxName?n.clientY:n.y})}}))}}],[{key:"initStyle",value:function(t){var e=arguments,i=["fillStyle","strokeStyle","globalAlpha","textAlign","textBaseAlign","shadow","lineWidth","lineCap","lineJoin","lineDash","miterLimit","fontSize"];i.forEach((function(e){Object.defineProperty(t,e,{set:function(i){("fillStyle"!==e&&"strokeStyle"!==e||"none"!==i&&null!==i)&&t["set".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))](i)}})})),t.createRadialGradient=function(){return t.createCircularGradient(e)}}}]),t}();e.default=o},f1f1:function(t,e,i){"use strict";i.r(e);var n=i("4aef"),a=i("158d");for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("b9ca");var o,s=i("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"54ab320e",null,!1,n["a"],o);e["default"]=l.exports},f850:function(t,e,i){"use strict";(function(e){i("99af"),i("cb29"),i("4de4"),i("4160"),i("d81d"),i("13d5"),i("26e9"),i("fb6a"),i("4e82"),i("a9e3"),i("b680"),i("d3b7"),i("e25e"),i("ac1f"),i("25f0"),i("5319"),i("1276"),i("159b");var n={yAxisWidth:15,yAxisSplit:5,xAxisHeight:15,xAxisLineHeight:15,legendHeight:15,yAxisTitleWidth:15,padding:[10,10,10,10],pixelRatio:1,rotate:!1,columePadding:3,fontSize:13,dataPointShape:["circle","circle","circle","circle"],colors:["#1890ff","#2fc25b","#facc14","#f04864","#8543e0","#90ed7d"],pieChartLinePadding:15,pieChartTextPadding:5,xAxisTextPadding:3,titleColor:"#333333",titleFontSize:20,subtitleColor:"#999999",subtitleFontSize:15,toolTipPadding:3,toolTipBackground:"#000000",toolTipOpacity:.7,toolTipLineHeight:20,radarLabelTextMargin:15,gaugeLabelTextMargin:15},a=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(null==t)throw new TypeError("Cannot convert undefined or null to object");if(!i||i.length<=0)return t;function a(t,e){for(var i in e)t[i]=t[i]&&"[object Object]"===t[i].toString()?a(t[i],e[i]):t[i]=e[i];return t}return i.forEach((function(e){t=a(t,e)})),t},r={toFixed:function(t,e){return e=e||2,this.isFloat(t)&&(t=t.toFixed(e)),t},isFloat:function(t){return t%1!==0},approximatelyEqual:function(t,e){return Math.abs(t-e)<1e-10},isSameSign:function(t,e){return Math.abs(t)===t&&Math.abs(e)===e||Math.abs(t)!==t&&Math.abs(e)!==e},isSameXCoordinateArea:function(t,e){return this.isSameSign(t.x,e.x)},isCollision:function(t,e){t.end={},t.end.x=t.start.x+t.width,t.end.y=t.start.y-t.height,e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height;var i=e.start.x>t.end.x||e.end.x<t.start.x||e.end.y>t.start.y||e.start.y<t.end.y;return!i}};function o(t,e){var i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=t.replace(i,(function(t,e,i,n){return e+e+i+i+n+n})),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),r=parseInt(a[1],16),o=parseInt(a[2],16),s=parseInt(a[3],16);return"rgba("+r+","+o+","+s+","+e+")"}function s(t,e,i){if(isNaN(t))throw new Error("[uCharts] unvalid series data!");i=i||10,e=e||"upper";var n=1;while(i<1)i*=10,n*=10;t="upper"===e?Math.ceil(t*n):Math.floor(t*n);while(t%i!==0)"upper"===e?t++:t--;return t/n}function l(t,e,i,n){for(var a=[],r=0;r<t.length;r++){for(var o={data:[],name:e[r],color:i[r]},s=0,l=n.length;s<l;s++)if(s<t[r])o.data.push(null);else{for(var c=0,h=0;h<t[r];h++)c+=n[s-h][1];o.data.push(+(c/t[r]).toFixed(3))}a.push(o)}return a}function c(t,e,i,n,a){var r=a.width-a.area[1]-a.area[3],o=i.eachSpacing*(a.chartData.xAxisData.xAxisPoints.length-1),s=e;return e>=0?(s=0,t.event.trigger("scrollLeft")):Math.abs(e)>=o-r&&(s=r-o,t.event.trigger("scrollRight")),s}function h(t,e,i){function n(t){while(t<0)t+=2*Math.PI;while(t>2*Math.PI)t-=2*Math.PI;return t}return t=n(t),e=n(e),i=n(i),e>i&&(i+=2*Math.PI,t<e&&(t+=2*Math.PI)),t>=e&&t<=i}function u(t,e,i){var n=t,a=i-e,r=n+(i-a-n)/Math.sqrt(2);r*=-1;var o=(i-a)*(Math.sqrt(2)-1)-(i-a-n)/Math.sqrt(2);return{transX:r,transY:o}}function d(t,e){function i(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].y>=Math.max(t[e-1].y,t[e+1].y)||t[e].y<=Math.min(t[e-1].y,t[e+1].y))}function n(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].x>=Math.max(t[e-1].x,t[e+1].x)||t[e].x<=Math.min(t[e-1].x,t[e+1].x))}var a=.2,r=.2,o=null,s=null,l=null,c=null;if(e<1?(o=t[0].x+(t[1].x-t[0].x)*a,s=t[0].y+(t[1].y-t[0].y)*a):(o=t[e].x+(t[e+1].x-t[e-1].x)*a,s=t[e].y+(t[e+1].y-t[e-1].y)*a),e>t.length-3){var h=t.length-1;l=t[h].x-(t[h].x-t[h-1].x)*r,c=t[h].y-(t[h].y-t[h-1].y)*r}else l=t[e+1].x-(t[e+2].x-t[e].x)*r,c=t[e+1].y-(t[e+2].y-t[e].y)*r;return i(t,e+1)&&(c=t[e+1].y),i(t,e)&&(s=t[e].y),n(t,e+1)&&(l=t[e+1].x),n(t,e)&&(o=t[e].x),(s>=Math.max(t[e].y,t[e+1].y)||s<=Math.min(t[e].y,t[e+1].y))&&(s=t[e].y),(c>=Math.max(t[e].y,t[e+1].y)||c<=Math.min(t[e].y,t[e+1].y))&&(c=t[e+1].y),(o>=Math.max(t[e].x,t[e+1].x)||o<=Math.min(t[e].x,t[e+1].x))&&(o=t[e].x),(l>=Math.max(t[e].x,t[e+1].x)||l<=Math.min(t[e].x,t[e+1].x))&&(l=t[e+1].x),{ctrA:{x:o,y:s},ctrB:{x:l,y:c}}}function f(t,e,i){return{x:i.x+t,y:i.y-e}}function p(t,e){if(e)while(r.isCollision(t,e))t.start.x>0?t.start.y--:t.start.x<0||t.start.y>0?t.start.y++:t.start.y--;return t}function g(t,e,i){var n=0;return t.map((function(t){if(t.color||(t.color=i.colors[n],n=(n+1)%i.colors.length),t.index||(t.index=0),t.type||(t.type=e.type),"undefined"==typeof t.show&&(t.show=!0),t.type||(t.type=e.type),t.pointShape||(t.pointShape="circle"),!t.legendShape)switch(t.type){case"line":t.legendShape="line";break;case"column":t.legendShape="rect";break;case"area":t.legendShape="triangle";break;default:t.legendShape="circle"}return t}))}function v(t,e){var i=0,n=e-t;return i=n>=1e4?1e3:n>=1e3?100:n>=100?10:n>=10?5:n>=1?1:n>=.1?.1:n>=.01?.01:n>=.001?.001:n>=1e-4?1e-4:n>=1e-5?1e-5:1e-6,{minRange:s(t,"lower",i),maxRange:s(e,"upper",i)}}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.fontSize;t=String(t);t=t.split("");for(var i=0,a=0;a<t.length;a++){var r=t[a];/[a-zA-Z]/.test(r)?i+=7:/[0-9]/.test(r)?i+=5.5:/\./.test(r)?i+=2.7:/-/.test(r)?i+=3.25:/[\u4e00-\u9fa5]/.test(r)?i+=10:/\(|\)/.test(r)?i+=3.73:/\s/.test(r)?i+=2.5:/%/.test(r)?i+=8:i+=10}return i*e/10}function x(t){return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data)}),[])}function y(t,e){for(var i=new Array(e),n=0;n<i.length;n++)i[n]=0;for(var a=0;a<t.length;a++)for(n=0;n<i.length;n++)i[n]+=t[a].data[n];return t.reduce((function(t,e){return(t.data?t.data:t).concat(e.data).concat(i)}),[])}function b(t,e,i){var n,a;return t.clientX?e.rotate?(a=e.height-t.clientX*e.pixelRatio,n=(t.pageY-i.currentTarget.offsetTop-e.height/e.pixelRatio/2*(e.pixelRatio-1))*e.pixelRatio):(n=t.clientX*e.pixelRatio,a=(t.pageY-i.currentTarget.offsetTop-e.height/e.pixelRatio/2*(e.pixelRatio-1))*e.pixelRatio):e.rotate?(a=e.height-t.x*e.pixelRatio,n=t.y*e.pixelRatio):(n=t.x*e.pixelRatio,a=t.y*e.pixelRatio),{x:n,y:a}}function _(t,e){for(var i=[],n=0;n<t.length;n++){var a=t[n];if(null!==a.data[e]&&"undefined"!==typeof a.data[e]&&a.show){var r={};r.color=a.color,r.type=a.type,r.style=a.style,r.pointShape=a.pointShape,r.disableLegend=a.disableLegend,r.name=a.name,r.show=a.show,r.data=a.format?a.format(a.data[e]):a.data[e],i.push(r)}}return i}function w(t){var e=t.map((function(t){return m(t)}));return Math.max.apply(null,e)}function k(t){for(var e=2*Math.PI/t,i=[],n=0;n<t;n++)i.push(e*n);return i.map((function(t){return-1*t+Math.PI/2}))}function S(t,e,i,n){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=t.map((function(t){var e=[];return e=n||t.data,{text:a.format?a.format(t,e[i]):t.name+": "+t.data,color:t.color}})),o=[],s={x:0,y:0},l=0;l<e.length;l++){var c=e[l];"undefined"!==typeof c[i]&&null!==c[i]&&o.push(c[i])}for(var h=0;h<o.length;h++){var u=o[h];s.x=Math.round(u.x),s.y+=u.y}return s.y/=o.length,{textList:r,offset:s}}function A(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=t.map((function(t){return{text:a.format?a.format(t,n[i]):t.name+": "+t.data,color:t.color,disableLegend:!!t.disableLegend}}));r=r.filter((function(t){if(!0!==t.disableLegend)return t}));for(var o=[],s={x:0,y:0},l=0;l<e.length;l++){var c=e[l];"undefined"!==typeof c[i]&&null!==c[i]&&o.push(c[i])}for(var h=0;h<o.length;h++){var u=o[h];s.x=Math.round(u.x),s.y+=u.y}return s.y/=o.length,{textList:r,offset:s}}function T(t,e,i,n,a,r){var o=r.color.upFill,s=r.color.downFill,l=[o,o,s,o],c=[],h={text:a[n],color:null};c.push(h),e.map((function(e){0==n&&e.data[1]-e.data[0]<0?l[1]=s:(e.data[0]<t[n-1][1]&&(l[0]=s),e.data[1]<e.data[0]&&(l[1]=s),e.data[2]>t[n-1][1]&&(l[2]=o),e.data[3]<t[n-1][1]&&(l[3]=s));var i={text:"开盘："+e.data[0],color:l[0]},a={text:"收盘："+e.data[1],color:l[1]},r={text:"最低："+e.data[2],color:l[2]},h={text:"最高："+e.data[3],color:l[3]};c.push(i,a,r,h)}));for(var u=[],d={x:0,y:0},f=0;f<i.length;f++){var p=i[f];"undefined"!==typeof p[n]&&null!==p[n]&&u.push(p[n])}return d.x=Math.round(u[0][0].x),{textList:c,offset:d}}function C(t){for(var e=[],i=0;i<t.length;i++)1==t[i].show&&e.push(t[i]);return e}function M(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=-1,o=i.chartData.eachSpacing/2,s=[];if(e.length>0){if("candle"==i.type)for(var l=0;l<e[0].length;l++)s.push(e[0][l][0].x);else for(var c=0;c<e[0].length;c++)s.push(e[0][c].x);"line"!=i.type&&"area"!=i.type||"justify"!=i.xAxis.boundaryGap||(o=i.chartData.eachSpacing/2),i.categories||(o=0),L(t,i,n)&&s.forEach((function(e,i){t.x+a+o>e&&(r=i)}))}return r}function D(t,e,i){var n=-1;if(I(t,e.area)){for(var a=e.points,r=-1,o=0,s=a.length;o<s;o++)for(var l=a[o],c=0;c<l.length;c++){r+=1;var h=l[c]["area"];if(t.x>h[0]&&t.x<h[2]&&t.y>h[1]&&t.y<h[3]){n=r;break}}return n}return n}function I(t,e){return t.x>e.start.x&&t.x<e.end.x&&t.y>e.start.y&&t.y<e.end.y}function L(t,e,i){return t.x<=e.width-e.area[1]+10&&t.x>=e.area[3]-10&&t.y>=e.area[0]&&t.y<=e.height-e.area[2]}function P(t,e,i){var n=2*Math.PI/i,a=-1;if(F(t,e.center,e.radius)){var r=function(t){return t<0&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI),t},o=Math.atan2(e.center.y-t.y,t.x-e.center.x);o*=-1,o<0&&(o+=2*Math.PI);var s=e.angleList.map((function(t){return t=r(-1*t),t}));s.forEach((function(t,e){var i=r(t-n/2),s=r(t+n/2);s<i&&(s+=2*Math.PI),(o>=i&&o<=s||o+2*Math.PI>=i&&o+2*Math.PI<=s)&&(a=e)}))}return a}function R(t,e){for(var i=-1,n=0,a=e.series.length;n<a;n++){var r=e.series[n];if(t.x>r.funnelArea[0]&&t.x<r.funnelArea[2]&&t.y>r.funnelArea[1]&&t.y<r.funnelArea[3]){i=n;break}}return i}function E(t,e){for(var i=-1,n=0,a=e.length;n<a;n++){var r=e[n];if(t.x>r.area[0]&&t.x<r.area[2]&&t.y>r.area[1]&&t.y<r.area[3]){i=n;break}}return i}function O(t,e){for(var i=-1,n=e.chartData.mapData,a=e.series,r=Bt(t.y,t.x,n.bounds,n.scale,n.xoffset,n.yoffset),o=[r.x,r.y],s=0,l=a.length;s<l;s++){var c=a[s].geometry.coordinates;if(Ht(o,c)){i=s;break}}return i}function z(t,e){var i=-1;if(F(t,e.center,e.radius)){var n=Math.atan2(e.center.y-t.y,t.x-e.center.x);n=-n;for(var a=0,r=e.series.length;a<r;a++){var o=e.series[a];if(h(n,o._start_,o._start_+2*o._proportion_*Math.PI)){i=a;break}}}return i}function F(t,e,i){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(i,2)}function N(t){var e=[],i=[];return t.forEach((function(t,n){null!==t?i.push(t):(i.length&&e.push(i),i=[])})),i.length&&e.push(i),e}function B(t,e,i,n){var a={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(!1===e.legend.show)return n.legendData=a,a;var r=e.legend.padding,o=e.legend.margin,s=e.legend.fontSize,l=15*e.pixelRatio,c=5*e.pixelRatio,h=Math.max(e.legend.lineHeight*e.pixelRatio,s);if("top"==e.legend.position||"bottom"==e.legend.position){for(var u=[],d=0,f=[],p=[],g=0;g<t.length;g++){var v=t[g],x=l+c+m(v.name||"undefined",s)+e.legend.itemGap;d+x>e.width-e.padding[1]-e.padding[3]?(u.push(p),f.push(d-e.legend.itemGap),d=x,p=[v]):(d+=x,p.push(v))}if(p.length){u.push(p),f.push(d-e.legend.itemGap),a.widthArr=f;var y=Math.max.apply(null,f);switch(e.legend.float){case"left":a.area.start.x=e.padding[3],a.area.end.x=e.padding[3]+2*r;break;case"right":a.area.start.x=e.width-e.padding[1]-y-2*r,a.area.end.x=e.width-e.padding[1];break;default:a.area.start.x=(e.width-y)/2-r,a.area.end.x=(e.width+y)/2+r}a.area.width=y+2*r,a.area.wholeWidth=y+2*r,a.area.height=u.length*h+2*r,a.area.wholeHeight=u.length*h+2*r+2*o,a.points=u}}else{var b=t.length,_=e.height-e.padding[0]-e.padding[2]-2*o-2*r,w=Math.min(Math.floor(_/h),b);switch(a.area.height=w*h+2*r,a.area.wholeHeight=w*h+2*r,e.legend.float){case"top":a.area.start.y=e.padding[0]+o,a.area.end.y=e.padding[0]+o+a.area.height;break;case"bottom":a.area.start.y=e.height-e.padding[2]-o-a.area.height,a.area.end.y=e.height-e.padding[2]-o;break;default:a.area.start.y=(e.height-a.area.height)/2,a.area.end.y=(e.height+a.area.height)/2}for(var k=b%w===0?b/w:Math.floor(b/w+1),S=[],A=0;A<k;A++){var T=t.slice(A*w,A*w+w);S.push(T)}if(a.points=S,S.length){for(var C=0;C<S.length;C++){for(var M=S[C],D=0,I=0;I<M.length;I++){var L=l+c+m(M[I].name||"undefined",s)+e.legend.itemGap;L>D&&(D=L)}a.widthArr.push(D),a.heightArr.push(M.length*h+2*r)}for(var P=0,R=0;R<a.widthArr.length;R++)P+=a.widthArr[R];a.area.width=P-e.legend.itemGap+2*r,a.area.wholeWidth=a.area.width+r}}switch(e.legend.position){case"top":a.area.start.y=e.padding[0]+o,a.area.end.y=e.padding[0]+o+a.area.height;break;case"bottom":a.area.start.y=e.height-e.padding[2]-a.area.height-o,a.area.end.y=e.height-e.padding[2]-o;break;case"left":a.area.start.x=e.padding[3],a.area.end.x=e.padding[3]+a.area.width;break;case"right":a.area.start.x=e.width-e.padding[1]-a.area.width,a.area.end.x=e.width-e.padding[1];break}return n.legendData=a,a}function W(t,e,i,n){var a={angle:0,xAxisHeight:i.xAxisHeight},r=t.map((function(t){return m(t,e.xAxis.fontSize||i.fontSize)})),o=Math.max.apply(this,r);return 1==e.xAxis.rotateLabel&&o+2*i.xAxisTextPadding>n&&(a.angle=45*Math.PI/180,a.xAxisHeight=2*i.xAxisTextPadding+o*Math.sin(a.angle)),a}function H(t,e,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=x(t),r=[];a=a.filter((function(t){return"object"===typeof t&&null!==t?t.constructor==Array?null!==t:null!==t.value:null!==t})),a.map((function(t){"object"===typeof t?t.constructor==Array?"candle"==e.type?t.map((function(t){r.push(t)})):r.push(t[0]):r.push(t.value):r.push(t)}));var o=0,s=0;if(r.length>0&&(o=Math.min.apply(this,r),s=Math.max.apply(this,r)),n>-1?("number"===typeof e.xAxis.data[n].min&&(o=Math.min(e.xAxis.data[n].min,o)),"number"===typeof e.xAxis.data[n].max&&(s=Math.max(e.xAxis.data[n].max,s))):("number"===typeof e.xAxis.min&&(o=Math.min(e.xAxis.min,o)),"number"===typeof e.xAxis.max&&(s=Math.max(e.xAxis.max,s))),o===s){var l=s||10;s+=l}for(var c=o,h=s,u=[],d=(h-c)/e.xAxis.splitNumber,f=0;f<=e.xAxis.splitNumber;f++)u.push(c+d*f);return u}function j(t,e,i){var n={angle:0,xAxisHeight:i.xAxisHeight};n.ranges=H(t,e,i),n.rangesFormat=n.ranges.map((function(t){return t=e.xAxis.format?e.xAxis.format(t):r.toFixed(t,2),t}));var a=n.ranges.map((function(t){return t=r.toFixed(t,2),t=e.xAxis.format?e.xAxis.format(Number(t)):t,t}));n=Object.assign(n,tt(a,e,i));var o=n.eachSpacing,s=a.map((function(t){return m(t)})),l=Math.max.apply(this,s);return l+2*i.xAxisTextPadding>o&&(n.angle=45*Math.PI/180,n.xAxisHeight=2*i.xAxisTextPadding+l*Math.sin(n.angle)),!0===e.xAxis.disabled&&(n.xAxisHeight=0),n}function V(t,e,i,n,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=a.extra.radar||{};o.max=o.max||0;for(var s=Math.max(o.max,Math.max.apply(null,x(n))),l=[],c=function(a){var o=n[a],c={};c.color=o.color,c.legendShape=o.legendShape,c.pointShape=o.pointShape,c.data=[],o.data.forEach((function(n,a){var o={};o.angle=t[a],o.proportion=n/s,o.position=f(i*o.proportion*r*Math.cos(o.angle),i*o.proportion*r*Math.sin(o.angle),e),c.data.push(o)})),l.push(c)},h=0;h<n.length;h++)c(h);return l}function G(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=0,a=0,r=0;r<t.length;r++){var o=t[r];o.data=null===o.data?0:o.data,n+=o.data}for(var s=0;s<t.length;s++){var l=t[s];l.data=null===l.data?0:l.data,l._proportion_=0===n?1/t.length*i:l.data/n*i,l._radius_=e}for(var c=0;c<t.length;c++){var h=t[c];h._start_=a,a+=2*h._proportion_*Math.PI}return t}function U(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t=t.sort((function(t,e){return parseInt(e.data)-parseInt(t.data)}));for(var n=0;n<t.length;n++)t[n].radius=t[n].data/t[0].data*e*i,t[n]._proportion_=t[n].data/t[0].data;return t.reverse()}function X(t,e,i,n){for(var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=0,o=0,s=[],l=0;l<t.length;l++){var c=t[l];c.data=null===c.data?0:c.data,r+=c.data,s.push(c.data)}for(var h=Math.min.apply(null,s),u=Math.max.apply(null,s),d=n-i,f=0;f<t.length;f++){var p=t[f];p.data=null===p.data?0:p.data,0===r||"area"==e?(p._proportion_=p.data/r*a,p._rose_proportion_=1/t.length*a):(p._proportion_=p.data/r*a,p._rose_proportion_=p.data/r*a),p._radius_=i+d*((p.data-h)/(u-h))}for(var g=0;g<t.length;g++){var v=t[g];v._start_=o,o+=2*v._rose_proportion_*Math.PI}return t}function Y(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;1==i&&(i=.999999);for(var n=0;n<t.length;n++){var a=t[n];a.data=null===a.data?0:a.data;var r=void 0;r="circle"==e.type?2:e.endAngle<e.startAngle?2+e.endAngle-e.startAngle:e.startAngle-e.endAngle,a._proportion_=r*a.data*i+e.startAngle,a._proportion_>=2&&(a._proportion_=a._proportion_%2)}return t}function $(t,e,i){for(var n=e-i+1,a=e,r=0;r<t.length;r++)t[r].value=null===t[r].value?0:t[r].value,t[r]._startAngle_=a,t[r]._endAngle_=n*t[r].value+e,t[r]._endAngle_>=2&&(t[r]._endAngle_=t[r]._endAngle_%2),a=t[r]._endAngle_;return t}function q(t,e,i){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=0;a<t.length;a++){var r=t[a];if(r.data=null===r.data?0:r.data,"auto"==i.pointer.color){for(var o=0;o<e.length;o++)if(r.data<=e[o].value){r.color=e[o].color;break}}else r.color=i.pointer.color;var s=i.startAngle-i.endAngle+1;r._endAngle_=s*r.data+i.startAngle,r._oldAngle_=i.oldAngle,i.oldAngle<i.endAngle&&(r._oldAngle_+=2),r.data>=i.oldData?r._proportion_=(r._endAngle_-r._oldAngle_)*n+i.oldAngle:r._proportion_=r._oldAngle_-(r._oldAngle_-r._endAngle_)*n,r._proportion_>=2&&(r._proportion_=r._proportion_%2)}return t}function Z(t){t=G(t);for(var e=0,i=0;i<t.length;i++){var n=t[i],a=n.format?n.format(+n._proportion_.toFixed(2)):r.toFixed(100*n._proportion_)+"%";e=Math.max(e,m(a))}return e}function J(t,e,i,n,a,r){return t.map((function(t){return null===t?null:(t.width=Math.ceil((e-2*a.columePadding)/i),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width)),t.width<=0&&(t.width=1),t.x+=(n+.5-i/2)*t.width,t)}))}function Q(t,e,i,n,a,r,o){return t.map((function(t){return null===t?null:(t.width=Math.ceil((e-2*a.columePadding)/2),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width)),n>0&&(t.width-=2*o),t)}))}function K(t,e,i,n,a,r,o){return t.map((function(t,i){return null===t?null:(t.width=Math.ceil((e-2*a.columePadding)/2),r.extra.column&&r.extra.column.width&&+r.extra.column.width>0&&(t.width=Math.min(t.width,+r.extra.column.width)),t)}))}function tt(t,e,i){var n=e.width-e.area[1]-e.area[3],a=e.enableScroll?Math.min(e.xAxis.itemCount,t.length):t.length;("line"==e.type||"area"==e.type)&&a>1&&"justify"==e.xAxis.boundaryGap&&(a-=1);var r=n/a,o=[],s=e.area[3],l=e.width-e.area[1];return t.forEach((function(t,e){o.push(s+e*r)})),"justify"!==e.xAxis.boundaryGap&&(!0===e.enableScroll?o.push(s+t.length*r):o.push(l)),{xAxisPoints:o,startX:s,endX:l,eachSpacing:r}}function et(t,e,i,n,a,r,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l=[],c=r.height-r.area[0]-r.area[2];return t.forEach((function(t,o){if(null===t)l.push(null);else{var h=[];t.forEach((function(t,l){var u={};u.x=n[o]+Math.round(a/2);var d=t.value||t,f=c*(d-e)/(i-e);f*=s,u.y=r.height-Math.round(f)-r.area[2],h.push(u)})),l.push(h)}})),l}function it(t,e,i,n,a,r,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,l="center";"line"!=r.type&&"area"!=r.type||(l=r.xAxis.boundaryGap);var c=[],h=r.height-r.area[0]-r.area[2],u=r.width-r.area[1]-r.area[3];return t.forEach((function(t,o){if(null===t)c.push(null);else{var d={};d.color=t.color,d.x=n[o];var f,p,g,v=t;if("object"===typeof t&&null!==t)if(t.constructor==Array)f=[].concat(r.chartData.xAxisData.ranges),p=f.shift(),g=f.pop(),v=t[1],d.x=r.area[3]+u*(t[0]-p)/(g-p);else v=t.value;"center"==l&&(d.x+=Math.round(a/2));var m=h*(v-e)/(i-e);m*=s,d.y=r.height-Math.round(m)-r.area[2],c.push(d)}})),c}function nt(t,e,i,n,a,r,o,s,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:1,h=[],u=r.height-r.area[0]-r.area[2];return t.forEach((function(t,o){if(null===t)h.push(null);else{var d={};if(d.color=t.color,d.x=n[o]+Math.round(a/2),s>0){for(var f=0,p=0;p<=s;p++)f+=l[p].data[o];var g=f-t,v=u*(f-e)/(i-e),m=u*(g-e)/(i-e)}else f=t,v=u*(f-e)/(i-e),m=0;var x=m;v*=c,x*=c,d.y=r.height-Math.round(v)-r.area[2],d.y0=r.height-Math.round(x)-r.area[2],h.push(d)}})),h}function at(t,e,i,n){var a,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;a="stack"==n?y(t,e.categories.length):x(t);var o=[];a=a.filter((function(t){return"object"===typeof t&&null!==t?t.constructor==Array?null!==t:null!==t.value:null!==t})),a.map((function(t){"object"===typeof t?t.constructor==Array?"candle"==e.type?t.map((function(t){o.push(t)})):o.push(t[1]):o.push(t.value):o.push(t)}));var s=0,l=0;if(o.length>0&&(s=Math.min.apply(this,o),l=Math.max.apply(this,o)),r>-1?("number"===typeof e.yAxis.data[r].min&&(s=Math.min(e.yAxis.data[r].min,s)),"number"===typeof e.yAxis.data[r].max&&(l=Math.max(e.yAxis.data[r].max,l))):("number"===typeof e.yAxis.min&&(s=Math.min(e.yAxis.min,s)),"number"===typeof e.yAxis.max&&(l=Math.max(e.yAxis.max,l))),s===l){var c=l||10;l+=c}for(var h=v(s,l),u=h.minRange,d=h.maxRange,f=[],p=(d-u)/e.yAxis.splitNumber,g=0;g<=e.yAxis.splitNumber;g++)f.push(u+p*g);return f.reverse()}function rt(t,e,i){var n=a({},{type:""},e.extra.column),o=e.yAxis.data.length,s=new Array(o);if(o>0){for(var l=0;l<o;l++){s[l]=[];for(var c=0;c<t.length;c++)t[c].index==l&&s[l].push(t[c])}for(var h=new Array(o),u=new Array(o),d=new Array(o),f=function(t){var a=e.yAxis.data[t];1==e.yAxis.disabled&&(a.disabled=!0),h[t]=at(s[t],e,i,n.type,t);var o=a.fontSize||i.fontSize;d[t]={position:a.position?a.position:"left",width:0},u[t]=h[t].map((function(e){return e=r.toFixed(e,6),e=a.format?a.format(Number(e)):e,d[t].width=Math.max(d[t].width,m(e,o)+5),e}));var l=a.calibration?4*e.pixelRatio:0;d[t].width+=l+3*e.pixelRatio,!0===a.disabled&&(d[t].width=0)},p=0;p<o;p++)f(p)}else{h=new Array(1),u=new Array(1),d=new Array(1);h[0]=at(t,e,i,n.type),d[0]={position:"left",width:0};var g=e.yAxis.fontSize||i.fontSize;u[0]=h[0].map((function(t){return t=r.toFixed(t,6),t=e.yAxis.format?e.yAxis.format(Number(t)):t,d[0].width=Math.max(d[0].width,m(t,g)+5),t})),d[0].width+=3*e.pixelRatio,!0===e.yAxis.disabled?(d[0]={position:"left",width:0},e.yAxis.data[0]={disabled:!0}):e.yAxis.data[0]={disabled:!1,position:"left",max:e.yAxis.max,min:e.yAxis.min,format:e.yAxis.format}}return{rangesFormat:u,ranges:h,yAxisWidth:d}}function ot(t,e,i,n,a){for(var r=[].concat(i.chartData.yAxisData.ranges),o=i.height-i.area[0]-i.area[2],s=i.area[0],l=[],c=0;c<r.length;c++){var h=r[c].shift(),u=r[c].pop(),d=h-(h-u)*(t-s)/o;d=i.yAxis.data[c].format?i.yAxis.data[c].format(Number(d)):d.toFixed(0),l.push(String(d))}return l}function st(t,e){for(var i,n,a=e.height-e.area[0]-e.area[2],r=0;r<t.length;r++){t[r].yAxisIndex=t[r].yAxisIndex?t[r].yAxisIndex:0;var o=[].concat(e.chartData.yAxisData.ranges[t[r].yAxisIndex]);i=o.pop(),n=o.shift();var s=a*(t[r].value-i)/(n-i);t[r].y=e.height-Math.round(s)-e.area[2]}return t}function lt(t,e){!0!==e.rotateLock?(t.translate(e.height,0),t.rotate(90*Math.PI/180)):!0!==e._rotate_&&(t.translate(e.height,0),t.rotate(90*Math.PI/180),e._rotate_=!0)}function ct(t,e,i,n,a){n.beginPath(),"hollow"==a.dataPointShapeType?(n.setStrokeStyle(e),n.setFillStyle(a.background),n.setLineWidth(2*a.pixelRatio)):(n.setStrokeStyle("#ffffff"),n.setFillStyle(e),n.setLineWidth(1*a.pixelRatio)),"diamond"===i?t.forEach((function(t,e){null!==t&&(n.moveTo(t.x,t.y-4.5),n.lineTo(t.x-4.5,t.y),n.lineTo(t.x,t.y+4.5),n.lineTo(t.x+4.5,t.y),n.lineTo(t.x,t.y-4.5))})):"circle"===i?t.forEach((function(t,e){null!==t&&(n.moveTo(t.x+2.5*a.pixelRatio,t.y),n.arc(t.x,t.y,3*a.pixelRatio,0,2*Math.PI,!1))})):"rect"===i?t.forEach((function(t,e){null!==t&&(n.moveTo(t.x-3.5,t.y-3.5),n.rect(t.x-3.5,t.y-3.5,7,7))})):"triangle"===i&&t.forEach((function(t,e){null!==t&&(n.moveTo(t.x,t.y-4.5),n.lineTo(t.x-4.5,t.y+4.5),n.lineTo(t.x+4.5,t.y+4.5),n.lineTo(t.x,t.y-4.5))})),n.closePath(),n.fill(),n.stroke()}function ht(t,e,i,n){var a=t.title.fontSize||e.titleFontSize,r=t.subtitle.fontSize||e.subtitleFontSize,o=t.title.name||"",s=t.subtitle.name||"",l=t.title.color||e.titleColor,c=t.subtitle.color||e.subtitleColor,h=o?a:0,u=s?r:0,d=5;if(s){var f=m(s,r),p=n.x-f/2+(t.subtitle.offsetX||0),g=n.y+r/2+(t.subtitle.offsetY||0);o&&(g+=(h+d)/2),i.beginPath(),i.setFontSize(r),i.setFillStyle(c),i.fillText(s,p,g),i.closePath(),i.stroke()}if(o){var v=m(o,a),x=n.x-v/2+(t.title.offsetX||0),y=n.y+a/2+(t.title.offsetY||0);s&&(y-=(u+d)/2),i.beginPath(),i.setFontSize(a),i.setFillStyle(l),i.fillText(o,x,y),i.closePath(),i.stroke()}}function ut(t,e,i,n){var a=e.data;t.forEach((function(t,r){if(null!==t){n.beginPath(),n.setFontSize(e.textSize||i.fontSize),n.setFillStyle(e.textColor||"#666666");var o=a[r];"object"===typeof a[r]&&null!==a[r]&&(o=a[r].constructor==Array?a[r][1]:a[r].value);var s=e.format?e.format(o):o;n.fillText(String(s),t.x-m(s,e.textSize||i.fontSize)/2,t.y-4),n.closePath(),n.stroke()}}))}function dt(t,e,i,n,a,r){e-=t.width/2+a.gaugeLabelTextMargin;for(var o=t.startAngle-t.endAngle+1,s=o/t.splitLine.splitNumber,l=t.endNumber-t.startNumber,c=l/t.splitLine.splitNumber,h=t.startAngle,u=t.startNumber,d=0;d<t.splitLine.splitNumber+1;d++){var f={x:e*Math.cos(h*Math.PI),y:e*Math.sin(h*Math.PI)},p=t.labelFormat?t.labelFormat(u):u;f.x+=i.x-m(p)/2,f.y+=i.y;var g=f.x,v=f.y;r.beginPath(),r.setFontSize(a.fontSize),r.setFillStyle(t.labelColor||"#666666"),r.fillText(p,g,v+a.fontSize/2),r.closePath(),r.stroke(),h+=s,h>=2&&(h%=2),u+=c}}function ft(t,e,i,n,a,o){var s=n.extra.radar||{};e+=a.radarLabelTextMargin,t.forEach((function(t,l){var c={x:e*Math.cos(t),y:e*Math.sin(t)},h=f(c.x,c.y,i),u=h.x,d=h.y;r.approximatelyEqual(c.x,0)?u-=m(n.categories[l]||"")/2:c.x<0&&(u-=m(n.categories[l]||"")),o.beginPath(),o.setFontSize(a.fontSize),o.setFillStyle(s.labelColor||"#666666"),o.fillText(n.categories[l]||"",u,d+a.fontSize/2),o.closePath(),o.stroke()}))}function pt(t,e,i,n,a,o){for(var s=i.pieChartLinePadding,l=[],c=null,h=t.map((function(t){var e=t.format?t.format(+t._proportion_.toFixed(2)):r.toFixed(100*t._proportion_.toFixed(4))+"%";t._rose_proportion_&&(t._proportion_=t._rose_proportion_);var i=2*Math.PI-(t._start_+2*Math.PI*t._proportion_/2),n=t.color,a=t._radius_;return{arc:i,text:e,color:n,radius:a,textColor:t.textColor,textSize:t.textSize}})),u=0;u<h.length;u++){var d=h[u],g=Math.cos(d.arc)*(d.radius+s),v=Math.sin(d.arc)*(d.radius+s),x=Math.cos(d.arc)*d.radius,y=Math.sin(d.arc)*d.radius,b=g>=0?g+i.pieChartTextPadding:g-i.pieChartTextPadding,_=v,w=m(d.text,d.textSize||i.fontSize),k=_;c&&r.isSameXCoordinateArea(c.start,{x:b})&&(k=b>0?Math.min(_,c.start.y):g<0||_>0?Math.max(_,c.start.y):Math.min(_,c.start.y)),b<0&&(b-=w);var S={lineStart:{x:x,y:y},lineEnd:{x:g,y:v},start:{x:b,y:k},width:w,height:i.fontSize,text:d.text,color:d.color,textColor:d.textColor,textSize:d.textSize};c=p(S,c),l.push(c)}for(var A=0;A<l.length;A++){var T=l[A],C=f(T.lineStart.x,T.lineStart.y,o),M=f(T.lineEnd.x,T.lineEnd.y,o),D=f(T.start.x,T.start.y,o);n.setLineWidth(1*e.pixelRatio),n.setFontSize(i.fontSize),n.beginPath(),n.setStrokeStyle(T.color),n.setFillStyle(T.color),n.moveTo(C.x,C.y);var I=T.start.x<0?D.x+T.width:D.x,L=T.start.x<0?D.x-5:D.x+5;n.quadraticCurveTo(M.x,M.y,I,D.y),n.moveTo(C.x,C.y),n.stroke(),n.closePath(),n.beginPath(),n.moveTo(D.x+T.width,D.y),n.arc(I,D.y,2,0,2*Math.PI),n.closePath(),n.fill(),n.beginPath(),n.setFontSize(T.textSize||i.fontSize),n.setFillStyle(T.textColor||"#666666"),n.fillText(T.text,L,D.y+3),n.closePath(),n.stroke(),n.closePath()}}function gt(t,e,i,n){var a=e.extra.tooltip||{};a.gridType=void 0==a.gridType?"solid":a.gridType,a.dashLength=void 0==a.dashLength?4:a.dashLength;var r=e.area[0],s=e.height-e.area[2];if("dash"==a.gridType&&n.setLineDash([a.dashLength,a.dashLength]),n.setStrokeStyle(a.gridColor||"#cccccc"),n.setLineWidth(1*e.pixelRatio),n.beginPath(),n.moveTo(t,r),n.lineTo(t,s),n.stroke(),n.setLineDash([]),a.xAxisLabel){var l=e.categories[e.tooltip.index];n.setFontSize(i.fontSize);var c=m(l,i.fontSize),h=t-.5*c,u=s;n.beginPath(),n.setFillStyle(o(a.labelBgColor||i.toolTipBackground,a.labelBgOpacity||i.toolTipOpacity)),n.setStrokeStyle(a.labelBgColor||i.toolTipBackground),n.setLineWidth(1*e.pixelRatio),n.rect(h-i.toolTipPadding,u,c+2*i.toolTipPadding,i.fontSize+2*i.toolTipPadding),n.closePath(),n.stroke(),n.fill(),n.beginPath(),n.setFontSize(i.fontSize),n.setFillStyle(a.labelFontColor||i.fontColor),n.fillText(String(l),h,u+i.toolTipPadding+i.fontSize),n.closePath(),n.stroke()}}function vt(t,e,i){for(var n=a({},{type:"solid",dashLength:4,data:[]},t.extra.markLine),r=t.area[3],s=t.width-t.area[1],l=st(n.data,t),c=0;c<l.length;c++){var h=a({},{lineColor:"#DE4A42",showLabel:!1,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,yAxisIndex:0},l[c]);if("dash"==n.type&&i.setLineDash([n.dashLength,n.dashLength]),i.setStrokeStyle(h.lineColor),i.setLineWidth(1*t.pixelRatio),i.beginPath(),i.moveTo(r,h.y),i.lineTo(s,h.y),i.stroke(),i.setLineDash([]),h.showLabel){var u=t.yAxis.format?t.yAxis.format(Number(h.value)):h.value;i.setFontSize(e.fontSize);var d=m(u,e.fontSize),f=t.padding[3]+e.yAxisTitleWidth-e.toolTipPadding,p=Math.max(t.area[3],d+2*e.toolTipPadding),g=p-f,v=f+(g-d)/2,x=h.y;i.setFillStyle(o(h.labelBgColor,h.labelBgOpacity)),i.setStrokeStyle(h.labelBgColor),i.setLineWidth(1*t.pixelRatio),i.beginPath(),i.rect(f,x-.5*e.fontSize-e.toolTipPadding,g,e.fontSize+2*e.toolTipPadding),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.setFontSize(e.fontSize),i.setFillStyle(h.labelFontColor),i.fillText(String(u),v,x+.5*e.fontSize),i.stroke()}}}function mt(t,e,i,n,r){var s=a({},{gridType:"solid",dashLength:4},t.extra.tooltip),l=t.area[3],c=t.width-t.area[1];if("dash"==s.gridType&&i.setLineDash([s.dashLength,s.dashLength]),i.setStrokeStyle(s.gridColor||"#cccccc"),i.setLineWidth(1*t.pixelRatio),i.beginPath(),i.moveTo(l,t.tooltip.offset.y),i.lineTo(c,t.tooltip.offset.y),i.stroke(),i.setLineDash([]),s.yAxisLabel)for(var h=ot(t.tooltip.offset.y,t.series,t,e,n),u=t.chartData.yAxisData.yAxisWidth,d=t.area[3],f=t.width-t.area[1],p=0;p<h.length;p++){i.setFontSize(e.fontSize);var g=m(h[p],e.fontSize),v=void 0,x=void 0,y=void 0;"left"==u[p].position?(v=d-u[p].width,x=Math.max(v,v+g+2*e.toolTipPadding)):(v=f,x=Math.max(v+u[p].width,v+g+2*e.toolTipPadding)),y=x-v;var b=v+(y-g)/2,_=t.tooltip.offset.y;i.beginPath(),i.setFillStyle(o(s.labelBgColor||e.toolTipBackground,s.labelBgOpacity||e.toolTipOpacity)),i.setStrokeStyle(s.labelBgColor||e.toolTipBackground),i.setLineWidth(1*t.pixelRatio),i.rect(v,_-.5*e.fontSize-e.toolTipPadding,y,e.fontSize+2*e.toolTipPadding),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.setFontSize(e.fontSize),i.setFillStyle(s.labelFontColor||e.fontColor),i.fillText(h[p],b,_+.5*e.fontSize),i.closePath(),i.stroke(),"left"==u[p].position?d-=u[p].width+t.yAxis.padding:f+=u[p].width+t.yAxis.padding}}function xt(t,e,i,n,r){var s=a({},{activeBgColor:"#000000",activeBgOpacity:.08},e.extra.tooltip),l=e.area[0],c=e.height-e.area[2];n.beginPath(),n.setFillStyle(o(s.activeBgColor,s.activeBgOpacity)),n.rect(t-r/2,l,r,c-l),n.closePath(),n.fill()}function yt(t,e,i,n,r,s,l){var c=a({},{showBox:!0,bgColor:"#000000",bgOpacity:.7,fontColor:"#FFFFFF"},i.extra.tooltip),h=4*i.pixelRatio,u=5*i.pixelRatio,d=8*i.pixelRatio,f=!1;"line"!=i.type&&"area"!=i.type&&"candle"!=i.type&&"mix"!=i.type||gt(i.tooltip.offset.x,i,n,r),e=a({x:0,y:0},e),e.y-=8*i.pixelRatio;var p=t.map((function(t){return m(t.text,n.fontSize)})),g=h+u+4*n.toolTipPadding+Math.max.apply(null,p),v=2*n.toolTipPadding+t.length*n.toolTipLineHeight;0!=c.showBox&&(e.x-Math.abs(i._scrollDistance_)+d+g>i.width&&(f=!0),v+e.y>i.height&&(e.y=i.height-v),r.beginPath(),r.setFillStyle(o(c.bgColor||n.toolTipBackground,c.bgOpacity||n.toolTipOpacity)),f?(r.moveTo(e.x,e.y+10*i.pixelRatio),r.lineTo(e.x-d,e.y+10*i.pixelRatio-5*i.pixelRatio),r.lineTo(e.x-d,e.y),r.lineTo(e.x-d-Math.round(g),e.y),r.lineTo(e.x-d-Math.round(g),e.y+v),r.lineTo(e.x-d,e.y+v),r.lineTo(e.x-d,e.y+10*i.pixelRatio+5*i.pixelRatio),r.lineTo(e.x,e.y+10*i.pixelRatio)):(r.moveTo(e.x,e.y+10*i.pixelRatio),r.lineTo(e.x+d,e.y+10*i.pixelRatio-5*i.pixelRatio),r.lineTo(e.x+d,e.y),r.lineTo(e.x+d+Math.round(g),e.y),r.lineTo(e.x+d+Math.round(g),e.y+v),r.lineTo(e.x+d,e.y+v),r.lineTo(e.x+d,e.y+10*i.pixelRatio+5*i.pixelRatio),r.lineTo(e.x,e.y+10*i.pixelRatio)),r.closePath(),r.fill(),t.forEach((function(t,i){if(null!==t.color){r.beginPath(),r.setFillStyle(t.color);var a=e.x+d+2*n.toolTipPadding,o=e.y+(n.toolTipLineHeight-n.fontSize)/2+n.toolTipLineHeight*i+n.toolTipPadding+1;f&&(a=e.x-g-d+2*n.toolTipPadding),r.fillRect(a,o,h,n.fontSize),r.closePath()}})),t.forEach((function(t,i){var a=e.x+d+2*n.toolTipPadding+h+u;f&&(a=e.x-g-d+2*n.toolTipPadding+ +h+u);var o=e.y+(n.toolTipLineHeight-n.fontSize)/2+n.toolTipLineHeight*i+n.toolTipPadding;r.beginPath(),r.setFontSize(n.fontSize),r.setFillStyle(c.fontColor),r.fillText(t.text,a,o+n.fontSize),r.closePath(),r.stroke()})))}function bt(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=e.chartData.xAxisData,s=o.xAxisPoints,l=o.eachSpacing,c=a({},{type:"group",width:l/2,meter:{border:4,fillColor:"#FFFFFF"}},e.extra.column),h=[];n.save();var u=-2,d=s.length+2;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(n.translate(e._scrollDistance_,0),u=Math.floor(-e._scrollDistance_/l)-2,d=u+e.xAxis.itemCount+4),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&1===r&&xt(e.tooltip.offset.x,e,i,n,l),t.forEach((function(a,o){var f,p,g;f=[].concat(e.chartData.yAxisData.ranges[a.index]),p=f.pop(),g=f.shift();var v=a.data;switch(c.type){case"group":var m=it(v,p,g,s,l,e,i,r),x=nt(v,p,g,s,l,e,i,o,t,r);h.push(x),m=J(m,l,t.length,o,i,e);for(var y=0;y<m.length;y++){var b=m[y];if(null!==b&&y>u&&y<d){n.beginPath(),n.setStrokeStyle(b.color||a.color),n.setLineWidth(1),n.setFillStyle(b.color||a.color);var _=b.x-b.width/2,w=e.height-b.y-e.area[2];n.moveTo(_,b.y),n.lineTo(_+b.width-2,b.y),n.lineTo(_+b.width-2,e.height-e.area[2]),n.lineTo(_,e.height-e.area[2]),n.lineTo(_,b.y),n.closePath(),n.stroke(),n.fill()}}break;case"stack":m=nt(v,p,g,s,l,e,i,o,t,r);h.push(m),m=K(m,l,t.length,o,i,e,t);for(var k=0;k<m.length;k++){var S=m[k];if(null!==S&&k>u&&k<d){n.beginPath(),n.setFillStyle(S.color||a.color);_=S.x-S.width/2+1,w=e.height-S.y-e.area[2];var A=e.height-S.y0-e.area[2];o>0&&(w-=A),n.moveTo(_,S.y),n.fillRect(_,S.y,S.width-2,w),n.closePath(),n.fill()}}break;case"meter":m=it(v,p,g,s,l,e,i,r);if(h.push(m),m=Q(m,l,t.length,o,i,e,c.meter.border),0==o)for(var T=0;T<m.length;T++){var C=m[T];if(null!==C&&T>u&&T<d){n.beginPath(),n.setFillStyle(c.meter.fillColor);_=C.x-C.width/2,w=e.height-C.y-e.area[2];n.moveTo(_,C.y),n.fillRect(_,C.y,C.width,w),n.closePath(),n.fill(),c.meter.border>0&&(n.beginPath(),n.setStrokeStyle(a.color),n.setLineWidth(c.meter.border*e.pixelRatio),n.moveTo(_+.5*c.meter.border,C.y+w),n.lineTo(_+.5*c.meter.border,C.y+.5*c.meter.border),n.lineTo(_+C.width-.5*c.meter.border,C.y+.5*c.meter.border),n.lineTo(_+C.width-.5*c.meter.border,C.y+w),n.stroke())}}else for(var M=0;M<m.length;M++){var D=m[M];if(null!==D&&M>u&&M<d){n.beginPath(),n.setFillStyle(D.color||a.color);_=D.x-D.width/2,w=e.height-D.y-e.area[2];n.moveTo(_,D.y),n.fillRect(_,D.y,D.width,w),n.closePath(),n.fill()}}break}})),!1!==e.dataLabel&&1===r&&t.forEach((function(a,o){var h,u,d;h=[].concat(e.chartData.yAxisData.ranges[a.index]),u=h.pop(),d=h.shift();var f=a.data;switch(c.type){case"group":var p=it(f,u,d,s,l,e,i,r);p=J(p,l,t.length,o,i,e),ut(p,a,i,n);break;case"stack":p=nt(f,u,d,s,l,e,i,o,t,r);ut(p,a,i,n);break;case"meter":p=it(f,u,d,s,l,e,i,r);ut(p,a,i,n);break}})),n.restore(),{xAxisPoints:s,calPoints:h,eachSpacing:l}}function _t(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=a({},{color:{},average:{}},i.extra.candle);s.color=a({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},s.color),s.average=a({},{show:!1,name:[],day:[],color:n.colors},s.average),i.extra.candle=s;var l=i.chartData.xAxisData,c=l.xAxisPoints,h=l.eachSpacing,u=[];r.save();var f=-2,p=c.length+2,g=0,v=i.width+h;return i._scrollDistance_&&0!==i._scrollDistance_&&!0===i.enableScroll&&(r.translate(i._scrollDistance_,0),f=Math.floor(-i._scrollDistance_/h)-2,p=f+i.xAxis.itemCount+4,g=-i._scrollDistance_-h+i.area[3],v=g+(i.xAxis.itemCount+4)*h),s.average.show&&e.forEach((function(t,e){var a,s,l;a=[].concat(i.chartData.yAxisData.ranges[t.index]),s=a.pop(),l=a.shift();for(var u=t.data,f=it(u,s,l,c,h,i,n,o),p=N(f),m=0;m<p.length;m++){var x=p[m];if(r.beginPath(),r.setStrokeStyle(t.color),r.setLineWidth(1),1===x.length)r.moveTo(x[0].x,x[0].y),r.arc(x[0].x,x[0].y,1,0,2*Math.PI);else{r.moveTo(x[0].x,x[0].y);for(var y=0,b=0;b<x.length;b++){var _=x[b];if(0==y&&_.x>g&&(r.moveTo(_.x,_.y),y=1),b>0&&_.x>g&&_.x<v){var w=d(x,b-1);r.bezierCurveTo(w.ctrA.x,w.ctrA.y,w.ctrB.x,w.ctrB.y,_.x,_.y)}}r.moveTo(x[0].x,x[0].y)}r.closePath(),r.stroke()}})),t.forEach((function(t,e){var a,l,d;a=[].concat(i.chartData.yAxisData.ranges[t.index]),l=a.pop(),d=a.shift();var g=t.data,v=et(g,l,d,c,h,i,n,o);u.push(v);for(var m=N(v),x=0;x<m[0].length;x++)if(x>f&&x<p){var y=m[0][x];r.beginPath(),g[x][1]-g[x][0]>0?(r.setStrokeStyle(s.color.upLine),r.setFillStyle(s.color.upFill),r.setLineWidth(1*i.pixelRatio),r.moveTo(y[3].x,y[3].y),r.lineTo(y[1].x,y[1].y),r.lineTo(y[1].x-h/4,y[1].y),r.lineTo(y[0].x-h/4,y[0].y),r.lineTo(y[0].x,y[0].y),r.lineTo(y[2].x,y[2].y),r.lineTo(y[0].x,y[0].y),r.lineTo(y[0].x+h/4,y[0].y),r.lineTo(y[1].x+h/4,y[1].y),r.lineTo(y[1].x,y[1].y),r.moveTo(y[3].x,y[3].y)):(r.setStrokeStyle(s.color.downLine),r.setFillStyle(s.color.downFill),r.setLineWidth(1*i.pixelRatio),r.moveTo(y[3].x,y[3].y),r.lineTo(y[0].x,y[0].y),r.lineTo(y[0].x-h/4,y[0].y),r.lineTo(y[1].x-h/4,y[1].y),r.lineTo(y[1].x,y[1].y),r.lineTo(y[2].x,y[2].y),r.lineTo(y[1].x,y[1].y),r.lineTo(y[1].x+h/4,y[1].y),r.lineTo(y[0].x+h/4,y[0].y),r.lineTo(y[0].x,y[0].y),r.moveTo(y[3].x,y[3].y)),r.closePath(),r.fill(),r.stroke()}})),r.restore(),{xAxisPoints:c,calPoints:u,eachSpacing:h}}function wt(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=a({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1},e.extra.area),l=e.chartData.xAxisData,c=l.xAxisPoints,h=l.eachSpacing,u=e.height-e.area[2],f=[];n.save();var p=0,g=e.width+h;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(n.translate(e._scrollDistance_,0),p=-e._scrollDistance_-h+e.area[3],g=p+(e.xAxis.itemCount+4)*h),t.forEach((function(t,a){var l,v,m;l=[].concat(e.chartData.yAxisData.ranges[t.index]),v=l.pop(),m=l.shift();var x=t.data,y=it(x,v,m,c,h,e,i,r);f.push(y);for(var b=N(y),_=0;_<b.length;_++){var w=b[_];if(n.beginPath(),n.setStrokeStyle(o(t.color,s.opacity)),s.gradient){var k=n.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);k.addColorStop("0",o(t.color,s.opacity)),k.addColorStop("1.0",o("#FFFFFF",.1)),n.setFillStyle(k)}else n.setFillStyle(o(t.color,s.opacity));if(n.setLineWidth(s.width*e.pixelRatio),w.length>1){var S=w[0],A=w[w.length-1];n.moveTo(S.x,S.y);var T=0;if("curve"===s.type)for(var C=0;C<w.length;C++){var M=w[C];if(0==T&&M.x>p&&(n.moveTo(M.x,M.y),T=1),C>0&&M.x>p&&M.x<g){var D=d(w,C-1);n.bezierCurveTo(D.ctrA.x,D.ctrA.y,D.ctrB.x,D.ctrB.y,M.x,M.y)}}else for(var I=0;I<w.length;I++){var L=w[I];0==T&&L.x>p&&(n.moveTo(L.x,L.y),T=1),I>0&&L.x>p&&L.x<g&&n.lineTo(L.x,L.y)}n.lineTo(A.x,u),n.lineTo(S.x,u),n.lineTo(S.x,S.y)}else{var P=w[0];n.moveTo(P.x-h/2,P.y),n.lineTo(P.x+h/2,P.y),n.lineTo(P.x+h/2,u),n.lineTo(P.x-h/2,u),n.moveTo(P.x-h/2,P.y)}if(n.closePath(),n.fill(),s.addLine){if("dash"==t.lineType){var R=t.dashLength?t.dashLength:8;R*=e.pixelRatio,n.setLineDash([R,R])}if(n.beginPath(),n.setStrokeStyle(t.color),n.setLineWidth(s.width*e.pixelRatio),1===w.length)n.moveTo(w[0].x,w[0].y),n.arc(w[0].x,w[0].y,1,0,2*Math.PI);else{n.moveTo(w[0].x,w[0].y);var E=0;if("curve"===s.type)for(var O=0;O<w.length;O++){var z=w[O];if(0==E&&z.x>p&&(n.moveTo(z.x,z.y),E=1),O>0&&z.x>p&&z.x<g){var F=d(w,O-1);n.bezierCurveTo(F.ctrA.x,F.ctrA.y,F.ctrB.x,F.ctrB.y,z.x,z.y)}}else for(var B=0;B<w.length;B++){var W=w[B];0==E&&W.x>p&&(n.moveTo(W.x,W.y),E=1),B>0&&W.x>p&&W.x<g&&n.lineTo(W.x,W.y)}n.moveTo(w[0].x,w[0].y)}n.stroke(),n.setLineDash([])}}!1!==e.dataPointShape&&ct(y,t.color,t.pointShape,n,e)})),!1!==e.dataLabel&&1===r&&t.forEach((function(t,a){var o,s,l;o=[].concat(e.chartData.yAxisData.ranges[t.index]),s=o.pop(),l=o.shift();var u=t.data,d=it(u,s,l,c,h,e,i,r);ut(d,t,i,n)})),n.restore(),{xAxisPoints:c,calPoints:f,eachSpacing:h}}function kt(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=a({},{type:"straight",width:2},e.extra.line);o.width*=e.pixelRatio;var s=e.chartData.xAxisData,l=s.xAxisPoints,c=s.eachSpacing,h=[];n.save();var u=0,f=e.width+c;return e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(n.translate(e._scrollDistance_,0),u=-e._scrollDistance_-c+e.area[3],f=u+(e.xAxis.itemCount+4)*c),t.forEach((function(t,a){var s,p,g;s=[].concat(e.chartData.yAxisData.ranges[t.index]),p=s.pop(),g=s.shift();var v=t.data,m=it(v,p,g,l,c,e,i,r);h.push(m);var x=N(m);if("dash"==t.lineType){var y=t.dashLength?t.dashLength:8;y*=e.pixelRatio,n.setLineDash([y,y])}n.beginPath(),n.setStrokeStyle(t.color),n.setLineWidth(o.width),x.forEach((function(t,e){if(1===t.length)n.moveTo(t[0].x,t[0].y),n.arc(t[0].x,t[0].y,1,0,2*Math.PI);else{n.moveTo(t[0].x,t[0].y);var i=0;if("curve"===o.type)for(var a=0;a<t.length;a++){var r=t[a];if(0==i&&r.x>u&&(n.moveTo(r.x,r.y),i=1),a>0&&r.x>u&&r.x<f){var s=d(t,a-1);n.bezierCurveTo(s.ctrA.x,s.ctrA.y,s.ctrB.x,s.ctrB.y,r.x,r.y)}}else for(var l=0;l<t.length;l++){var c=t[l];0==i&&c.x>u&&(n.moveTo(c.x,c.y),i=1),l>0&&c.x>u&&c.x<f&&n.lineTo(c.x,c.y)}n.moveTo(t[0].x,t[0].y)}})),n.stroke(),n.setLineDash([]),!1!==e.dataPointShape&&ct(m,t.color,t.pointShape,n,e)})),!1!==e.dataLabel&&1===r&&t.forEach((function(t,a){var o,s,h;o=[].concat(e.chartData.yAxisData.ranges[t.index]),s=o.pop(),h=o.shift();var u=t.data,d=it(u,s,h,l,c,e,i,r);ut(d,t,i,n)})),n.restore(),{xAxisPoints:l,calPoints:h,eachSpacing:c}}function St(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=e.chartData.xAxisData,s=r.xAxisPoints,l=r.eachSpacing,c=e.height-e.area[2],h=[],u=0,f=0;t.forEach((function(t,e){"column"==t.type&&(f+=1)})),n.save();var p=-2,g=s.length+2,v=0,m=e.width+l;if(e._scrollDistance_&&0!==e._scrollDistance_&&!0===e.enableScroll&&(n.translate(e._scrollDistance_,0),p=Math.floor(-e._scrollDistance_/l)-2,g=p+e.xAxis.itemCount+4,v=-e._scrollDistance_-l+e.area[3],m=v+(e.xAxis.itemCount+4)*l),t.forEach((function(t,r){var x,y,b;x=[].concat(e.chartData.yAxisData.ranges[t.index]),y=x.pop(),b=x.shift();var _=t.data,w=it(_,y,b,s,l,e,i,a);if(h.push(w),"column"==t.type){w=J(w,l,f,u,i,e);for(var k=0;k<w.length;k++){var S=w[k];if(null!==S&&k>p&&k<g){n.beginPath(),n.setStrokeStyle(S.color||t.color),n.setLineWidth(1),n.setFillStyle(S.color||t.color);var A=S.x-S.width/2;e.height,S.y,e.area[2];n.moveTo(A,S.y),n.moveTo(A,S.y),n.lineTo(A+S.width-2,S.y),n.lineTo(A+S.width-2,e.height-e.area[2]),n.lineTo(A,e.height-e.area[2]),n.lineTo(A,S.y),n.closePath(),n.stroke(),n.fill(),n.closePath(),n.fill()}}u+=1}if("area"==t.type)for(var T=N(w),C=0;C<T.length;C++){var M=T[C];if(n.beginPath(),n.setStrokeStyle(t.color),n.setFillStyle(o(t.color,.2)),n.setLineWidth(2*e.pixelRatio),M.length>1){var D=M[0],I=M[M.length-1];n.moveTo(D.x,D.y);var L=0;if("curve"===t.style)for(var P=0;P<M.length;P++){var R=M[P];if(0==L&&R.x>v&&(n.moveTo(R.x,R.y),L=1),P>0&&R.x>v&&R.x<m){var E=d(M,P-1);n.bezierCurveTo(E.ctrA.x,E.ctrA.y,E.ctrB.x,E.ctrB.y,R.x,R.y)}}else for(var O=0;O<M.length;O++){var z=M[O];0==L&&z.x>v&&(n.moveTo(z.x,z.y),L=1),O>0&&z.x>v&&z.x<m&&n.lineTo(z.x,z.y)}n.lineTo(I.x,c),n.lineTo(D.x,c),n.lineTo(D.x,D.y)}else{var F=M[0];n.moveTo(F.x-l/2,F.y),n.lineTo(F.x+l/2,F.y),n.lineTo(F.x+l/2,c),n.lineTo(F.x-l/2,c),n.moveTo(F.x-l/2,F.y)}n.closePath(),n.fill()}if("line"==t.type){var B=N(w);B.forEach((function(i,a){if("dash"==t.lineType){var r=t.dashLength?t.dashLength:8;r*=e.pixelRatio,n.setLineDash([r,r])}if(n.beginPath(),n.setStrokeStyle(t.color),n.setLineWidth(2*e.pixelRatio),1===i.length)n.moveTo(i[0].x,i[0].y),n.arc(i[0].x,i[0].y,1,0,2*Math.PI);else{n.moveTo(i[0].x,i[0].y);var o=0;if("curve"==t.style)for(var s=0;s<i.length;s++){var l=i[s];if(0==o&&l.x>v&&(n.moveTo(l.x,l.y),o=1),s>0&&l.x>v&&l.x<m){var c=d(i,s-1);n.bezierCurveTo(c.ctrA.x,c.ctrA.y,c.ctrB.x,c.ctrB.y,l.x,l.y)}}else for(var h=0;h<i.length;h++){var u=i[h];0==o&&u.x>v&&(n.moveTo(u.x,u.y),o=1),h>0&&u.x>v&&u.x<m&&n.lineTo(u.x,u.y)}n.moveTo(i[0].x,i[0].y)}n.stroke(),n.setLineDash([])}))}"point"==t.type&&(t.addPoint=!0),1==t.addPoint&&"column"!==t.type&&ct(w,t.color,t.pointShape,n,e)})),!1!==e.dataLabel&&1===a){u=0;t.forEach((function(t,r){var o,c,h;o=[].concat(e.chartData.yAxisData.ranges[t.index]),c=o.pop(),h=o.shift();var d=t.data,p=it(d,c,h,s,l,e,i,a);"column"!==t.type?ut(p,t,i,n):(p=J(p,l,f,u,i,e),ut(p,t,i,n),u+=1)}))}return n.restore(),{xAxisPoints:s,calPoints:h,eachSpacing:l}}function At(t,e,i,n,a,r){var o=t.extra.tooltip||{};o.horizentalLine&&t.tooltip&&1===n&&("line"==t.type||"area"==t.type||"column"==t.type||"candle"==t.type||"mix"==t.type)&&mt(t,e,i,a,r),i.save(),t._scrollDistance_&&0!==t._scrollDistance_&&!0===t.enableScroll&&i.translate(t._scrollDistance_,0),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&1===n&&yt(t.tooltip.textList,t.tooltip.offset,t,e,i,a,r),i.restore()}function Tt(t,e,i,n){var a=e.chartData.xAxisData,r=a.xAxisPoints,o=a.startX,s=a.endX,l=a.eachSpacing,c="center";"line"!=e.type&&"area"!=e.type||(c=e.xAxis.boundaryGap);var h=e.height-e.area[2],d=e.area[0];if(e.enableScroll&&e.xAxis.scrollShow){var f=e.height-e.area[2]+i.xAxisHeight,p=s-o,g=l*(r.length-1),v=p*p/g,x=0;e._scrollDistance_&&(x=-e._scrollDistance_*p/g),n.beginPath(),n.setLineCap("round"),n.setLineWidth(6*e.pixelRatio),n.setStrokeStyle(e.xAxis.scrollBackgroundColor||"#EFEBEF"),n.moveTo(o,f),n.lineTo(s,f),n.stroke(),n.closePath(),n.beginPath(),n.setLineCap("round"),n.setLineWidth(6*e.pixelRatio),n.setStrokeStyle(e.xAxis.scrollColor||"#A6A6A6"),n.moveTo(o+x,f),n.lineTo(o+x+v,f),n.stroke(),n.closePath(),n.setLineCap("butt")}if(n.save(),e._scrollDistance_&&0!==e._scrollDistance_&&n.translate(e._scrollDistance_,0),!0===e.xAxis.calibration&&(n.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),n.setLineCap("butt"),n.setLineWidth(1*e.pixelRatio),r.forEach((function(t,i){i>0&&(n.beginPath(),n.moveTo(t-l/2,h),n.lineTo(t-l/2,h+3*e.pixelRatio),n.closePath(),n.stroke())}))),!0!==e.xAxis.disableGrid&&(n.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),n.setLineCap("butt"),n.setLineWidth(1*e.pixelRatio),"dash"==e.xAxis.gridType&&n.setLineDash([e.xAxis.dashLength,e.xAxis.dashLength]),e.xAxis.gridEval=e.xAxis.gridEval||1,r.forEach((function(t,i){i%e.xAxis.gridEval==0&&(n.beginPath(),n.moveTo(t,h),n.lineTo(t,d),n.stroke())})),n.setLineDash([])),!0!==e.xAxis.disabled){var y=t.length;e.xAxis.labelCount&&(y=e.xAxis.itemCount?Math.ceil(t.length/e.xAxis.itemCount*e.xAxis.labelCount):e.xAxis.labelCount,y-=1);for(var b=Math.ceil(t.length/y),_=[],w=t.length,k=0;k<w;k++)k%b!==0?_.push(""):_.push(t[k]);_[w-1]=t[w-1];var S=e.xAxis.fontSize||i.fontSize;0===i._xAxisTextAngle_?_.forEach((function(t,a){var o=-m(String(t),S)/2;"center"==c&&(o+=l/2);var s=0;e.xAxis.scrollShow&&(s=6*e.pixelRatio),n.beginPath(),n.setFontSize(S),n.setFillStyle(e.xAxis.fontColor||"#666666"),n.fillText(String(t),r[a]+o,h+S+(i.xAxisHeight-s-S)/2),n.closePath(),n.stroke()})):_.forEach((function(t,a){n.save(),n.beginPath(),n.setFontSize(S),n.setFillStyle(e.xAxis.fontColor||"#666666");var o=m(String(t),S),s=-o;"center"==c&&(s+=l/2);var d=u(r[a]+l/2,h+S/2+5,e.height),f=d.transX,p=d.transY;n.rotate(-1*i._xAxisTextAngle_),n.translate(f,p),n.fillText(String(t),r[a]+s,h+S+5),n.closePath(),n.stroke(),n.restore()}))}n.restore(),e.xAxis.axisLine&&(n.beginPath(),n.setStrokeStyle(e.xAxis.axisLineColor),n.setLineWidth(1*e.pixelRatio),n.moveTo(o,e.height-e.area[2]),n.lineTo(s,e.height-e.area[2]),n.stroke())}function Ct(t,e,i,n){if(!0!==e.yAxis.disableGrid){for(var a=e.height-e.area[0]-e.area[2],r=a/e.yAxis.splitNumber,o=e.area[3],s=e.chartData.xAxisData.xAxisPoints,l=e.chartData.xAxisData.eachSpacing,c=l*(s.length-1),h=o+c,u=[],d=0;d<e.yAxis.splitNumber+1;d++)u.push(e.height-e.area[2]-r*d);n.save(),e._scrollDistance_&&0!==e._scrollDistance_&&n.translate(e._scrollDistance_,0),"dash"==e.yAxis.gridType&&n.setLineDash([e.yAxis.dashLength,e.yAxis.dashLength]),n.setStrokeStyle(e.yAxis.gridColor),n.setLineWidth(1*e.pixelRatio),u.forEach((function(t,e){n.beginPath(),n.moveTo(o,t),n.lineTo(h,t),n.stroke()})),n.setLineDash([]),n.restore()}}function Mt(t,e,i,n){if(!0!==e.yAxis.disabled){var a=e.height-e.area[0]-e.area[2],r=a/e.yAxis.splitNumber,o=e.area[3],s=e.width-e.area[1],l=e.height-e.area[2],c=l+i.xAxisHeight;e.xAxis.scrollShow&&(c-=3*e.pixelRatio),e.xAxis.rotateLabel&&(c=e.height-e.area[2]+3),n.beginPath(),n.setFillStyle(e.background||"#ffffff"),e._scrollDistance_<0&&n.fillRect(0,0,o,c),1==e.enableScroll&&n.fillRect(s,0,e.width,c),n.closePath(),n.stroke();for(var h=[],u=0;u<=e.yAxis.splitNumber;u++)h.push(e.area[0]+r*u);for(var d=e.area[3],f=e.width-e.area[1],p=function(t){var a=e.yAxis.data[t];if(!0!==a.disabled){var r=e.chartData.yAxisData.rangesFormat[t],o=a.fontSize||i.fontSize,s=e.chartData.yAxisData.yAxisWidth[t];if(r.forEach((function(t,i){var r=h[i]?h[i]:l;n.beginPath(),n.setFontSize(o),n.setLineWidth(1*e.pixelRatio),n.setStrokeStyle(a.axisLineColor||"#cccccc"),n.setFillStyle(a.fontColor||"#666666"),"left"==s.position?(n.fillText(String(t),d-s.width,r+o/2),1==a.calibration&&(n.moveTo(d,r),n.lineTo(d-3*e.pixelRatio,r))):(n.fillText(String(t),f+4*e.pixelRatio,r+o/2),1==a.calibration&&(n.moveTo(f,r),n.lineTo(f+3*e.pixelRatio,r))),n.closePath(),n.stroke()})),!1!==a.axisLine&&(n.beginPath(),n.setStrokeStyle(a.axisLineColor||"#cccccc"),n.setLineWidth(1*e.pixelRatio),"left"==s.position?(n.moveTo(d,e.height-e.area[2]),n.lineTo(d,e.area[0])):(n.moveTo(f,e.height-e.area[2]),n.lineTo(f,e.area[0])),n.stroke()),e.yAxis.showTitle){var c=a.titleFontSize||i.fontSize,u=a.title;n.beginPath(),n.setFontSize(c),n.setFillStyle(a.titleFontColor||"#666666"),"left"==s.position?n.fillText(u,d-m(u,c)/2,e.area[0]-10*e.pixelRatio):n.fillText(u,f-m(u,c)/2,e.area[0]-10*e.pixelRatio),n.closePath(),n.stroke()}"left"==s.position?d-=s.width+e.yAxis.padding:f+=s.width+e.yAxis.padding}},g=0;g<e.yAxis.data.length;g++)p(g)}}function Dt(t,e,i,n,a){if(!1!==e.legend.show){var r=a.legendData,o=r.points,s=r.area,l=e.legend.padding,c=e.legend.fontSize,h=15*e.pixelRatio,u=5*e.pixelRatio,d=e.legend.itemGap,f=Math.max(e.legend.lineHeight*e.pixelRatio,c);n.beginPath(),n.setLineWidth(e.legend.borderWidth),n.setStrokeStyle(e.legend.borderColor),n.setFillStyle(e.legend.backgroundColor),n.moveTo(s.start.x,s.start.y),n.rect(s.start.x,s.start.y,s.width,s.height),n.closePath(),n.fill(),n.stroke(),o.forEach((function(t,a){var o=0,p=0;o=r.widthArr[a],p=r.heightArr[a];var g=0,v=0;"top"==e.legend.position||"bottom"==e.legend.position?(g=s.start.x+(s.width-o)/2,v=s.start.y+l+a*f):(o=0==a?0:r.widthArr[a-1],g=s.start.x+l+o,v=s.start.y+l+(s.height-p)/2),n.setFontSize(i.fontSize);for(var x=0;x<t.length;x++){var y=t[x];switch(y.area=[0,0,0,0],y.area[0]=g,y.area[1]=v,y.area[3]=v+f,n.beginPath(),n.setLineWidth(1*e.pixelRatio),n.setStrokeStyle(y.show?y.color:e.legend.hiddenColor),n.setFillStyle(y.show?y.color:e.legend.hiddenColor),y.legendShape){case"line":n.moveTo(g,v+.5*f-2*e.pixelRatio),n.fillRect(g,v+.5*f-2*e.pixelRatio,15*e.pixelRatio,4*e.pixelRatio);break;case"triangle":n.moveTo(g+7.5*e.pixelRatio,v+.5*f-5*e.pixelRatio),n.lineTo(g+2.5*e.pixelRatio,v+.5*f+5*e.pixelRatio),n.lineTo(g+12.5*e.pixelRatio,v+.5*f+5*e.pixelRatio),n.lineTo(g+7.5*e.pixelRatio,v+.5*f-5*e.pixelRatio);break;case"diamond":n.moveTo(g+7.5*e.pixelRatio,v+.5*f-5*e.pixelRatio),n.lineTo(g+2.5*e.pixelRatio,v+.5*f),n.lineTo(g+7.5*e.pixelRatio,v+.5*f+5*e.pixelRatio),n.lineTo(g+12.5*e.pixelRatio,v+.5*f),n.lineTo(g+7.5*e.pixelRatio,v+.5*f-5*e.pixelRatio);break;case"circle":n.moveTo(g+7.5*e.pixelRatio,v+.5*f),n.arc(g+7.5*e.pixelRatio,v+.5*f,5*e.pixelRatio,0,2*Math.PI);break;case"rect":n.moveTo(g,v+.5*f-5*e.pixelRatio),n.fillRect(g,v+.5*f-5*e.pixelRatio,15*e.pixelRatio,10*e.pixelRatio);break;default:n.moveTo(g,v+.5*f-5*e.pixelRatio),n.fillRect(g,v+.5*f-5*e.pixelRatio,15*e.pixelRatio,10*e.pixelRatio)}n.closePath(),n.fill(),n.stroke(),g+=h+u;var b=.5*f+.5*c-2;n.beginPath(),n.setFontSize(c),n.setFillStyle(y.show?e.legend.fontColor:e.legend.hiddenColor),n.fillText(y.name,g,v+b),n.closePath(),n.stroke(),"top"==e.legend.position||"bottom"==e.legend.position?(g+=m(y.name,c)+d,y.area[2]=g):(y.area[2]=g+m(y.name,c)+d,g-=h+u,v+=f)}}))}}function It(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=a({},{activeOpacity:.5,activeRadius:10*e.pixelRatio,offsetAngle:0,labelWidth:15*e.pixelRatio,ringWidth:0,border:!1,borderWidth:2,borderColor:"#FFFFFF"},e.extra.pie),l={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2};0==i.pieChartLinePadding&&(i.pieChartLinePadding=s.activeRadius);var c=Math.min((e.width-e.area[1]-e.area[3])/2-i.pieChartLinePadding-i.pieChartTextPadding-i._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-i.pieChartLinePadding-i.pieChartTextPadding);t=G(t,c,r);var h=s.activeRadius;if(t=t.map((function(t){return t._start_+=s.offsetAngle*Math.PI/180,t})),t.forEach((function(t,i){e.tooltip&&e.tooltip.index==i&&(n.beginPath(),n.setFillStyle(o(t.color,e.extra.pie.activeOpacity||.5)),n.moveTo(l.x,l.y),n.arc(l.x,l.y,t._radius_+h,t._start_,t._start_+2*t._proportion_*Math.PI),n.closePath(),n.fill()),n.beginPath(),n.setLineWidth(s.borderWidth*e.pixelRatio),n.lineJoin="round",n.setStrokeStyle(s.borderColor),n.setFillStyle(t.color),n.moveTo(l.x,l.y),n.arc(l.x,l.y,t._radius_,t._start_,t._start_+2*t._proportion_*Math.PI),n.closePath(),n.fill(),1==s.border&&n.stroke()})),"ring"===e.type){var u=.6*c;"number"===typeof e.extra.pie.ringWidth&&e.extra.pie.ringWidth>0&&(u=Math.max(0,c-e.extra.pie.ringWidth)),n.beginPath(),n.setFillStyle(e.background||"#ffffff"),n.moveTo(l.x,l.y),n.arc(l.x,l.y,u,0,2*Math.PI),n.closePath(),n.fill()}if(!1!==e.dataLabel&&1===r){for(var d=!1,f=0,p=t.length;f<p;f++)if(t[f].data>0){d=!0;break}d&&pt(t,e,i,n,c,l)}return 1===r&&"ring"===e.type&&ht(e,i,n,l),{center:l,radius:c,series:t}}function Lt(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=a({},{type:"area",activeOpacity:.5,activeRadius:10*e.pixelRatio,offsetAngle:0,labelWidth:15*e.pixelRatio,border:!1,borderWidth:2,borderColor:"#FFFFFF"},e.extra.rose);0==i.pieChartLinePadding&&(i.pieChartLinePadding=s.activeRadius);var l={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},c=Math.min((e.width-e.area[1]-e.area[3])/2-i.pieChartLinePadding-i.pieChartTextPadding-i._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-i.pieChartLinePadding-i.pieChartTextPadding),h=s.minRadius||.5*c;t=X(t,s.type,h,c,r);var u=s.activeRadius;if(t=t.map((function(t){return t._start_+=(s.offsetAngle||0)*Math.PI/180,t})),t.forEach((function(t,i){e.tooltip&&e.tooltip.index==i&&(n.beginPath(),n.setFillStyle(o(t.color,s.activeOpacity||.5)),n.moveTo(l.x,l.y),n.arc(l.x,l.y,u+t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),n.closePath(),n.fill()),n.beginPath(),n.setLineWidth(s.borderWidth*e.pixelRatio),n.lineJoin="round",n.setStrokeStyle(s.borderColor),n.setFillStyle(t.color),n.moveTo(l.x,l.y),n.arc(l.x,l.y,t._radius_,t._start_,t._start_+2*t._rose_proportion_*Math.PI),n.closePath(),n.fill(),1==s.border&&n.stroke()})),!1!==e.dataLabel&&1===r){for(var d=!1,f=0,p=t.length;f<p;f++)if(t[f].data>0){d=!0;break}d&&pt(t,e,i,n,c,l)}return{center:l,radius:c,series:t}}function Pt(t,e,i,n){var r,o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=a({},{startAngle:.75,endAngle:.25,type:"default",width:12*e.pixelRatio,gap:2*e.pixelRatio},e.extra.arcbar);t=Y(t,l,s),r=l.center?l.center:{x:e.width/2,y:e.height/2},l.radius?o=l.radius:(o=Math.min(r.x,r.y),o-=5*e.pixelRatio,o-=l.width/2);for(var c=0;c<t.length;c++){var h=t[c];n.setLineWidth(l.width),n.setStrokeStyle(l.backgroundColor||"#E9E9E9"),n.setLineCap("round"),n.beginPath(),"default"==l.type?n.arc(r.x,r.y,o-(l.width+l.gap)*c,l.startAngle*Math.PI,l.endAngle*Math.PI,!1):n.arc(r.x,r.y,o-(l.width+l.gap)*c,0,2*Math.PI,!1),n.stroke(),n.setLineWidth(l.width),n.setStrokeStyle(h.color),n.setLineCap("round"),n.beginPath(),n.arc(r.x,r.y,o-(l.width+l.gap)*c,l.startAngle*Math.PI,h._proportion_*Math.PI,!1),n.stroke()}return ht(e,i,n,r),{center:r,radius:o,series:t}}function Rt(t,e,i,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,l=a({},{type:"default",startAngle:.75,endAngle:.25,width:15,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},i.extra.gauge);void 0==l.oldAngle&&(l.oldAngle=l.startAngle),void 0==l.oldData&&(l.oldData=0),t=$(t,l.startAngle,l.endAngle);var c={x:i.width/2,y:i.height/2},h=Math.min(c.x,c.y);h-=5*i.pixelRatio,h-=l.width/2;var u=h-l.width,d=0;if("progress"==l.type){var f=h-3*l.width;r.beginPath();var p=r.createLinearGradient(c.x,c.y-f,c.x,c.y+f);p.addColorStop("0",o(e[0].color,.3)),p.addColorStop("1.0",o("#FFFFFF",.1)),r.setFillStyle(p),r.arc(c.x,c.y,f,0,2*Math.PI,!1),r.fill(),r.setLineWidth(l.width),r.setStrokeStyle(o(e[0].color,.3)),r.setLineCap("round"),r.beginPath(),r.arc(c.x,c.y,u,l.startAngle*Math.PI,l.endAngle*Math.PI,!1),r.stroke(),d=l.startAngle-l.endAngle+1;l.splitLine.splitNumber;var g=d/l.splitLine.splitNumber/l.splitLine.childNumber,v=-h-.5*l.width-l.splitLine.fixRadius,m=-h-l.width-l.splitLine.fixRadius+l.splitLine.width;r.save(),r.translate(c.x,c.y),r.rotate((l.startAngle-1)*Math.PI);for(var x=l.splitLine.splitNumber*l.splitLine.childNumber+1,y=e[0].data*s,b=0;b<x;b++)r.beginPath(),y>b/x?r.setStrokeStyle(o(e[0].color,1)):r.setStrokeStyle(o(e[0].color,.3)),r.setLineWidth(3*i.pixelRatio),r.moveTo(v,0),r.lineTo(m,0),r.stroke(),r.rotate(g*Math.PI);r.restore(),e=Y(e,l,s),r.setLineWidth(l.width),r.setStrokeStyle(e[0].color),r.setLineCap("round"),r.beginPath(),r.arc(c.x,c.y,u,l.startAngle*Math.PI,e[0]._proportion_*Math.PI,!1),r.stroke();var _=h-2.5*l.width;r.save(),r.translate(c.x,c.y),r.rotate((e[0]._proportion_-1)*Math.PI),r.beginPath(),r.setLineWidth(l.width/3);var w=r.createLinearGradient(0,.6*-_,0,.6*_);w.addColorStop("0",o("#FFFFFF",0)),w.addColorStop("0.5",o(e[0].color,1)),w.addColorStop("1.0",o("#FFFFFF",0)),r.setStrokeStyle(w),r.arc(0,0,_,.85*Math.PI,1.15*Math.PI,!1),r.stroke(),r.beginPath(),r.setLineWidth(1),r.setStrokeStyle(e[0].color),r.setFillStyle(e[0].color),r.moveTo(-_-l.width/3/2,-4),r.lineTo(-_-l.width/3/2-4,0),r.lineTo(-_-l.width/3/2,4),r.lineTo(-_-l.width/3/2,-4),r.stroke(),r.fill(),r.restore()}else{r.setLineWidth(l.width),r.setLineCap("butt");for(var k=0;k<t.length;k++){var S=t[k];r.beginPath(),r.setStrokeStyle(S.color),r.arc(c.x,c.y,h,S._startAngle_*Math.PI,S._endAngle_*Math.PI,!1),r.stroke()}r.save(),d=l.startAngle-l.endAngle+1;var A=d/l.splitLine.splitNumber,T=d/l.splitLine.splitNumber/l.splitLine.childNumber,C=-h-.5*l.width-l.splitLine.fixRadius,M=-h-.5*l.width-l.splitLine.fixRadius+l.splitLine.width,D=-h-.5*l.width-l.splitLine.fixRadius+l.splitLine.childWidth;r.translate(c.x,c.y),r.rotate((l.startAngle-1)*Math.PI);for(var I=0;I<l.splitLine.splitNumber+1;I++)r.beginPath(),r.setStrokeStyle(l.splitLine.color),r.setLineWidth(2*i.pixelRatio),r.moveTo(C,0),r.lineTo(M,0),r.stroke(),r.rotate(A*Math.PI);r.restore(),r.save(),r.translate(c.x,c.y),r.rotate((l.startAngle-1)*Math.PI);for(var L=0;L<l.splitLine.splitNumber*l.splitLine.childNumber+1;L++)r.beginPath(),r.setStrokeStyle(l.splitLine.color),r.setLineWidth(1*i.pixelRatio),r.moveTo(C,0),r.lineTo(D,0),r.stroke(),r.rotate(T*Math.PI);r.restore(),e=q(e,t,l,s);for(var P=0;P<e.length;P++){var R=e[P];r.save(),r.translate(c.x,c.y),r.rotate((R._proportion_-1)*Math.PI),r.beginPath(),r.setFillStyle(R.color),r.moveTo(l.pointer.width,0),r.lineTo(0,-l.pointer.width/2),r.lineTo(-u,0),r.lineTo(0,l.pointer.width/2),r.lineTo(l.pointer.width,0),r.closePath(),r.fill(),r.beginPath(),r.setFillStyle("#FFFFFF"),r.arc(0,0,l.pointer.width/6,0,2*Math.PI,!1),r.fill(),r.restore()}!1!==i.dataLabel&&dt(l,h,c,i,n,r)}return ht(i,n,r,c),1===s&&"gauge"===i.type&&(i.extra.gauge.oldAngle=e[0]._proportion_,i.extra.gauge.oldData=e[0].data),{center:c,radius:h,innerRadius:u,categories:t,totalAngle:d}}function Et(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=a({},{gridColor:"#cccccc",labelColor:"#666666",opacity:.2,gridCount:3},e.extra.radar),l=k(e.categories.length),c={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},h=Math.min(c.x-(w(e.categories)+i.radarLabelTextMargin),c.y-i.radarLabelTextMargin);h-=e.padding[1],n.beginPath(),n.setLineWidth(1*e.pixelRatio),n.setStrokeStyle(s.gridColor),l.forEach((function(t){var e=f(h*Math.cos(t),h*Math.sin(t),c);n.moveTo(c.x,c.y),n.lineTo(e.x,e.y)})),n.stroke(),n.closePath();for(var u=function(t){var i={};n.beginPath(),n.setLineWidth(1*e.pixelRatio),n.setStrokeStyle(s.gridColor),l.forEach((function(e,a){var r=f(h/s.gridCount*t*Math.cos(e),h/s.gridCount*t*Math.sin(e),c);0===a?(i=r,n.moveTo(r.x,r.y)):n.lineTo(r.x,r.y)})),n.lineTo(i.x,i.y),n.stroke(),n.closePath()},d=1;d<=s.gridCount;d++)u(d);var p=V(l,c,h,t,e,r);return p.forEach((function(t,i){if(n.beginPath(),n.setFillStyle(o(t.color,s.opacity)),t.data.forEach((function(t,e){0===e?n.moveTo(t.position.x,t.position.y):n.lineTo(t.position.x,t.position.y)})),n.closePath(),n.fill(),!1!==e.dataPointShape){var a=t.data.map((function(t){return t.position}));ct(a,t.color,t.pointShape,n,e)}})),ft(l,h,c,e,i,n),{center:c,radius:h,angleList:l}}function Ot(t,e,i){i=0==i?1:i;for(var n=[],a=0;a<i;a++)n[a]=Math.random();return Math.floor(n.reduce((function(t,e){return t+e}))/i*(e-t))+t}function zt(t,e,i,n){for(var a=!1,r=0;r<e.length;r++)if(e[r].area){if(!(t[3]<e[r].area[1]||t[0]>e[r].area[2]||t[1]>e[r].area[3]||t[2]<e[r].area[0])){a=!0;break}if(t[0]<0||t[1]<0||t[2]>i||t[3]>n){a=!0;break}a=!1}return a}function Ft(t){var e,i={};i.xMin=180,i.xMax=0,i.yMin=90,i.yMax=0;for(var n=0;n<t.length;n++)for(var a=t[n].geometry.coordinates,r=0;r<a.length;r++){e=a[r],1==e.length&&(e=e[0]);for(var o=0;o<e.length;o++){var s=e[o][0],l=e[o][1],c={x:s,y:l};i.xMin=i.xMin<c.x?i.xMin:c.x,i.xMax=i.xMax>c.x?i.xMax:c.x,i.yMin=i.yMin<c.y?i.yMin:c.y,i.yMax=i.yMax>c.y?i.yMax:c.y}}return i}function Nt(t,e,i,n,a,r){return{x:(e-i.xMin)*n+a,y:(i.yMax-t)*n+r}}function Bt(t,e,i,n,a,r){return{x:(e-a)/n+i.xMin,y:i.yMax-(t-r)/n}}function Wt(t,e,i){if(e[1]==i[1])return!1;if(e[1]>t[1]&&i[1]>t[1])return!1;if(e[1]<t[1]&&i[1]<t[1])return!1;if(e[1]==t[1]&&i[1]>t[1])return!1;if(i[1]==t[1]&&e[1]>t[1])return!1;if(e[0]<t[0]&&i[1]<t[1])return!1;var n=i[0]-(i[0]-e[0])*(i[1]-t[1])/(i[1]-e[1]);return!(n<t[0])}function Ht(t,e){for(var i=0,n=0;n<e.length;n++){var a=e[n][0];1==e.length&&(a=e[n][0]);for(var r=0;r<a.length-1;r++){var o=a[r],s=a[r+1];Wt(t,o,s)&&(i+=1)}}return i%2==1}function jt(t,e,i,n){var r,s,l=a({},{border:!0,borderWidth:1,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},e.extra.map),c=t,h=Ft(c),u=e.width/Math.abs(h.xMax-h.xMin),d=e.height/Math.abs(h.yMax-h.yMin),f=u<d?u:d,p=e.width/2-Math.abs(h.xMax-h.xMin)/2*f,g=e.height/2-Math.abs(h.yMax-h.yMin)/2*f;n.beginPath(),n.clearRect(0,0,e.width,e.height),n.setFillStyle(e.background||"#FFFFFF"),n.rect(0,0,e.width,e.height),n.fill();for(var v=0;v<c.length;v++){n.beginPath(),n.setLineWidth(l.borderWidth*e.pixelRatio),n.setStrokeStyle(l.borderColor),n.setFillStyle(o(t[v].color,l.fillOpacity)),e.tooltip&&e.tooltip.index==v&&(n.setStrokeStyle(l.activeBorderColor),n.setFillStyle(o(l.activeFillColor,l.activeFillOpacity)));for(var x=c[v].geometry.coordinates,y=0;y<x.length;y++){r=x[y],1==r.length&&(r=r[0]);for(var b=0;b<r.length;b++)s=Nt(r[b][1],r[b][0],h,f,p,g),0===b?(n.beginPath(),n.moveTo(s.x,s.y)):n.lineTo(s.x,s.y);n.fill(),1==l.border&&n.stroke()}if(1==e.dataLabel){var _=c[v].properties.centroid;if(_){s=Nt(_[1],_[0],h,f,p,g);var w=c[v].textSize||i.fontSize,k=c[v].properties.name;n.beginPath(),n.setFontSize(w),n.setFillStyle(c[v].textColor||"#666666"),n.fillText(k,s.x-m(k,w)/2,s.y+w/2),n.closePath(),n.stroke()}}}e.chartData.mapData={bounds:h,scale:f,xoffset:p,yoffset:g},At(e,i,n,1),n.draw()}function Vt(t,e){var i=t.series.sort((function(t,e){return parseInt(e.textSize)-parseInt(t.textSize)}));switch(e){case"normal":for(var n=0;n<i.length;n++){var a=i[n].name,r=i[n].textSize,o=m(a,r),s=void 0,l=void 0,c=void 0,h=0;while(1){h++,s=Ot(-t.width/2,t.width/2,5)-o/2,l=Ot(-t.height/2,t.height/2,5)+r/2,c=[s-5+t.width/2,l-5-r+t.height/2,s+o+5+t.width/2,l+5+t.height/2];var u=zt(c,i,t.width,t.height);if(!u)break;if(1e3==h){c=[-100,-100,-100,-100];break}}i[n].area=c}break;case"vertical":for(var d=function(){return Math.random()>.7},f=0;f<i.length;f++){var p=i[f].name,g=i[f].textSize,v=m(p,g),x=d(),y=void 0,b=void 0,_=void 0,w=void 0,k=0;while(1){k++;var S=void 0;if(x?(y=Ot(-t.width/2,t.width/2,5)-v/2,b=Ot(-t.height/2,t.height/2,5)+g/2,_=[b-5-v+t.width/2,-y-5+t.height/2,b+5+t.width/2,-y+g+5+t.height/2],w=[t.width-(t.width/2-t.height/2)-(-y+g+5+t.height/2)-5,t.height/2-t.width/2+(b-5-v+t.width/2)-5,t.width-(t.width/2-t.height/2)-(-y+g+5+t.height/2)+g,t.height/2-t.width/2+(b-5-v+t.width/2)+v+5],S=zt(w,i,t.height,t.width)):(y=Ot(-t.width/2,t.width/2,5)-v/2,b=Ot(-t.height/2,t.height/2,5)+g/2,_=[y-5+t.width/2,b-5-g+t.height/2,y+v+5+t.width/2,b+5+t.height/2],S=zt(_,i,t.width,t.height)),!S)break;if(1e3==k){_=[-1e3,-1e3,-1e3,-1e3];break}}x?(i[f].area=w,i[f].areav=_):i[f].area=_,i[f].rotate=x}break}return i}function Gt(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;a({},{type:"normal",autoColors:!0},e.extra.word);n.beginPath(),n.setFillStyle(e.background||"#FFFFFF"),n.rect(0,0,e.width,e.height),n.fill(),n.save();var o=e.chartData.wordCloudData;n.translate(e.width/2,e.height/2);for(var s=0;s<o.length;s++){n.save(),o[s].rotate&&n.rotate(90*Math.PI/180);var l=o[s].name,c=o[s].textSize,h=m(l,c);n.beginPath(),n.setStrokeStyle(o[s].color),n.setFillStyle(o[s].color),n.setFontSize(c),o[s].rotate?o[s].areav[0]>0&&(e.tooltip&&e.tooltip.index==s?n.strokeText(l,(o[s].areav[0]+5-e.width/2)*r-h*(1-r)/2,(o[s].areav[1]+5+c-e.height/2)*r):n.fillText(l,(o[s].areav[0]+5-e.width/2)*r-h*(1-r)/2,(o[s].areav[1]+5+c-e.height/2)*r)):o[s].area[0]>0&&(e.tooltip&&e.tooltip.index==s?n.strokeText(l,(o[s].area[0]+5-e.width/2)*r-h*(1-r)/2,(o[s].area[1]+5+c-e.height/2)*r):n.fillText(l,(o[s].area[0]+5-e.width/2)*r-h*(1-r)/2,(o[s].area[1]+5+c-e.height/2)*r)),n.stroke(),n.restore()}n.restore()}function Ut(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=a({},{activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,labelAlign:"right"},e.extra.funnel),l=(e.height-e.area[0]-e.area[2])/t.length,c={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.height-e.area[2]},h=s.activeWidth,u=Math.min((e.width-e.area[1]-e.area[3])/2-h,(e.height-e.area[0]-e.area[2])/2-h);t=U(t,u,r),n.save(),n.translate(c.x,c.y);for(var d=0;d<t.length;d++)0==d?(e.tooltip&&e.tooltip.index==d&&(n.beginPath(),n.setFillStyle(o(t[d].color,s.activeOpacity)),n.moveTo(-h,0),n.lineTo(-t[d].radius-h,-l),n.lineTo(t[d].radius+h,-l),n.lineTo(h,0),n.lineTo(-h,0),n.closePath(),n.fill()),t[d].funnelArea=[c.x-t[d].radius,c.y-l,c.x+t[d].radius,c.y],n.beginPath(),n.setLineWidth(s.borderWidth*e.pixelRatio),n.setStrokeStyle(s.borderColor),n.setFillStyle(o(t[d].color,s.fillOpacity)),n.moveTo(0,0),n.lineTo(-t[d].radius,-l),n.lineTo(t[d].radius,-l),n.lineTo(0,0),n.closePath(),n.fill(),1==s.border&&n.stroke()):(e.tooltip&&e.tooltip.index==d&&(n.beginPath(),n.setFillStyle(o(t[d].color,s.activeOpacity)),n.moveTo(0,0),n.lineTo(-t[d-1].radius-h,0),n.lineTo(-t[d].radius-h,-l),n.lineTo(t[d].radius+h,-l),n.lineTo(t[d-1].radius+h,0),n.lineTo(0,0),n.closePath(),n.fill()),t[d].funnelArea=[c.x-t[d].radius,c.y-l*(d+1),c.x+t[d].radius,c.y-l*d],n.beginPath(),n.setLineWidth(s.borderWidth*e.pixelRatio),n.setStrokeStyle(s.borderColor),n.setFillStyle(o(t[d].color,s.fillOpacity)),n.moveTo(0,0),n.lineTo(-t[d-1].radius,0),n.lineTo(-t[d].radius,-l),n.lineTo(t[d].radius,-l),n.lineTo(t[d-1].radius,0),n.lineTo(0,0),n.closePath(),n.fill(),1==s.border&&n.stroke()),n.translate(0,-l);return n.restore(),!1!==e.dataLabel&&1===r&&Xt(t,e,n,l,s.labelAlign,h,c),{center:c,radius:u,series:t}}function Xt(t,e,i,n,a,o,s){for(var l=0;l<t.length;l++){var c=t[l],h=void 0,u=void 0,d=void 0,f=void 0,p=c.format?c.format(+c._proportion_.toFixed(2)):r.toFixed(100*c._proportion_)+"%";"right"==a?(h=0==l?(c.funnelArea[2]+s.x)/2:(c.funnelArea[2]+t[l-1].funnelArea[2])/2,u=h+2*o,d=c.funnelArea[1]+n/2,f=c.textSize||e.fontSize,i.setLineWidth(1*e.pixelRatio),i.setStrokeStyle(c.color),i.setFillStyle(c.color),i.beginPath(),i.moveTo(h,d),i.lineTo(u,d),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(u,d),i.arc(u,d,2,0,2*Math.PI),i.closePath(),i.fill(),i.beginPath(),i.setFontSize(f),i.setFillStyle(c.textColor||"#666666"),i.fillText(p,u+5,d+f/2-2),i.closePath(),i.stroke(),i.closePath()):(h=0==l?(c.funnelArea[0]+s.x)/2:(c.funnelArea[0]+t[l-1].funnelArea[0])/2,u=h-2*o,d=c.funnelArea[1]+n/2,f=c.textSize||e.fontSize,i.setLineWidth(1*e.pixelRatio),i.setStrokeStyle(c.color),i.setFillStyle(c.color),i.beginPath(),i.moveTo(h,d),i.lineTo(u,d),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(u,d),i.arc(u,d,2,0,2*Math.PI),i.closePath(),i.fill(),i.beginPath(),i.setFontSize(f),i.setFillStyle(c.textColor||"#666666"),i.fillText(p,u-5-m(p),d+f/2-2),i.closePath(),i.stroke(),i.closePath())}}function Yt(t,e){e.draw()}var $t={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};function qt(t){this.isStop=!1,t.duration="undefined"===typeof t.duration?1e3:t.duration,t.timing=t.timing||"linear";var e=17;function i(){return"undefined"!==typeof setTimeout?function(t,e){setTimeout((function(){var e=+new Date;t(e)}),e)}:"undefined"!==typeof requestAnimationFrame?requestAnimationFrame:function(t){t(null)}}var n=i(),a=null,r=function(i){if(null===i||!0===this.isStop)return t.onProcess&&t.onProcess(1),void(t.onAnimationFinish&&t.onAnimationFinish());if(null===a&&(a=i),i-a<t.duration){var o=(i-a)/t.duration,s=$t[t.timing];o=s(o),t.onProcess&&t.onProcess(o),n(r,e)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()};r=r.bind(this),n(r,e)}function Zt(t,e,i,n){var r=this,o=e.series,s=e.categories;o=g(o,e,i);var c=e.animation?e.duration:0;r.animationInstance&&r.animationInstance.stop();var h=null;if("candle"==t){var u=a({},e.extra.candle.average);u.show?(h=l(u.day,u.name,u.color,o[0].data),h=g(h,e,i),e.seriesMA=h):h=e.seriesMA?e.seriesMA=g(e.seriesMA,e,i):o}else h=o;e._series_=o=C(o),e.area=new Array(4);for(var d=0;d<4;d++)e.area[d]=e.padding[d];var f=B(h,e,i,e.chartData),p=f.area.wholeHeight,v=f.area.wholeWidth;switch(e.legend.position){case"top":e.area[0]+=p;break;case"bottom":e.area[2]+=p;break;case"left":e.area[3]+=v;break;case"right":e.area[1]+=v;break}var m={},x=0;if("line"===e.type||"column"===e.type||"area"===e.type||"mix"===e.type||"candle"===e.type){if(m=rt(o,e,i),x=m.yAxisWidth,e.yAxis.showTitle){for(var y=0,b=0;b<e.yAxis.data.length;b++)y=Math.max(y,e.yAxis.data[b].titleFontSize?e.yAxis.data[b].titleFontSize:i.fontSize);e.area[0]+=(y+6)*e.pixelRatio}for(var _=0,w=0,k=0;k<x.length;k++)"left"==x[k].position?(e.area[3]+=w>0?x[k].width+e.yAxis.padding:x[k].width,w+=1):(e.area[1]+=_>0?x[k].width+e.yAxis.padding:x[k].width,_+=1)}else i.yAxisWidth=x;if(e.chartData.yAxisData=m,e.categories&&e.categories.length){e.chartData.xAxisData=tt(e.categories,e,i);var S=W(e.categories,e,i,e.chartData.xAxisData.eachSpacing),A=S.xAxisHeight,T=S.angle;i.xAxisHeight=A,i._xAxisTextAngle_=T,e.area[2]+=A,e.chartData.categoriesData=S}else if("line"===e.type||"area"===e.type||"points"===e.type){e.chartData.xAxisData=j(o,e,i),s=e.chartData.xAxisData.rangesFormat;var M=W(s,e,i,e.chartData.xAxisData.eachSpacing),D=M.xAxisHeight,I=M.angle;i.xAxisHeight=D,i._xAxisTextAngle_=I,e.area[2]+=D,e.chartData.categoriesData=M}else e.chartData.xAxisData={xAxisPoints:[]};if(e.enableScroll&&"right"==e.xAxis.scrollAlign&&void 0===e._scrollDistance_){var L=0,P=e.chartData.xAxisData.xAxisPoints,R=e.chartData.xAxisData.startX,E=e.chartData.xAxisData.endX,O=e.chartData.xAxisData.eachSpacing,z=O*(P.length-1),F=E-R;L=F-z,r.scrollOption={currentOffset:L,startTouchX:L,distance:0,lastMoveTime:0},e._scrollDistance_=L}switch("pie"!==t&&"ring"!==t&&"rose"!==t||(i._pieTextMaxLength_=!1===e.dataLabel?0:Z(h)),t){case"word":var N=a({},{type:"normal",autoColors:!0},e.extra.word);1!=e.updateData&&void 0!=e.updateData||(e.chartData.wordCloudData=Vt(e,N.type)),this.animationInstance=new qt({timing:"easeInOut",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),Gt(o,e,i,n,t),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"map":n.clearRect(0,0,e.width,e.height),jt(o,e,i,n);break;case"funnel":this.animationInstance=new qt({timing:"easeInOut",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),e.chartData.funnelData=Ut(o,e,i,n,t),Dt(e.series,e,i,n,e.chartData),At(e,i,n,t),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"line":this.animationInstance=new qt({timing:"easeIn",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),Ct(s,e,i,n),Tt(s,e,i,n);var a=kt(o,e,i,n,t),r=a.xAxisPoints,l=a.calPoints,c=a.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=l,e.chartData.eachSpacing=c,Mt(o,e,i,n),!1!==e.enableMarkLine&&1===t&&vt(e,i,n),Dt(e.series,e,i,n,e.chartData),At(e,i,n,t,c,r),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"mix":this.animationInstance=new qt({timing:"easeIn",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),Ct(s,e,i,n),Tt(s,e,i,n);var a=St(o,e,i,n,t),r=a.xAxisPoints,l=a.calPoints,c=a.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=l,e.chartData.eachSpacing=c,Mt(o,e,i,n),!1!==e.enableMarkLine&&1===t&&vt(e,i,n),Dt(e.series,e,i,n,e.chartData),At(e,i,n,t,c,r),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"column":this.animationInstance=new qt({timing:"easeIn",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),Ct(s,e,i,n),Tt(s,e,i,n);var a=bt(o,e,i,n,t),r=a.xAxisPoints,l=a.calPoints,c=a.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=l,e.chartData.eachSpacing=c,Mt(o,e,i,n),!1!==e.enableMarkLine&&1===t&&vt(e,i,n),Dt(e.series,e,i,n,e.chartData),At(e,i,n,t,c,r),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"area":this.animationInstance=new qt({timing:"easeIn",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),Ct(s,e,i,n),Tt(s,e,i,n);var a=wt(o,e,i,n,t),r=a.xAxisPoints,l=a.calPoints,c=a.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=l,e.chartData.eachSpacing=c,Mt(o,e,i,n),!1!==e.enableMarkLine&&1===t&&vt(e,i,n),Dt(e.series,e,i,n,e.chartData),At(e,i,n,t,c,r),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"ring":case"pie":this.animationInstance=new qt({timing:"easeInOut",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),e.chartData.pieData=It(o,e,i,n,t),Dt(e.series,e,i,n,e.chartData),At(e,i,n,t),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"rose":this.animationInstance=new qt({timing:"easeInOut",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),e.chartData.pieData=Lt(o,e,i,n,t),Dt(e.series,e,i,n,e.chartData),At(e,i,n,t),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"radar":this.animationInstance=new qt({timing:"easeInOut",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),e.chartData.radarData=Et(o,e,i,n,t),Dt(e.series,e,i,n,e.chartData),At(e,i,n,t),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new qt({timing:"easeInOut",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),e.chartData.arcbarData=Pt(o,e,i,n,t),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new qt({timing:"easeInOut",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),e.chartData.gaugeData=Rt(s,o,e,i,n,t),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break;case"candle":this.animationInstance=new qt({timing:"easeIn",duration:c,onProcess:function(t){n.clearRect(0,0,e.width,e.height),e.rotate&&lt(n,e),Ct(s,e,i,n),Tt(s,e,i,n);var a=_t(o,h,e,i,n,t),r=a.xAxisPoints,l=a.calPoints,c=a.eachSpacing;e.chartData.xAxisPoints=r,e.chartData.calPoints=l,e.chartData.eachSpacing=c,Mt(o,e,i,n),!1!==e.enableMarkLine&&1===t&&vt(e,i,n),Dt(h||e.series,e,i,n,e.chartData),At(e,i,n,t,c,r),Yt(e,n)},onAnimationFinish:function(){r.event.trigger("renderComplete")}});break}}function Jt(){this.events={}}qt.prototype.stop=function(){this.isStop=!0},Jt.prototype.addEventListener=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},Jt.prototype.trigger=function(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var a=i[0],r=i.slice(1);this.events[a]&&this.events[a].forEach((function(t){try{t.apply(null,r)}catch(i){e.error(i)}}))};var Qt=function(t){t.pixelRatio=t.pixelRatio?t.pixelRatio:1,t.fontSize=t.fontSize?t.fontSize*t.pixelRatio:13*t.pixelRatio,t.title=a({},t.title),t.subtitle=a({},t.subtitle),t.duration=t.duration?t.duration:1e3,t.yAxis=a({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,splitNumber:5,gridType:"solid",dashLength:4*t.pixelRatio,gridColor:"#cccccc",padding:10,fontColor:"#666666"},t.yAxis),t.yAxis.dashLength*=t.pixelRatio,t.yAxis.padding*=t.pixelRatio,t.xAxis=a({},{rotateLabel:!1,type:"calibration",gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc"},t.xAxis),t.xAxis.dashLength*=t.pixelRatio,t.legend=a({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:t.fontSize,lineHeight:t.fontSize,fontColor:"#333333",format:{},hiddenColor:"#CECECE"},t.legend),t.legend.borderWidth=t.legend.borderWidth*t.pixelRatio,t.legend.itemGap=t.legend.itemGap*t.pixelRatio,t.legend.padding=t.legend.padding*t.pixelRatio,t.legend.margin=t.legend.margin*t.pixelRatio,t.extra=a({},t.extra),t.rotate=!!t.rotate,t.animation=!!t.animation,t.rotate=!!t.rotate;var e=JSON.parse(JSON.stringify(n));if(e.colors=t.colors?t.colors:e.colors,e.yAxisTitleWidth=!0!==t.yAxis.disabled&&t.yAxis.title?e.yAxisTitleWidth:0,"pie"!=t.type&&"ring"!=t.type||(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.pie.labelWidth*t.pixelRatio||e.pieChartLinePadding*t.pixelRatio),"rose"==t.type&&(e.pieChartLinePadding=!1===t.dataLabel?0:t.extra.rose.labelWidth*t.pixelRatio||e.pieChartLinePadding*t.pixelRatio),e.pieChartTextPadding=!1===t.dataLabel?0:e.pieChartTextPadding*t.pixelRatio,e.yAxisSplit=t.yAxis.splitNumber?t.yAxis.splitNumber:n.yAxisSplit,e.rotate=t.rotate,t.rotate){var i=t.width,r=t.height;t.width=r,t.height=i}t.padding=t.padding?t.padding:e.padding;for(var o=0;o<4;o++)t.padding[o]*=t.pixelRatio;e.yAxisWidth=n.yAxisWidth*t.pixelRatio,e.xAxisHeight=n.xAxisHeight*t.pixelRatio,t.enableScroll&&t.xAxis.scrollShow&&(e.xAxisHeight+=6*t.pixelRatio),e.xAxisLineHeight=n.xAxisLineHeight*t.pixelRatio,e.fontSize=t.fontSize,e.titleFontSize=n.titleFontSize*t.pixelRatio,e.subtitleFontSize=n.subtitleFontSize*t.pixelRatio,e.toolTipPadding=n.toolTipPadding*t.pixelRatio,e.toolTipLineHeight=n.toolTipLineHeight*t.pixelRatio,e.columePadding=n.columePadding*t.pixelRatio,t.$this=t.$this?t.$this:this,this.context=uni.createCanvasContext(t.canvasId,t.$this),t.chartData={},this.event=new Jt,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=t,this.config=e,Zt.call(this,t.type,t,e,this.context)};Qt.prototype.updateData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=a({},this.opts,t),this.opts.updateData=!0;var e=t.scrollPosition||"current";switch(e){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":var i=rt(this.opts.series,this.opts,this.config),n=i.yAxisWidth;this.config.yAxisWidth=n;var r=0,o=tt(this.opts.categories,this.opts,this.config),s=o.xAxisPoints,l=o.startX,c=o.endX,h=o.eachSpacing,u=h*(s.length-1),d=c-l;r=d-u,this.scrollOption={currentOffset:r,startTouchX:r,distance:0,lastMoveTime:0},this.opts._scrollDistance_=r;break}Zt.call(this,this.opts.type,this.opts,this.config,this.context)},Qt.prototype.zoom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.opts.xAxis.itemCount;if(!0===this.opts.enableScroll){var i=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=t.itemCount;var n=rt(this.opts.series,this.opts,this.config),a=n.yAxisWidth;this.config.yAxisWidth=a;var r=0,o=tt(this.opts.categories,this.opts,this.config),s=o.xAxisPoints,l=o.startX,c=o.endX,h=o.eachSpacing,u=h*i,d=c-l,f=d-h*(s.length-1);r=d/2-u,r>0&&(r=0),r<f&&(r=f),this.scrollOption={currentOffset:r,startTouchX:r,distance:0,lastMoveTime:0},this.opts._scrollDistance_=r,Zt.call(this,this.opts.type,this.opts,this.config,this.context)}else e.log("请启用滚动条后使用！")},Qt.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()},Qt.prototype.addEventListener=function(t,e){this.event.addEventListener(t,e)},Qt.prototype.getCurrentDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var i=b(e,this.opts,t);return"pie"===this.opts.type||"ring"===this.opts.type||"rose"===this.opts.type?z({x:i.x,y:i.y},this.opts.chartData.pieData):"radar"===this.opts.type?P({x:i.x,y:i.y},this.opts.chartData.radarData,this.opts.categories.length):"funnel"===this.opts.type?R({x:i.x,y:i.y},this.opts.chartData.funnelData):"map"===this.opts.type?O({x:i.x,y:i.y},this.opts):"word"===this.opts.type?E({x:i.x,y:i.y},this.opts.chartData.wordCloudData):M({x:i.x,y:i.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1},Qt.prototype.getLegendDataIndex=function(t){var e=null;if(e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],e){var i=b(e,this.opts,t);return D({x:i.x,y:i.y},this.opts.chartData.legendData)}return-1},Qt.prototype.touchLegend=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;if(i=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],i){b(i,this.opts,t);var n=this.getLegendDataIndex(t);n>=0&&(this.opts.series[n].show=!this.opts.series[n].show,this.opts.animation=!!e.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,Zt.call(this,this.opts.type,this.opts,this.config,this.context))}},Qt.prototype.showToolTip=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;n=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],n||e.log("touchError");var r=b(n,this.opts,t),o=this.scrollOption.currentOffset,s=a({},this.opts,{_scrollDistance_:o,animation:!1});if("line"===this.opts.type||"area"===this.opts.type||"column"===this.opts.type){var l=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(l>-1){var c=_(this.opts.series,l);if(0!==c.length){var h=S(c,this.opts.chartData.calPoints,l,this.opts.categories,i),u=h.textList,d=h.offset;d.y=r.y,s.tooltip={textList:i.textList?i.textList:u,offset:d,option:i,index:l}}}Zt.call(this,s.type,s,this.config,this.context)}if("mix"===this.opts.type){l=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(l>-1){o=this.scrollOption.currentOffset,s=a({},this.opts,{_scrollDistance_:o,animation:!1}),c=_(this.opts.series,l);if(0!==c.length){var f=A(c,this.opts.chartData.calPoints,l,this.opts.categories,i);u=f.textList,d=f.offset;d.y=r.y,s.tooltip={textList:i.textList?i.textList:u,offset:d,option:i,index:l}}}Zt.call(this,s.type,s,this.config,this.context)}if("candle"===this.opts.type){l=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(l>-1){o=this.scrollOption.currentOffset,s=a({},this.opts,{_scrollDistance_:o,animation:!1}),c=_(this.opts.series,l);if(0!==c.length){h=T(this.opts.series[0].data,c,this.opts.chartData.calPoints,l,this.opts.categories,this.opts.extra.candle,i),u=h.textList,d=h.offset;d.y=r.y,s.tooltip={textList:i.textList?i.textList:u,offset:d,option:i,index:l}}}Zt.call(this,s.type,s,this.config,this.context)}if("pie"===this.opts.type||"ring"===this.opts.type||"rose"===this.opts.type||"funnel"===this.opts.type){l=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(l>-1){o=this.scrollOption.currentOffset,s=a({},this.opts,{_scrollDistance_:o,animation:!1}),c=this.opts._series_[l],u=[{text:i.format?i.format(c):c.name+": "+c.data,color:c.color}],d={x:r.x,y:r.y};s.tooltip={textList:i.textList?i.textList:u,offset:d,option:i,index:l}}Zt.call(this,s.type,s,this.config,this.context)}if("map"===this.opts.type||"word"===this.opts.type){l=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(l>-1){o=this.scrollOption.currentOffset,s=a({},this.opts,{_scrollDistance_:o,animation:!1}),c=this.opts._series_[l],u=[{text:i.format?i.format(c):c.properties.name,color:c.color}],d={x:r.x,y:r.y};s.tooltip={textList:i.textList?i.textList:u,offset:d,option:i,index:l}}s.updateData=!1,Zt.call(this,s.type,s,this.config,this.context)}if("radar"===this.opts.type){l=void 0==i.index?this.getCurrentDataIndex(t):i.index;if(l>-1){o=this.scrollOption.currentOffset,s=a({},this.opts,{_scrollDistance_:o,animation:!1}),c=_(this.opts.series,l);if(0!==c.length){u=c.map((function(t){return{text:i.format?i.format(t):t.name+": "+t.data,color:t.color}})),d={x:r.x,y:r.y};s.tooltip={textList:i.textList?i.textList:u,offset:d,option:i,index:l}}}Zt.call(this,s.type,s,this.config,this.context)}},Qt.prototype.translate=function(t){this.scrollOption={currentOffset:t,startTouchX:t,distance:0,lastMoveTime:0};var e=a({},this.opts,{_scrollDistance_:t,animation:!1});Zt.call(this,this.opts.type,e,this.config,this.context)},Qt.prototype.scrollStart=function(t){var e=null;e=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0];var i=b(e,this.opts,t);e&&!0===this.opts.enableScroll&&(this.scrollOption.startTouchX=i.x)},Qt.prototype.scroll=function(t){0===this.scrollOption.lastMoveTime&&(this.scrollOption.lastMoveTime=Date.now());var e=this.opts.extra.touchMoveLimit||20,i=Date.now(),n=i-this.scrollOption.lastMoveTime;if(!(n<Math.floor(1e3/e))){this.scrollOption.lastMoveTime=i;var r=null;if(r=t.changedTouches?t.changedTouches[0]:t.mp.changedTouches[0],r&&!0===this.opts.enableScroll){var o,s=b(r,this.opts,t);o=s.x-this.scrollOption.startTouchX;var l=this.scrollOption.currentOffset,h=c(this,l+o,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=o=h-l;var u=a({},this.opts,{_scrollDistance_:l+o,animation:!1});return Zt.call(this,u.type,u,this.config,this.context),l+o}}},Qt.prototype.scrollEnd=function(t){if(!0===this.opts.enableScroll){var e=this.scrollOption,i=e.currentOffset,n=e.distance;this.scrollOption.currentOffset=i+n,this.scrollOption.distance=0}},"object"===typeof t.exports&&(t.exports=Qt)}).call(this,i("5a52")["default"])},fb2c:function(t,e,i){var n=i("74e8");n("Uint32",(function(t){return function(e,i,n){return t(this,e,i,n)}}))}}]);