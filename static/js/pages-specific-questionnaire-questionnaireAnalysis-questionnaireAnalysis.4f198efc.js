(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-specific-questionnaire-questionnaireAnalysis-questionnaireAnalysis"],{"0290":function(t,e,a){var i=a("0816");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("e0459254",i,!0,{sourceMap:!1,shadowMode:!1})},"0816":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 引入uview样式 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.table-content[data-v-638f6a36]{min-width:50%;margin:%?10?% 0}.table-content .row[data-v-638f6a36]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;text-align:center;overflow:hidden;border-bottom:1px solid #eee}.table-content .row .column[data-v-638f6a36]{min-width:20%;min-height:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-left:1px solid #eee;-webkit-box-flex:1;-webkit-flex:1;flex:1}.table-content .row .column[data-v-638f6a36]:first-child{-webkit-box-flex:3;-webkit-flex:3;flex:3;text-align:left;text-indent:%?10?%}.table-content .row .column[data-v-638f6a36]:nth-child(2){display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding-right:%?10?%}.table-content .row .column[data-v-638f6a36]:last-child{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding-right:%?10?%;border-right:1px solid #eee}.table-content .row.show-list .column[data-v-638f6a36]:first-child{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-left:%?20?%;word-break:break-all;word-wrap:break-word}.table-content .row.show-list .column[data-v-638f6a36]:last-child{min-width:%?60?%;max-width:%?80?%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.table-content .row[data-v-638f6a36]:first-child{background-color:#eee;border-top:1px solid #eee;border-bottom:1px solid #eee;-webkit-border-top-left-radius:5px;border-top-left-radius:5px;-webkit-border-top-right-radius:5px;border-top-right-radius:5px}.table-content .row:first-child .column[data-v-638f6a36]{-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.table-content .row[data-v-638f6a36]:last-child{background-color:#eee;border-bottom:1px solid #eee;border-top:1px solid #eee;-webkit-border-bottom-left-radius:5px;border-bottom-left-radius:5px;-webkit-border-bottom-right-radius:5px;border-bottom-right-radius:5px}.table-content .row:last-child .column[data-v-638f6a36]{width:100%;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.table-content .pagination[data-v-638f6a36]{display:-webkit-box;display:-webkit-flex;display:flex;width:80%;margin:0 auto;height:%?80?%;padding-top:%?10?%;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;-webkit-justify-content:space-around;justify-content:space-around}.table-content .pagination .pag-btn[data-v-638f6a36]{font-size:%?20?%;background-color:#278fff;padding:0 %?20?%;line-height:%?40?%}.table-content .pagination .pag-btn.disabled[data-v-638f6a36]{background-color:#efefef}.table-content .pagination .pages-info[data-v-638f6a36]{line-height:%?50?%}',""]),t.exports=e},"0ba2":function(t,e,a){"use strict";a.r(e);var i=a("e8e0"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},1580:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 引入uview样式 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.analyze-wrap[data-v-6d7b1cff]{width:100%;max-width:%?1000?%;margin:0 auto;min-height:100vh;overflow:auto}.analyze-wrap .tab-list[data-v-6d7b1cff]{max-height:%?100?%}.analyze-wrap .tab-list .cu-item[data-v-6d7b1cff]{height:%?80?%;line-height:%?80?%}.analyze-wrap .analyze-main[data-v-6d7b1cff]{background-color:#fff;padding:%?20?% %?20?% 0;margin-top:%?10?%}.analyze-wrap .analyze-main .question-item[data-v-6d7b1cff]{border-bottom:dashed 1px #eee;padding-bottom:%?20?%;margin-bottom:%?20?%}.analyze-wrap .analyze-main .question-item .question-title[data-v-6d7b1cff]{display:-webkit-box;display:-webkit-flex;display:flex;line-height:%?50?%}.analyze-wrap .analyze-main .question-item .question-title .question-no[data-v-6d7b1cff]{font-weight:700;min-width:%?100?%}.analyze-wrap .analyze-main .question-item .question-title .question-label[data-v-6d7b1cff]{font-size:%?26?%;margin:0 %?20?%}.analyze-wrap .analyze-main .question-item .question-title .question-type[data-v-6d7b1cff]{color:#9f9f9f;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?20?%}.analyze-wrap .analyze-main .question-item .question-analyze[data-v-6d7b1cff]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.analyze-wrap .analyze-main .question-item .question-text .cu-btn[data-v-6d7b1cff]{padding:0 %?50?%}.analyze-wrap .analyze-main .question-item .nodata[data-v-6d7b1cff]{display:-webkit-box;display:-webkit-flex;display:flex;height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-weight:600;text-indent:%?20?%;color:#e54d42}.analyze-wrap .analyze-main .question-item[data-v-6d7b1cff]:last-child{border-bottom:none;-webkit-padding-after:%?60?%;padding-block-end:%?60?%;margin-bottom:0}',""]),t.exports=e},"1c59":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tableData.length>0?a("v-uni-view",{staticClass:"table-content"},[t.showList?t._e():a("v-uni-view",{staticClass:"row"},[a("v-uni-view",{staticClass:"column"},[t._v("选项")]),a("v-uni-view",{staticClass:"column"},[t._v("小计")]),a("v-uni-view",{staticClass:"column"},[t._v("比例")])],1),t.showList?a("v-uni-view",{staticClass:"row",class:{"show-list":t.showList}},[a("v-uni-view",{staticClass:"column"},[t._v("答题文本")]),a("v-uni-view",{staticClass:"column"},[t._v("次数")])],1):t._e(),t._l(t.showList?t.pagingData:t.tableData,(function(e){return a("v-uni-view",{key:e.id,staticClass:"row",class:{"show-list":t.showList}},[t.showList?t._e():a("v-uni-text",{staticClass:"column"},[t._v(t._s(e.label))]),a("v-uni-text",{staticClass:"column"},[t._v(t._s(e.value))]),t.showList?a("v-uni-text",{staticClass:"column"},[t._v(t._s(t.optionData[e.value]))]):t._e(),e.ratio?a("v-uni-text",{staticClass:"column"},[t._v(t._s(e.ratio))]):t._e()],1)})),a("v-uni-view",{staticClass:"row"},[t.showList?t._e():a("v-uni-text",{staticClass:"column"},[t._v("本题填写有效人次:"+t._s(t.amount))])],1),t.showList&&t.amount>t.pageSize?a("v-uni-view",{staticClass:"pagination"},[a("v-uni-button",{staticClass:"cu-btn sm",attrs:{disabled:1===t.pageNo},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePage("up")}}},[t._v("上一页")]),a("v-uni-view",{staticClass:"pages-info"},[a("v-uni-text",{staticClass:"current text-blue"},[t._v(t._s(t.pageNo))]),t._v("/"),a("v-uni-text",{staticClass:"total"},[t._v(t._s(t.totalPage))])],1),a("v-uni-button",{staticClass:"cu-btn sm",attrs:{disabled:t.pageNo===t.totalPage},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changePage("down")}}},[t._v("下一页")])],1):t._e()],2):t._e()},r=[]},3223:function(t,e,a){"use strict";a.r(e);var i=a("dd1a"),n=a("da40");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("a2cd");var s,o=a("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"6d7b1cff",null,!1,i["a"],s);e["default"]=c.exports},"37b6":function(t,e,a){var i=a("1580");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("214c48a4",i,!0,{sourceMap:!1,shadowMode:!1})},5378:function(t,e,a){"use strict";a.r(e);var i=a("82e3"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"5da1":function(t,e,a){"use strict";var i=a("78ee"),n=a.n(i);n.a},6062:function(t,e,a){"use strict";var i=a("6d61"),n=a("6566");t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n)},6566:function(t,e,a){"use strict";var i=a("9bf2").f,n=a("7c73"),r=a("e2cc"),s=a("0366"),o=a("19aa"),c=a("2266"),l=a("7dd0"),u=a("2626"),d=a("83ab"),f=a("f183").fastKey,h=a("69f3"),p=h.set,v=h.getterFor;t.exports={getConstructor:function(t,e,a,l){var u=t((function(t,i){o(t,u,e),p(t,{type:e,index:n(null),first:void 0,last:void 0,size:0}),d||(t.size=0),void 0!=i&&c(i,t[l],t,a)})),h=v(e),b=function(t,e,a){var i,n,r=h(t),s=g(t,e);return s?s.value=a:(r.last=s={index:n=f(e,!0),key:e,value:a,previous:i=r.last,next:void 0,removed:!1},r.first||(r.first=s),i&&(i.next=s),d?r.size++:t.size++,"F"!==n&&(r.index[n]=s)),t},g=function(t,e){var a,i=h(t),n=f(e);if("F"!==n)return i.index[n];for(a=i.first;a;a=a.next)if(a.key==e)return a};return r(u.prototype,{clear:function(){var t=this,e=h(t),a=e.index,i=e.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete a[i.index],i=i.next;e.first=e.last=void 0,d?e.size=0:t.size=0},delete:function(t){var e=this,a=h(e),i=g(e,t);if(i){var n=i.next,r=i.previous;delete a.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),a.first==i&&(a.first=n),a.last==i&&(a.last=r),d?a.size--:e.size--}return!!i},forEach:function(t){var e,a=h(this),i=s(t,arguments.length>1?arguments[1]:void 0,3);while(e=e?e.next:a.first){i(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!g(this,t)}}),r(u.prototype,a?{get:function(t){var e=g(this,t);return e&&e.value},set:function(t,e){return b(this,0===t?0:t,e)}}:{add:function(t){return b(this,t=0===t?0:t,t)}}),d&&i(u.prototype,"size",{get:function(){return h(this).size}}),u},setStrong:function(t,e,a){var i=e+" Iterator",n=v(e),r=v(i);l(t,e,(function(t,e){p(this,{type:i,target:t,state:n(t),kind:e,last:void 0})}),(function(){var t=r(this),e=t.kind,a=t.last;while(a&&a.removed)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?"keys"==e?{value:a.key,done:!1}:"values"==e?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),u(e)}}},"78ee":function(t,e,a){var i=a("b4b8");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("34628551",i,!0,{sourceMap:!1,shadowMode:!1})},"82e3":function(t,e,a){"use strict";var i=a("4ea4");a("4160"),a("fb6a"),a("4e82"),a("a9e3"),a("b64b"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=i(a("f850")),s={name:"custom-chart",data:function(){return{selected:"pie",isShowChart:!1,pixelRatio:1,canvasChart:null,cWidth:0,cHeight:0,piearr:[],chartData:{}}},computed:{canvasId:function(){return"chart"+this.chartId}},watch:{selected:function(t,e){t&&this.initChart()}},props:{chartId:{type:Number,default:null},originData:{type:Object,default:function(){return{}}}},methods:{changeChartType:function(t){var e=this;if(this.isShowChart=!1,this.selected=this.selected===t?"":t,this.originData&&"object"===typeof this.originData){var a=this.deepClone(this.originData),i=Object.keys(a),n={categories:[],series:[]};n.categories=[];var r=[];i.forEach((function(t){var i=t;t.length>10&&(i=t.slice(0,10)+"..."),n.categories.push(i),"pie"===e.selected||"ring"===e.selected?n.series.push({name:i,data:a[t]}):"column"!==e.selected&&"line"!==e.selected||r.push(a[t])})),"column"!==this.selected&&"line"!==this.selected||(n.series=[{name:"",data:r}]),this.chartData=n}this.selected&&(this.isShowChart=!0,this.canvasChart&&this.canvasChart.stopAnimation(),this.initChart())},initChart:function(){this.chartData&&this.chartData.series&&this.showChart(this.canvasId,this.chartData,this.selected)},buildChartData:function(){},showChart:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pie",i=0;if(this.chartData.series&&Array.isArray(this.chartData.series)&&this.chartData.series.length>0&&("line"===a||"column"===a)){i=this.chartData.series[0].data.sort((function(t,e){return e-t}))[0];for(var s=1,o=0;o<10;o++){if(i<Math.pow(10,s)&&i>Math.pow(10,s-1)){i+=Math.pow(10,s-1);break}s++}}var c={};switch(a){case"pie":c={$this:this,canvasId:t,type:"pie",fontSize:11,legend:{show:!0,position:"right",float:"right",itemGap:10,lineHeight:26,borderWidth:1},background:"#FFFFFF",pixelRatio:1,series:e.series,animation:!0,duration:1e3,width:this.cWidth,height:this.cHeight,dataLabel:!0,extra:{pie:{labelWidth:10}}};break;case"ring":c={$this:this,canvasId:t,type:"ring",fontSize:11,legend:{show:!0,position:"right",float:"center",itemGap:10,lineHeight:26,borderWidth:1},extra:{pie:{offsetAngle:-35,labelWidth:10}},background:"#FFFFFF",pixelRatio:1,series:e.series,animation:!0,duration:1e3,width:this.cWidth,height:this.cHeight,disablePieStroke:!1,dataLabel:!0};break;case"column":c={$this:this,canvasId:t,type:"column",legend:{show:!1},fontSize:11,background:"#FFFFFF",pixelRatio:1,animation:!0,duration:1e3,categories:e.categories,series:e.series,xAxis:{disableGrid:!0,rotateLabel:!0},yAxis:{min:0,max:i},dataLabel:!0,width:this.cWidth,height:this.cHeight,extra:{column:{type:"group",width:20}}};break;case"line":c={$this:n,canvasId:t,type:"line",fontSize:11,legend:{show:!1},dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:1,categories:e.categories,series:e.series,animation:!0,duration:1e3,xAxis:{type:"grid",gridColor:"#CCCCCC",gridType:"dash",rotateLabel:!0},yAxis:{min:0,max:i},width:this.cWidth,height:this.cHeight,extra:{line:{type:"straight"}}};break}this.canvasChart&&this.canvasChart.stopAnimation(),this.canvasChart=new r.default(c)},touchChart:function(t){var e=this;this.canvasChart.showToolTip(t,{format:function(t,a){return"ring"===e.selected||"pie"===e.selected?t.name+":"+t.data:"column"===e.selected||"line"===e.selected?a+":"+t.data:void 0}})}},mounted:function(){n=this,this.cWidth=uni.upx2px(700),this.cHeight=uni.upx2px(400),this.changeChartType("pie")}};e.default=s},"871e":function(t,e,a){"use strict";(function(t){var i=a("4ea4");a("4de4"),a("4160"),a("d81d"),a("a9e3"),a("b64b"),a("d3b7"),a("6062"),a("3ca3"),a("159b"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("2909"));a("96cf");var r=i(a("1da1")),s=i(a("f4e6")),o=i(a("dad5")),c=(i(a("f850")),i(a("e6f3"))),l={name:"questionnaireAnalysis",data:function(){return{activityData:{},viewCfg:{},currentTab:0,scrollLeft:0,tabList:[{index:0,label:"统计结果"},{index:1,label:"详细数据"}],questionList:[],chartData:{},recordServiceName:"srvdaq_record_reply_select",listData:[],listConfig:{},viewTemp:{title:"user_no",tip:"user_type",footer:"create_time"},page:{total:0,pageNo:1,rownumber:5}}},components:{BxTable:s.default,CustomChart:o.default,bxList:c.default},computed:{activity_no:function(){if(this.$route.query&&this.$route.query.activity_no)return this.$route.query.activity_no}},methods:{changeTab:function(t){this.currentTab=Number(t.currentTarget.dataset.id),this.scrollLeft=60*(t.currentTarget.dataset.id-1),0===this.currentTab?document.title="统计结果":1===this.currentTab&&(document.title="详细数据")},toDetail:function(e,a){t.log(e),e.itemValue&&Object.keys(e.itemValue).length>0?(e.showList=!e.showList,this.$set(this.questionList,a,e)):uni.showToast({title:"没有填写记录!",icon:"none"})},getChartData:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a={categories:["男","女"],series:[{name:"男",data:[35]},{name:"女",data:[70]}]},a={categories:["2012","2013","2014","2015","2016","2017"],series:[{name:"成交量1",data:[15,{value:20,color:"#f04864"},45,37,43,34]},{name:"成交量2",data:[30,{value:40,color:"#facc14"},25,14,34,18]}]},t.chartData=a;case 3:case"end":return e.stop()}}),e)})))()},getActivityInfo:function(e){var a=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var n,r,s,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=a,r=a.getServiceUrl("daq","srvdaq_init_view_select","select"),s={serviceName:"srvdaq_init_view_select",condition:[{colName:"activity_no",ruleType:"eq",value:e},{colName:"biz_type",ruleType:"eq",value:"cfg"}]},i.next=5,a.$http.post(r,s);case 5:o=i.sent,t.log("srvdaq_init_view_select",o),"SUCCESS"===o.data.state&&o.data.data.length>0&&(n.activityData=o.data.data[0],a.getActivityRecordList(),a.getChartData());case 8:case"end":return i.stop()}}),i)})))()},getActivityRecordList:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.query.activity_no){e.next=8;break}return a=t.getServiceUrl("daq","srvdaq_record_reply_select","select"),i={serviceName:"srvdaq_record_reply_select",colNames:["*"],condition:[{colName:"activity_no",ruleType:"eq",value:t.$route.query.activity_no}]},e.next=5,t.$http.post(a,i);case 5:if(n=e.sent,"SUCCESS"!==n.data.state){e.next=8;break}return e.delegateYield(regeneratorRuntime.mark((function e(){var a,i,r,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=n.data.data,a.map((function(t){return t.fill_batch_no})),i=["srvdaq_storage_text_select","srvdaq_storage_number_select","srvdaq_storage_date_select","srvdaq_storage_option_select"],r=[],s=t.deepClone(t.activityData.item_data),o=regeneratorRuntime.mark((function e(a){var n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i[a],e.next=3,t.getTypeOptionList(n);case 3:o=e.sent,s.map((function(t){o.forEach((function(e){t.item_no===e.item_no&&(t.itemValue=e.val,t.showList=!1,r.push(t))}))}));case 5:case"end":return e.stop()}}),e)})),c=0;case 7:if(!(c<i.length)){e.next=12;break}return e.delegateYield(o(c),"t0",9);case 9:c++,e.next=7;break;case 12:s=s.filter((function(t){return"图片"!==t.item_type})),t.questionList=s;case 14:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:case"end":return e.stop()}}),e)})))()},getTypeOptionList:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i,r,s,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.getServiceUrl("daq",t,"select"),r={serviceName:t,colNames:["*"],group:[{colName:"item_no",type:"by"},{colName:"fill_batch_no",type:"by"},{colName:"option_value",type:"by"}],condition:[{colName:"activity_no",ruleType:"eq",value:e.$route.query.activity_no}]},a.next=4,e.$http.post(i,r);case 4:if(s=a.sent,"SUCCESS"!==s.data.state){a.next=10;break}return o=s.data.data,c=(0,n.default)(new Set(o.map((function(t){return t.item_no})))),l=c.map((function(t){var e={item_no:t,val:{}};return o.forEach((function(a){a.item_no===t&&(e.val[a.option_value]=e.val[a.option_value]?e.val[a.option_value]+1:1)})),e})),a.abrupt("return",l);case 10:case"end":return a.stop()}}),a)})))()},clickItem:function(e){t.log("questionData",e),e.fill_batch_no&&uni.navigateTo({url:"/pages/specific/questionnaire/questionnaire?questionData="+encodeURIComponent(JSON.stringify(e))})},clickFootBtn:function(e){t.log(e)},getListData:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a,i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.serviceName,i=t.getServiceUrl("daq",a,"select"),n={serviceName:a,colNames:["*"],condition:[{colName:"activity_no",ruleType:"eq",value:t.activity_no}]},e.next=5,t.$http.post(i,n);case 5:r=e.sent,"SUCCESS"===r.data.state&&(t.listData=r.data.data,t.page.total=r.data.page.total,t.page.pageNo=r.data.page.pageNo);case 7:case"end":return e.stop()}}),e)})))()},getListV2:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.getServiceV2("srvdaq_record_reply_select","list","list","daq");case 2:return i=a.sent,i.srv_cols=i.srv_cols.filter((function(t){return 1===t.in_list})),t.log("colVs",i),e.listConfig=i,a.abrupt("return",i);case 7:case"end":return a.stop()}}),a)})))()}},onLoad:function(){document.title="统计结果"},created:function(){this.$route.query&&this.$route.query.activity_no&&(this.getActivityInfo(this.$route.query.activity_no),this.condition=[{colName:"activity_no",ruleType:"eq",value:this.$route.query.activity_no}],this.getListV2().then((function(){})))},watch:{activityData:{handler:function(t,e){t.item_data&&Array.isArray(t.item_data)||(t.item_data=[])}}}};e.default=l}).call(this,a("5a52")["default"])},"9cfe":function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"chart-wrap"},[a("v-uni-view",{staticClass:"button-group"},[a("v-uni-view",{staticClass:"button radius",class:{"bg-blue":"pie"===t.selected},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeChartType("pie")}}},[a("i",{staticClass:"fa fa-pie-chart fa-x margin-right-xs"}),t._v("饼图")]),a("v-uni-view",{staticClass:"button radius",class:{"bg-blue":"ring"===t.selected},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeChartType("ring")}}},[a("i",{staticClass:"fa fa-circle-o-notch fa-x margin-right-xs"}),t._v("圆环")]),a("v-uni-view",{staticClass:"button radius",class:{"bg-blue":"column"===t.selected},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeChartType("column")}}},[a("i",{staticClass:"fa fa-bar-chart fa-x margin-right-xs"}),t._v("柱状")]),a("v-uni-view",{staticClass:"button radius",class:{"bg-blue":"line"===t.selected},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeChartType("line")}}},[a("i",{staticClass:"fa fa-line-chart fa-x margin-right-xs"}),t._v("折线")])],1),t.isShowChart?a("v-uni-view",{staticClass:"chart-area"},[a("v-uni-canvas",{staticClass:"charts",attrs:{"canvas-id":t.canvasId,id:t.canvasId},on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchChart.apply(void 0,arguments)}}})],1):t._e()],1)},r=[]},a2cd:function(t,e,a){"use strict";var i=a("37b6"),n=a.n(i);n.a},b4b8:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 引入uview样式 */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.chart-wrap[data-v-1abe1816]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:100%;margin-bottom:%?20?%}.chart-wrap .button-group[data-v-1abe1816]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.chart-wrap .button-group .button[data-v-1abe1816]{padding:%?6?% %?14?%;margin:0 %?5?%}.chart-wrap .button-group .button[data-v-1abe1816]:not([class*="bg-"]){background-color:#f0f0f0}.chart-wrap .chart-area .charts[data-v-1abe1816]{width:100%;height:%?400?%}',""]),t.exports=e},c9aa:function(t,e,a){"use strict";var i=a("0290"),n=a.n(i);n.a},da40:function(t,e,a){"use strict";a.r(e);var i=a("871e"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},dad5:function(t,e,a){"use strict";a.r(e);var i=a("9cfe"),n=a("5378");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("5da1");var s,o=a("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"1abe1816",null,!1,i["a"],s);e["default"]=c.exports},dd1a:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={bxList:a("e6f3").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"analyze-wrap"},[a("v-uni-scroll-view",{staticClass:"bg-white nav text-center tab-list",attrs:{"scroll-x":!0,"scroll-with-animation":!0}},t._l(t.tabList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"cu-item",class:i==t.currentTab?"text-blue cur":"",attrs:{"data-id":i},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.changeTab.apply(void 0,arguments)}}},[t._v(t._s(e.label))])})),1),t.questionList&&t.questionList.length>0&&0===t.currentTab?a("v-uni-view",{staticClass:"analyze-main"},t._l(t.questionList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"question-item"},[a("v-uni-view",{staticClass:"question-title"},[a("v-uni-text",{staticClass:"question-no"},[t._v("第"+t._s(i+1)+"题:")]),a("v-uni-text",{staticClass:"question-label"},[t._v(t._s(e.item_title))]),a("v-uni-text",{staticClass:"question-type"},[t._v("["+t._s(e.item_type)+"]")])],1),"选项"===e.item_type&&e.itemValue&&Object.keys(e.itemValue).length>0?a("v-uni-view",{staticClass:"question-analyze"},[a("bx-table",{attrs:{optionData:e.itemValue}}),a("custom-chart",{attrs:{chartId:e.id,originData:e.itemValue}})],1):t._e(),"选项"!==e.item_type||e.itemValue?t._e():a("v-uni-view",{staticClass:"nodata"},[t._v("本填写有效人次为0")]),"选项"!==e.item_type?a("v-uni-view",{staticClass:"question-text"},[a("v-uni-view",{staticClass:"cu-btn line-blue",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.toDetail(e,i)}}},[t._v(t._s(e.showList?"收起详细信息 "+(e.itemValue?Object.keys(e.itemValue).length:0)+" ":"查看详细信息  "+(e.itemValue?Object.keys(e.itemValue).length:0)+" "))])],1):t._e(),e.showList?a("v-uni-view",{staticClass:"detail-list"},[a("bx-table",{attrs:{optionData:e.itemValue,showList:"选项"!==e.item_type}})],1):t._e(),a("v-uni-view",{})],1)})),1):t._e(),t.activityData.item_data&&1===t.currentTab?a("bx-list",{ref:"bxList",attrs:{serviceName:"srvdaq_record_reply_select",condition:[{colName:"activity_no",ruleType:"eq",value:this.$route.query.activity_no}],pageType:"list",viewTemp:t.viewTemp,fixed:!0,top:-8,listConfig:t.listConfig,rownumber:10,showFootBtn:!1},on:{"click-list-item":function(e){arguments[0]=e=t.$handleEvent(e),t.clickItem.apply(void 0,arguments)},clickFootBtn:function(e){arguments[0]=e=t.$handleEvent(e),t.clickFootBtn.apply(void 0,arguments)}}}):t._e()],1)},r=[]},e8e0:function(t,e,a){"use strict";a("4160"),a("fb6a"),a("a9e3"),a("b680"),a("b64b"),a("d3b7"),a("25f0"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"bx-table",data:function(){return{pageNo:1,pageSize:10,pagingData:[]}},computed:{totalPage:function(){return Math.ceil(this.amount/this.pageSize)},amount:function(){var t=this,e=0;return"object"!==typeof this.optionData||this.showList?this.showList&&(e=Object.keys(this.optionData).length):Object.keys(this.optionData).length>0&&Object.keys(this.optionData).forEach((function(a){"NaN"!==Number(t.optionData[a]).toString()&&(e+=Number(t.optionData[a]))})),e},tableData:function(){var t=this,e=[],a=this.amount;return"object"===typeof this.optionData&&Object.keys(this.optionData).forEach((function(i,n){t.showList?e.push({label:n+1,value:i}):e.push({label:i,value:t.optionData[i],ratio:(100*Number(t.optionData[i])/a).toFixed(2).toString()+"%"})})),e}},watch:{tableData:{immediate:!0,handler:function(t,e){t&&Array.isArray(t)&&t.length>0&&(this.pagingData=this.pagination(this.pageNo,this.pageSize,t))}}},props:{colList:{type:Array,default:function(){return[{label:"年"},{label:"日"},{label:"月"}]}},dataList:{type:Array,default:function(){return[]}},optionData:{type:Object,default:function(){}},showList:{type:Boolean,default:!1}},methods:{changePage:function(t){var e=this.pageNo,a=this.pageSize,i=this.tableData,n=this.totalPage;switch(t){case"up":e>1?e--:e=1;break;case"down":e!==n&&e++;break}this.pageNo=e,this.pagingData=this.pagination(e,a,i)},pagination:function(t,e,a){var i=(t-1)*e;return i+e>=a.length?a.slice(i,a.length):a.slice(i,i+e)}}};e.default=i},f4e6:function(t,e,a){"use strict";a.r(e);var i=a("1c59"),n=a("0ba2");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("c9aa");var s,o=a("f0c5"),c=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"638f6a36",null,!1,i["a"],s);e["default"]=c.exports}}]);